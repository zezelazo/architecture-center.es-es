---
title: 'Centro de datos virtual de Azure: Una perspectiva de la red'
description: Aprenda a crear su centro de datos virtual en Azure
author: tracsman
manager: rossort
tags: azure-resource-manager
ms.service: virtual-network
ms.date: 11/28/2018
ms.author: jonor
ms.openlocfilehash: 1d8a9e860ab1a66104dc4133eb5f22ffb4706b84
ms.sourcegitcommit: 5a3fa0bf35376bbe4a6dd668f2d7d44f9cf9c806
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/14/2018
ms.locfileid: "53411691"
---
# <a name="azure-virtual-datacenter-a-network-perspective"></a><span data-ttu-id="618cb-103">Centro de datos virtual de Azure: Una perspectiva de la red</span><span class="sxs-lookup"><span data-stu-id="618cb-103">Azure virtual datacenter: A network perspective</span></span>

## <a name="overview"></a><span data-ttu-id="618cb-104">Introducción</span><span class="sxs-lookup"><span data-stu-id="618cb-104">Overview</span></span>

<span data-ttu-id="618cb-105">La migración de aplicaciones locales a Azure proporciona a las organizaciones las ventajas de una infraestructura segura y rentable, aunque las aplicaciones se migren con unos cambios mínimos.</span><span class="sxs-lookup"><span data-stu-id="618cb-105">Migrating on-premises applications to Azure provides organizations the benefits of a secured and cost-efficient infrastructure, even if the applications are migrated with minimal changes.</span></span> <span data-ttu-id="618cb-106">Sin embargo, para sacar el máximo partido de la agilidad de la informática en la nube, las empresas deben evolucionar sus arquitecturas para aprovechar las funcionalidades de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-106">However, to make the most of the agility possible with cloud computing, enterprises must evolve their architectures to take advantage of Azure capabilities.</span></span> 

<span data-ttu-id="618cb-107">Microsoft Azure ofrece servicios y una infraestructura a gran escala, con funcionalidades de calidad empresarial y total confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="618cb-107">Microsoft Azure delivers hyper-scale services and infrastructure with enterprise-grade capabilities and reliability.</span></span> <span data-ttu-id="618cb-108">Estos servicios y esta infraestructura ofrecen muchas opciones de conectividad híbrida, así que los clientes pueden elegir acceder a ellos de forma pública a través de Internet, o bien a través de una conexión Azure ExpressRoute privada.</span><span class="sxs-lookup"><span data-stu-id="618cb-108">These services and infrastructure offer many choices in hybrid connectivity so customers can choose to access them over the public internet or over a private Azure ExpressRoute connection.</span></span> <span data-ttu-id="618cb-109">Los asociados de Microsoft también proporcionan funcionalidades mejoradas al ofrecer servicios de seguridad y aplicaciones virtuales optimizados para su ejecución en Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-109">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

<span data-ttu-id="618cb-110">Los clientes pueden elegir acceder a estos servicios en la nube a través de Internet o con Azure ExpressRoute, que proporciona conectividad de red privada.</span><span class="sxs-lookup"><span data-stu-id="618cb-110">Customers can choose to access these cloud services either via the internet or with Azure ExpressRoute, which provides private network connectivity.</span></span> <span data-ttu-id="618cb-111">Con la plataforma Microsoft Azure, los clientes pueden ampliar su infraestructura en la nube sin problemas y crear arquitecturas de varios niveles.</span><span class="sxs-lookup"><span data-stu-id="618cb-111">With the Microsoft Azure platform, customers can seamlessly extend their infrastructure into the cloud and build multi-tier architectures.</span></span> <span data-ttu-id="618cb-112">Los asociados de Microsoft también proporcionan funcionalidades mejoradas al ofrecer servicios de seguridad y aplicaciones virtuales optimizados para su ejecución en Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-112">Microsoft partners also provide enhanced capabilities by offering security services and virtual appliances that are optimized to run in Azure.</span></span>

## <a name="what-is-the-virtual-datacenter"></a><span data-ttu-id="618cb-113">¿Qué es el centro de datos virtual?</span><span class="sxs-lookup"><span data-stu-id="618cb-113">What is the Virtual datacenter?</span></span>

<span data-ttu-id="618cb-114">En sus orígenes, la nube era básicamente una plataforma para hospedar aplicaciones orientadas al público.</span><span class="sxs-lookup"><span data-stu-id="618cb-114">At its inception, the cloud was essentially a platform for hosting public-facing applications.</span></span> <span data-ttu-id="618cb-115">Las empresas comenzaron a entender el valor de la nube y a mover las aplicaciones de línea de negocio internas a la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-115">Enterprises began to understand the value of the cloud and began to move internal line-of-business applications to the cloud.</span></span> <span data-ttu-id="618cb-116">Dichos tipos de aplicaciones incluyeron factores adicionales de seguridad, confiabilidad, rendimiento y costo que requerían mayor flexibilidad en la forma en que se prestaban los servicios en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-116">These types of applications brought additional security, reliability, performance, and cost considerations that required additional flexibility in the way cloud services were delivered.</span></span> <span data-ttu-id="618cb-117">Esto allanó el camino a una nueva infraestructura y unos nuevos servicios de red diseñados para proporcionar dicha flexibilidad, pero también a nuevas características de escalabilidad, recuperación ante desastres y otras consideraciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-117">This paved the way for new infrastructure and networking services designed to provide this flexibility but also new features for scale, disaster recovery, and other considerations.</span></span>

## <a name="what-is-a-virtual-datacenter"></a><span data-ttu-id="618cb-118">¿Qué es un centro de datos virtual?</span><span class="sxs-lookup"><span data-stu-id="618cb-118">What is a virtual datacenter?</span></span>
<span data-ttu-id="618cb-119">Las soluciones en la nube se diseñaron para hospedar aplicaciones únicas y relativamente aisladas en el espectro público.</span><span class="sxs-lookup"><span data-stu-id="618cb-119">Cloud solutions were first designed to host single, relatively isolated applications in the public spectrum.</span></span> <span data-ttu-id="618cb-120">Este método funcionó bien unos años.</span><span class="sxs-lookup"><span data-stu-id="618cb-120">This approach worked well for a few years.</span></span> <span data-ttu-id="618cb-121">Posteriormente, las ventajas de las soluciones en la nube se hicieron obvias y se hospedaban muchas cargas de trabajo a gran escala en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-121">Then the benefits of cloud solutions became apparent, and multiple large-scale workloads were hosted on the cloud.</span></span> <span data-ttu-id="618cb-122">Dar respuesta a los problemas de seguridad, confiabilidad, rendimiento y costo de las implementaciones en una o varias regiones resultó ser vital a lo largo del ciclo de vida del servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-122">Addressing security, reliability, performance, and cost concerns of deployments in one or more regions became vital throughout the life cycle of the cloud service.</span></span>

<span data-ttu-id="618cb-123">El siguiente diagrama de implementación en la nube muestra un ejemplo de una brecha de seguridad en el **recuadro rojo**.</span><span class="sxs-lookup"><span data-stu-id="618cb-123">The following cloud deployment diagram shows an example of a security gap in the **red box**.</span></span> <span data-ttu-id="618cb-124">El **recuadro amarillo** muestra áreas de optimización de aplicaciones virtuales de red en las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-124">The **yellow box** shows room for optimization network virtual appliances across workloads.</span></span>

<span data-ttu-id="618cb-125">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="618cb-125">[![0]][0]</span></span>

<span data-ttu-id="618cb-126">El centro de datos virtual (VDC) es un concepto que nació de la necesidad de escalado para soportar las cargas de trabajo de la empresa, sin perder de vista la necesidad de tratar los problemas surgidos al dar soporte a aplicaciones a gran escala en la nube pública.</span><span class="sxs-lookup"><span data-stu-id="618cb-126">The Virtual datacenter (VDC) is a concept born of the necessity for scaling to support enterprise workloads while balancing the need to deal with the problems introduced when supporting large-scale applications in the public cloud.</span></span>

<span data-ttu-id="618cb-127">La implementación de un centro de datos virtual no solo representa las cargas de trabajo de las aplicaciones en la nube, sino también la red, seguridad, administración e infraestructura (por ejemplo, los servicios de directorio y el DNS).</span><span class="sxs-lookup"><span data-stu-id="618cb-127">A VDC implementation does not just represent the application workloads in the cloud, but also the network, security, management, and infrastructure  (for example, DNS and Directory Services).</span></span> <span data-ttu-id="618cb-128">Dado que cada vez se mueven más cargas de trabajo de las empresas a Azure, es importante pensar en la infraestructura de soporte y en los objetos en los que se colocan dichas cargas.</span><span class="sxs-lookup"><span data-stu-id="618cb-128">As more and more of an enterprise's workloads move to Azure, it's important they think about the supporting infrastructure and objects these workloads are placed in.</span></span> <span data-ttu-id="618cb-129">Pensar detenidamente sobre cómo se estructuran los recursos puede evitar la proliferación de cientos de "islas de cargas de trabajo" que deben administrarse por separado con flujo de datos y modelos de seguridad independientes y desafíos de cumplimiento de normas.</span><span class="sxs-lookup"><span data-stu-id="618cb-129">Thinking carefully about how resources are structured can avoid the proliferation of hundreds of "workload islands" that must be managed separately with independent data flow, security models, and compliance challenges.</span></span>

<span data-ttu-id="618cb-130">El concepto de centro de datos virtual es un conjunto de recomendaciones y procedimientos recomendados para implementar una colección de entidades independientes, pero relacionadas, en características, funciones auxiliare y una infraestructura comunes.</span><span class="sxs-lookup"><span data-stu-id="618cb-130">The VDC concept is a set of recommendations and best practices for implementing a collection of separate but related entities with common supporting functions, features, and infrastructure.</span></span> <span data-ttu-id="618cb-131">Si mira las cargas de trabajo a través de la lente del centro de datos virtual, es posible que se dé cuenta de la reducción de costos que aportan las economías de escala y de la optimización de la seguridad que se logra con la centralización de los componentes y flujos de datos, además de la facilidad para realizar las distintas operaciones, la administración y las auditorías.</span><span class="sxs-lookup"><span data-stu-id="618cb-131">By viewing your workloads through the lens of the VDC, you can realize reduced cost due to economies of scale, optimized security through component and data flow centralization, along with easier operations, management, and compliance audits.</span></span>

> [!NOTE]
> <span data-ttu-id="618cb-132">Es importante saber que el centro de datos virtual **NO** es un producto independiente de Azure, sino una combinación de varias características y funcionalidades para satisfacer sus necesidades exactas.</span><span class="sxs-lookup"><span data-stu-id="618cb-132">It's important to understand that the VDC is **NOT** a discrete Azure product, but the combination of various features and capabilities to meet your exact requirements.</span></span> <span data-ttu-id="618cb-133">Un centro de datos virtual es una manera de pensar en sus cargas de trabajo y el uso de Azure para maximizar los recursos y funcionalidades en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-133">The VDC is a way of thinking about your workloads and Azure usage to maximize your resources and abilities in the cloud.</span></span> <span data-ttu-id="618cb-134">Es un enfoque modular para la creación de los servicios de TI en Azure, al mismo tiempo que se respetan los roles organizativos y las responsabilidades de la empresa.</span><span class="sxs-lookup"><span data-stu-id="618cb-134">It's a modular approach to building up IT services in Azure while respecting the enterprise's organizational roles and responsibilities.</span></span>

<span data-ttu-id="618cb-135">La implementación de un centro de datos virtual puede ayudar a que las empresas lleven cargas de trabajo y aplicaciones a Azure en los siguientes escenarios:</span><span class="sxs-lookup"><span data-stu-id="618cb-135">A VDC implementation can help enterprises get workloads and applications into Azure for the following scenarios:</span></span>

-   <span data-ttu-id="618cb-136">Hospedaje de varias cargas de trabajo relacionadas.</span><span class="sxs-lookup"><span data-stu-id="618cb-136">Host multiple related workloads.</span></span>
-   <span data-ttu-id="618cb-137">Migración de cargas de trabajo desde un entorno local a Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-137">Migrate workloads from an on-premises environment to Azure.</span></span>
-   <span data-ttu-id="618cb-138">Implementación de requisitos de seguridad y acceso compartido o centralizado para las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-138">Implement shared or centralized security and access requirements across workloads.</span></span>
-   <span data-ttu-id="618cb-139">Combinación de Azure DevOps y TI centralizada adecuada para una gran empresa.</span><span class="sxs-lookup"><span data-stu-id="618cb-139">Mix Azure DevOps and centralized IT appropriately for a large enterprise.</span></span>

<span data-ttu-id="618cb-140">La clave para desbloquear las ventajas del centro de datos virtual es una topología en estrella tipo hub-and-spoke centralizada, con una mezcla de características de Azure:</span><span class="sxs-lookup"><span data-stu-id="618cb-140">The key to unlock the advantages of the VDC is a centralized topology, hub and spokes, with a mix of Azure features:</span></span> 

- <span data-ttu-id="618cb-141">[Azure Virtual Network][VNet].</span><span class="sxs-lookup"><span data-stu-id="618cb-141">[Azure Virtual Network][VNet].</span></span> 
- <span data-ttu-id="618cb-142">[Grupos de seguridad de red (NSG)][NSG].</span><span class="sxs-lookup"><span data-stu-id="618cb-142">[Network security groups (NSGs)][NSG].</span></span>
- <span data-ttu-id="618cb-143">[Emparejamiento de redes virtuales][VNetPeering].</span><span class="sxs-lookup"><span data-stu-id="618cb-143">[Virtual network peering][VNetPeering].</span></span> 
- <span data-ttu-id="618cb-144">[Rutas definidas por el usuario (UDR)][UDR].</span><span class="sxs-lookup"><span data-stu-id="618cb-144">[User-defined routes (UDRs)][UDR].</span></span>
- <span data-ttu-id="618cb-145">Servicios de identidad de Azure con el [control de acceso basado en rol (RBAC)][RBAC].</span><span class="sxs-lookup"><span data-stu-id="618cb-145">Azure identity services with [role-based access control (RBAC)][RBAC].</span></span> 
- <span data-ttu-id="618cb-146">Opcionalmente, [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD] y [Azure Virtual WAN][vWAN].</span><span class="sxs-lookup"><span data-stu-id="618cb-146">Optionally, [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD], and [Azure Virtual WAN][vWAN].</span></span>

<span data-ttu-id="618cb-147">La clave para desbloquear las ventajas del centro de datos virtual es una topología en estrella del tipo hub-and-spoke centralizada, con una mezcla de servicios y características de Azure:</span><span class="sxs-lookup"><span data-stu-id="618cb-147">The key to unlock the advantages of VDC is a centralized hub and spoke network topology with a mix of Azure services and features:</span></span>

* <span data-ttu-id="618cb-148">[Azure Virtual Network][VNet],</span><span class="sxs-lookup"><span data-stu-id="618cb-148">[Azure Virtual Network][VNet],</span></span>
* <span data-ttu-id="618cb-149">[Grupos de seguridad de red][NSG],</span><span class="sxs-lookup"><span data-stu-id="618cb-149">[Network security groups][NSG],</span></span>
* <span data-ttu-id="618cb-150">[Emparejamiento de redes virtuales][VNetPeering],</span><span class="sxs-lookup"><span data-stu-id="618cb-150">[Virtual network peering][VNetPeering],</span></span>
* <span data-ttu-id="618cb-151">[Rutas definidas por el usuario (UDR)][UDR] y</span><span class="sxs-lookup"><span data-stu-id="618cb-151">[User-Defined Routes (UDR)][UDR], and</span></span>
* <span data-ttu-id="618cb-152">Identidad de Azure con [Control de acceso basado en roles (RBAC)] [ RBAC] y, opcionalmente, [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD] y [Azure Virtual WAN][vWAN].</span><span class="sxs-lookup"><span data-stu-id="618cb-152">Azure Identity with [Role-Based Access Control (RBAC)][RBAC] and optionally [Azure Firewall][AzFW], [Azure DNS][DNS], [Azure Front Door][AFD], and [Azure Virtual WAN][vWAN].</span></span>

## <a name="who-should-implement-a-virtual-datacenter"></a><span data-ttu-id="618cb-153">¿Quién debe implementar un centro de datos virtual?</span><span class="sxs-lookup"><span data-stu-id="618cb-153">Who should implement a Virtual datacenter?</span></span>

<span data-ttu-id="618cb-154">Todos los clientes de Azure que hayan decidido usar la nube pueden beneficiarse de la eficacia de la configuración de un conjunto de recursos que pueden usar todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-154">Any Azure customer that has decided to adopt the cloud can benefit from the efficiency of configuring a set of resources for common use by all applications.</span></span> <span data-ttu-id="618cb-155">Dependiendo de la magnitud, hasta las aplicaciones individuales pueden beneficiarse del uso de los patrones y componentes que se utilizan para crear una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-155">Depending on the magnitude, even single applications can benefit from using the patterns and components used to build a VDC implementation.</span></span>

<span data-ttu-id="618cb-156">Si su organización tiene TI, una red y seguridad centralizadas o si tiene un equipo o departamento de cumplimiento, la implementación de un centro de datos virtual puede ayudar a aplicar los puntos de las directivas, la segregación del servicio y garantizar la uniformidad de los componentes comunes subyacentes, al tiempo que da a los equipos de aplicación la libertad y control apropiados para sus requisitos.</span><span class="sxs-lookup"><span data-stu-id="618cb-156">If your organization has a centralized IT, Network, Security, and/or Compliance team/department, implementing a VDC can help enforce policy points, segregation of duty, and ensure uniformity of the underlying common components while giving application teams as much freedom and control as is appropriate for your requirements.</span></span>

<span data-ttu-id="618cb-157">Las organizaciones que recurren a DevOps también pueden usar los conceptos del centro de datos virtual para proporcionar paquetes autorizados de recursos de Azure y garantizar el control total dentro de ese grupo (una suscripción o un grupo de recursos de una suscripción común), manteniendo el cumplimiento de los límites de red y seguridad definidos por una directiva centralizada en una red virtual de un centro de conectividad y un grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="618cb-157">Organizations that are looking to DevOps can also utilize the VDC concepts to provide authorized pockets of Azure resources and ensure they have total control within that group (either subscription or resource group in a common subscription), but the network and security boundaries stay compliant as defined by a centralized policy in a hub VNet and Resource Group.</span></span>

## <a name="considerations-for-implementing-a-virtual-datacenter"></a><span data-ttu-id="618cb-158">Consideraciones para la implementación de un centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="618cb-158">Considerations for Implementing a Virtual datacenter</span></span>

<span data-ttu-id="618cb-159">Al diseñar una implementación de un centro de datos virtual, hay varios problemas esenciales que se deben tener en cuenta:</span><span class="sxs-lookup"><span data-stu-id="618cb-159">When designing a VDC implementation, there are several pivotal issues to consider:</span></span>

### <a name="identity-and-directory-services"></a><span data-ttu-id="618cb-160">Servicios de identidad y directorio</span><span class="sxs-lookup"><span data-stu-id="618cb-160">Identity and directory services</span></span>
<span data-ttu-id="618cb-161">Los servicios de identidad y directorio son un aspecto clave de todos los centros de datos, tanto en local como en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-161">Identity and directory services are a key aspect of all datacenters, both on-premises and in the cloud.</span></span> <span data-ttu-id="618cb-162">La identidad está relacionada con todos los aspectos de acceso y autorización a los servicios dentro del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-162">Identity is related to all aspects of access and authorization to services within the VDC.</span></span> <span data-ttu-id="618cb-163">Para garantizar que solo los usuarios y procesos autorizados tienen acceso a la cuenta de Azure y los recursos, Azure usa varios tipos de credenciales para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="618cb-163">To make sure that only authorized users and processes access your Azure account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="618cb-164">Estos incluyen contraseñas (para acceder a la cuenta de Azure), claves de cifrado, firmas digitales y certificados.</span><span class="sxs-lookup"><span data-stu-id="618cb-164">These include passwords to access the Azure account, cryptographic keys, digital signatures, and certificates.</span></span> 

### <a name="identity-and-directory-service"></a><span data-ttu-id="618cb-165">Servicios de identidad y directorio</span><span class="sxs-lookup"><span data-stu-id="618cb-165">Identity and Directory Service</span></span>

<span data-ttu-id="618cb-166">Los servicios de identidad y directorio son un aspecto clave de todos los centros de datos, tanto locales como en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-166">Identity and Directory services are a key aspect of all datacenters, both on-premises and in the cloud.</span></span> <span data-ttu-id="618cb-167">La identidad está relacionada con todos los aspectos del acceso y autorización a los servicios de una implementación del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-167">Identity is related to all aspects of access and authorization to services within a VDC implementation.</span></span> <span data-ttu-id="618cb-168">Para ayudar a garantizar que solo los usuarios y procesos autorizados tienen acceso a la cuenta de Azure y los recursos, Azure usa varios tipos de credenciales para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="618cb-168">To help ensure that only authorized users and processes access your Azure Account and resources, Azure uses several types of credentials for authentication.</span></span> <span data-ttu-id="618cb-169">Estos incluyen contraseñas (para obtener acceso a la cuenta de Azure), claves de cifrado, firmas digitales y certificados.</span><span class="sxs-lookup"><span data-stu-id="618cb-169">These include passwords (to access the Azure account), cryptographic keys, digital signatures, and certificates.</span></span> <span data-ttu-id="618cb-170">[Azure Multi-Factor Authentication (MFA)][MFA] es una capa adicional de seguridad para acceder a los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-170">[Azure Multi-Factor Authentication (MFA)][MFA] is an additional layer of security for accessing Azure services.</span></span> <span data-ttu-id="618cb-171">Azure MFA proporciona una autenticación sólida gracias a su variedad de opciones de verificación sencillas (notificación mediante llamada telefónica, mensaje de texto o aplicación para dispositivos móviles) y permite a los clientes elegir el método que prefieran.</span><span class="sxs-lookup"><span data-stu-id="618cb-171">Azure MFA provides strong authentication with a range of easy verification options — phone call, text message, or mobile app notification — and allow customers to choose the method they prefer.</span></span>

<span data-ttu-id="618cb-172">Todas las empresas grandes necesitan definir un proceso de administración de identidad que describa la administración de las identidades individuales, su autenticación, autorización, roles y privilegios dentro de la implementación de su centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-172">Any large enterprise needs to define an identity management process that describes the management of individual identities, their authentication, authorization, roles, and privileges within or across their VDC implementation.</span></span> <span data-ttu-id="618cb-173">Los objetivos de este proceso deben ser mejorar la seguridad y productividad al reducir el costo, el tiempo de inactividad y las tareas manuales repetitivas.</span><span class="sxs-lookup"><span data-stu-id="618cb-173">The goals of this process should be to increase security and productivity while decreasing cost, downtime, and repetitive manual tasks.</span></span>

<span data-ttu-id="618cb-174">La empresas y organizaciones pueden requerir una combinación exigente de servicios para diferentes líneas de negocio (LOB) y los empleados a menudo tienen distintos roles cuando están implicados en proyectos diferentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-174">Enterprise/organizations can require a demanding mix of services for different Line-of-Businesses (LOBs), and employees often have different roles when involved with different projects.</span></span> <span data-ttu-id="618cb-175">Un centro de datos virtual requiere buena cooperación entre distintos equipos, cada uno con definiciones de rol específicas, para tener una buena gestión de los sistemas en ejecución.</span><span class="sxs-lookup"><span data-stu-id="618cb-175">The VDC requires good cooperation between different teams, each with specific role definitions, to get systems running with good governance.</span></span> <span data-ttu-id="618cb-176">La matriz de responsabilidades, acceso y derechos puede ser compleja.</span><span class="sxs-lookup"><span data-stu-id="618cb-176">The matrix of responsibilities, access, and rights can be complex.</span></span> <span data-ttu-id="618cb-177">En el centro de datos virtual, la administración de identidad se implementa a través de [*Azure Active Directory* (Azure AD)][AAD] y el control de acceso basado en rol (RBAC).</span><span class="sxs-lookup"><span data-stu-id="618cb-177">Identity management in the VDC is implemented through [*Azure Active Directory* (Azure AD)][AAD] and Role-Based Access Control (RBAC).</span></span>

<span data-ttu-id="618cb-178">Un servicio de directorio es una infraestructura de información compartida para buscar, gestionar, administrar y organizar los elementos cotidianos y los recursos de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-178">A directory service is a shared information infrastructure that locates, manages, administers, and organizes everyday items and network resources.</span></span> <span data-ttu-id="618cb-179">Estos recursos pueden incluir volúmenes, carpetas, archivos, impresoras, usuarios, grupos, dispositivos y otros objetos.</span><span class="sxs-lookup"><span data-stu-id="618cb-179">These resources can include volumes, folders, files, printers, users, groups, devices, and other objects.</span></span> <span data-ttu-id="618cb-180">El servidor de directorio considera cada recurso de la red como un objeto.</span><span class="sxs-lookup"><span data-stu-id="618cb-180">Each resource on the network is considered an object by the directory server.</span></span> <span data-ttu-id="618cb-181">La información sobre un recurso se almacena como una colección de atributos asociada a ese recurso u objeto.</span><span class="sxs-lookup"><span data-stu-id="618cb-181">Information about a resource is stored as a collection of attributes associated with that resource or object.</span></span>

<span data-ttu-id="618cb-182">Todos los servicios de negocio en línea de Microsoft dependen de Azure Active Directory (Azure AD) para el inicio de sesión y otras necesidades de identidad.</span><span class="sxs-lookup"><span data-stu-id="618cb-182">All Microsoft online business services rely on Azure Active Directory (Azure AD) for sign-in and other identity needs.</span></span> <span data-ttu-id="618cb-183">Azure Active Directory es solución en la nube de administración de acceso e identidades completa y de alta disponibilidad que combina una administración de acceso a aplicaciones, gobernancia de identidades avanzada y servicios de directorio fundamentales.</span><span class="sxs-lookup"><span data-stu-id="618cb-183">Azure Active Directory is a comprehensive, highly available identity and access management cloud solution that combines core directory services, advanced identity governance, and application access management.</span></span> <span data-ttu-id="618cb-184">Azure AD se puede integrar con Active Directory local a fin de habilitar el inicio de sesión único para todas las aplicaciones basadas en la nube y hospedadas localmente.</span><span class="sxs-lookup"><span data-stu-id="618cb-184">Azure AD can integrate with on-premises Active Directory to enable single sign-on for all cloud-based and locally hosted on-premises applications.</span></span> <span data-ttu-id="618cb-185">Los atributos de usuario de Active Directory local se pueden sincronizar automáticamente con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="618cb-185">The user attributes of on-premises Active Directory can be automatically synchronized to Azure AD.</span></span>

<span data-ttu-id="618cb-186">En una implementación de un centro de datos virtual no se requiere un administrador global individual para asignar todos los permisos.</span><span class="sxs-lookup"><span data-stu-id="618cb-186">A single global administrator is not required to assign all permissions in a VDC implementation.</span></span> <span data-ttu-id="618cb-187">En su lugar, cada departamento o grupo de usuarios o servicios específico del servicio de directorio puede tener los permisos necesarios para administrar sus propios recursos dentro de una implementación del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-187">Instead, each specific department, group of users, or services in the Directory Service can have the permissions required to manage their own resources within a VDC implementation.</span></span> <span data-ttu-id="618cb-188">La estructura de permisos requiere un equilibrio.</span><span class="sxs-lookup"><span data-stu-id="618cb-188">Structuring permissions requires balancing.</span></span> <span data-ttu-id="618cb-189">Demasiados permisos pueden disminuir el rendimiento y muy pocos permisos o permisos flexibles pueden aumentar los riesgos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="618cb-189">Too many permissions can impede performance efficiency, and too few or loose permissions can increase security risks.</span></span> <span data-ttu-id="618cb-190">El control de acceso basado en rol (RBAC) de Azure le ayuda a abordar este problema, ya que ofrece una administración avanzada del acceso a los recursos de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-190">Azure Role-Based Access Control (RBAC) helps to address this problem, by offering fine-grained access management for resources in a VDC implementation.</span></span>

#### <a name="security-infrastructure"></a><span data-ttu-id="618cb-191">Infraestructura de seguridad</span><span class="sxs-lookup"><span data-stu-id="618cb-191">Security infrastructure</span></span>

<span data-ttu-id="618cb-192">Por infraestructura de seguridad se entiende la segregación del tráfico del segmento de red virtual específico de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-192">Security infrastructure refers to the segregation of traffic in a VDC implementation's specific virtual network segment.</span></span> <span data-ttu-id="618cb-193">Esta infraestructura especifica cómo se controlan la entrada y la salida en una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-193">This infrastructure specifies how ingress and egress is controlled in a VDC implementation.</span></span> <span data-ttu-id="618cb-194">Azure se basa en una arquitectura multiinquilino que impide que el tráfico no autorizado e involuntario entre implementaciones mediante el uso del aislamiento de la red virtual (VNet), las listas de control de acceso (ACL), los equilibradores de carga, los filtros de direcciones IP y las directivas de flujo de tráfico.</span><span class="sxs-lookup"><span data-stu-id="618cb-194">Azure is based on a multi-tenant architecture that prevents unauthorized and unintentional traffic between deployments by using Virtual Network (VNet) isolation, access control lists (ACLs), load balancers, IP filters, and traffic flow policies.</span></span> <span data-ttu-id="618cb-195">La traducción de direcciones de red (NAT) se usa para separar el tráfico de red interno del tráfico externo.</span><span class="sxs-lookup"><span data-stu-id="618cb-195">Network address translation (NAT) separates internal network traffic from external traffic.</span></span>

<span data-ttu-id="618cb-196">El tejido de Azure asigna recursos de infraestructura para las cargas de trabajo del inquilino y administra las comunicaciones a y desde las máquinas virtuales (VM).</span><span class="sxs-lookup"><span data-stu-id="618cb-196">The Azure fabric allocates infrastructure resources to tenant workloads and manages communications to and from virtual machines (VMs).</span></span> <span data-ttu-id="618cb-197">El hipervisor de Azure fuerza la separación de la memoria y el proceso entre las máquinas virtuales y enruta de forma segura el tráfico de red a los SO invitado de cada inquilino.</span><span class="sxs-lookup"><span data-stu-id="618cb-197">The Azure hypervisor enforces memory and process separation between VMs and securely routes network traffic to guest OS tenants.</span></span>

#### <a name="connectivity-to-the-cloud"></a><span data-ttu-id="618cb-198">Conectividad a la nube</span><span class="sxs-lookup"><span data-stu-id="618cb-198">Connectivity to the cloud</span></span>

<span data-ttu-id="618cb-199">Una implementación de un centro de datos virtual necesita conectividad con redes externas para ofrecer servicios a los clientes, asociados o usuarios internos.</span><span class="sxs-lookup"><span data-stu-id="618cb-199">A VDC implementation requires connectivity to external networks to offer services to customers, partners and/or internal users.</span></span> <span data-ttu-id="618cb-200">Esta necesidad de conectividad no solo sucede en Internet, sino en las redes y centros de datos locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-200">This need for connectivity refers not only to the Internet, but also to on-premises networks and datacenters.</span></span>

<span data-ttu-id="618cb-201">Los clientes controlan qué servicios pueden acceder al Internet público y a cuáles se puede acceder desde este mediante [Azure Firewall][AzFW] o cualquier otro tipo de aplicaciones de red virtual (NVA), directivas de enrutamiento personalizadas mediante [rutas definidas por el usuario][UDR] y filtrado de redes mediante [grupos de seguridad de red][NSG].</span><span class="sxs-lookup"><span data-stu-id="618cb-201">Customers control which services have access to and are accessible from the public internet by using [Azure Firewall][AzFW] or other types of virtual network appliances (NVAs), custom routing policies by using [user-defined routes][UDR], and network filtering by using [network security groups][NSG].</span></span> <span data-ttu-id="618cb-202">Se recomienda que todos los recursos accesibles desde Internet estén también protegidos por [Azure DDOS Protection estándar][DDOS].</span><span class="sxs-lookup"><span data-stu-id="618cb-202">We recommend that all internet-facing resources also be protected by the [Azure DDoS Protection Standard][DDOS].</span></span>

<span data-ttu-id="618cb-203">Las empresas a menudo necesitan conectar su implementación de un centro de datos virtual centros de datos u otros recursos locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-203">Enterprises may need to connect their VDC implementation to on-premises datacenters or other resources.</span></span> <span data-ttu-id="618cb-204">Esta conectividad entre las redes de Azure y las locales es un aspecto fundamental del diseño de una arquitectura eficaz.</span><span class="sxs-lookup"><span data-stu-id="618cb-204">This connectivity between Azure and on-premises networks is a crucial aspect when designing an effective architecture.</span></span> <span data-ttu-id="618cb-205">Las empresas tienen dos formas distintas de crear esta interconexión: pasar por Internet o mediante conexiones directas privadas.</span><span class="sxs-lookup"><span data-stu-id="618cb-205">Enterprises have two different ways to create this interconnection: transit over the Internet and/or by private direct connections.</span></span>

<span data-ttu-id="618cb-206">Una [**red privada virtual de sitio a sitio de Azure**][VPN] es un servicio de interconexión a través de Internet entre redes locales y una implementación de un centro de datos virtual, que se establece a través de conexiones cifradas seguras (túneles IPsec o IKE).</span><span class="sxs-lookup"><span data-stu-id="618cb-206">An [**Azure Site-to-Site VPN**][VPN] is an interconnection service over the Internet between on-premises networks and a VDC implementation, established through secure encrypted connections (IPsec/IKE tunnels).</span></span> <span data-ttu-id="618cb-207">La conexión sitio a sitio de Azure es flexible, rápida de crear y no requiere ninguna adquisición adicional, ya que todas las conexiones se realizan a través de Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-207">Azure Site-to-Site connection is flexible, quick to create, and does not require any further procurement, as all connections connect over the internet.</span></span>

<span data-ttu-id="618cb-208">Para muchas conexiones VPN, [**Azure Virtual WAN**][vWAN] es un servicio de red que ofrece conectividad automatizada y optimizada entre ramas mediante Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-208">For large numbers of VPN connections, [**Azure Virtual WAN**][vWAN] is a networking service that provides optimized and automated branch-to-branch connectivity through Azure.</span></span> <span data-ttu-id="618cb-209">Azure Virtual WAN permite conectar y configurar los dispositivos de rama para comunicarse con Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-209">Virtual WAN lets you connect and configure branch devices to communicate with Azure.</span></span> <span data-ttu-id="618cb-210">La conexión y configuración se pueden realizar manualmente o mediante los dispositivos de proveedores preferidos mediante un asociado de Virtual WAN.</span><span class="sxs-lookup"><span data-stu-id="618cb-210">Connecting and configuring can be done either manually, or by using preferred provider devices through a Virtual WAN partner.</span></span> <span data-ttu-id="618cb-211">El uso de dispositivos de proveedores preferidos permite la administración de la configuración, facilita el uso y simplifica la conectividad.</span><span class="sxs-lookup"><span data-stu-id="618cb-211">Using preferred provider devices allows ease of use, simplification of connectivity, and configuration management.</span></span> <span data-ttu-id="618cb-212">El panel integrado de Azure WAN proporciona información instantánea para solucionar problemas que puede ayudarle a ahorrar tiempo y le ofrece una manera fácil de ver la conectividad de sitio a sitio y a gran escala.</span><span class="sxs-lookup"><span data-stu-id="618cb-212">The Azure WAN built-in dashboard provides instant troubleshooting insights that can help save you time, and gives you an easy way to view large-scale Site-to-Site connectivity.</span></span>

<span data-ttu-id="618cb-213">[**ExpressRoute**][ExR] es un servicio de conectividad de Azure que permite conexiones privadas entre una implementación de un centro de datos virtual y todas las redes locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-213">[**ExpressRoute**][ExR] is an Azure connectivity service that enables private connections between a VDC implementation and any on-premises networks.</span></span> <span data-ttu-id="618cb-214">Las conexiones ExpressRoute no se realizan sobre una conexión a Internet pública, ofrecen una mayor confiabilidad, seguridad y velocidades mayores (hasta 10 Gbps) con una latencia menor.</span><span class="sxs-lookup"><span data-stu-id="618cb-214">ExpressRoute connections do not go over the public Internet, and offer higher security, reliability, and higher speeds (up to 10 Gbps) along with consistent latency.</span></span> <span data-ttu-id="618cb-215">ExpressRoute es muy útil para las implementaciones de centros de datos virtuales, ya que los clientes de ExpressRoute se pueden beneficiar de las reglas de cumplimiento de normas asociadas con las conexiones privadas.</span><span class="sxs-lookup"><span data-stu-id="618cb-215">ExpressRoute is useful for VDC implementations, as ExpressRoute customers can get the benefits of compliance rules associated with private connections.</span></span> <span data-ttu-id="618cb-216">Con ExpressRoute Direct,][ExRD] puede conectarse directamente a los enrutadores de Microsoft a 100 Gbps, para los clientes con mayores necesidades de ancho de banda.</span><span class="sxs-lookup"><span data-stu-id="618cb-216">With ExpressRoute Direct,][ExRD] you can connect directly to Microsoft routers at 100 Gbps for customer with larger bandwidth needs.</span></span>

<span data-ttu-id="618cb-217">La implementación de conexiones ExpressRoute implica normalmente tomar contacto con un proveedor de servicios de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="618cb-217">Deploying ExpressRoute connections usually involves engaging with an ExpressRoute service provider.</span></span> <span data-ttu-id="618cb-218">Para los clientes que necesitan comenzar rápidamente, lo habitual es usar inicialmente una VPN de sitio a sitio para establecer la conectividad entre una implementación de un centro de datos virtual y los recursos locales y, posteriormente, migrar a una conexión ExpressRoute cuando la interconexión física con el proveedor de servicios se haya completado.</span><span class="sxs-lookup"><span data-stu-id="618cb-218">For customers that need to start quickly, it is common to initially use Site-to-Site VPN to establish connectivity between a VDC implementation and on-premises resources, and then migrate to ExpressRoute connection when your physical interconnection with your service provider is complete.</span></span>

#### <a name="connectivity-within-the-cloud"></a><span data-ttu-id="618cb-219">*Conectividad dentro de la nube*</span><span class="sxs-lookup"><span data-stu-id="618cb-219">*Connectivity within the cloud*</span></span>

<span data-ttu-id="618cb-220">[Redes virtuales][VNet] y [Emparejamiento de redes virtuales][VNetPeering] son los servicios de conectividad de red básicos de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-220">[VNets][VNet] and [VNet Peering][VNetPeering] are the basic networking connectivity services inside a VDC implementation.</span></span> <span data-ttu-id="618cb-221">Una red virtual garantiza un límite de aislamiento natural para los recursos del centro de datos virtual y el emparejamiento de redes virtuales permite la intercomunicación entre distintas redes virtuales dentro de la misma región de Azure o incluso de distintas regiones.</span><span class="sxs-lookup"><span data-stu-id="618cb-221">A VNet guarantees a natural boundary of isolation for VDC resources, and VNet peering allows intercommunication between different VNets within the same Azure region or even across regions.</span></span> <span data-ttu-id="618cb-222">El control de tráfico dentro de una red virtual y entre redes virtuales debe cumplir con un conjunto de reglas de seguridad especificado a través de listas de control de acceso ([Grupo de seguridad de red][NSG]), [aplicaciones virtuales de red][NVA] y tablas de enrutamiento personalizadas ([UDR][UDR]).</span><span class="sxs-lookup"><span data-stu-id="618cb-222">Traffic control inside a VNet and between VNets need to match a set of security rules specified through Access Control Lists ([Network Security Group][NSG]), [Network Virtual Appliances][NVA], and custom routing tables ([UDR][UDR]).</span></span>

## <a name="virtual-datacenter-overview"></a><span data-ttu-id="618cb-223">Introducción al centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="618cb-223">Virtual datacenter overview</span></span>

### <a name="topology"></a><span data-ttu-id="618cb-224">Topología</span><span class="sxs-lookup"><span data-stu-id="618cb-224">Topology</span></span>

<span data-ttu-id="618cb-225">_Hub and spoke_ es un modelo para diseñar la topología de red de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-225">_Hub and spoke_ is a model for designing the network topology for a virtual datacenter implementation.</span></span> 

<span data-ttu-id="618cb-226">[![1]][1]</span><span class="sxs-lookup"><span data-stu-id="618cb-226">[![1]][1]</span></span>

<span data-ttu-id="618cb-227">Un centro (hub) es la zona central que controla e inspecciona el tráfico de entrada y salida entre las diferentes zonas: Internet, local y los radios (spokes).</span><span class="sxs-lookup"><span data-stu-id="618cb-227">A hub is the central network zone that controls and inspects ingress or egress traffic between different zones: internet, on-premises, and the spokes.</span></span> <span data-ttu-id="618cb-228">La topología en estrella tipo hub-and-spoke ofrece al departamento de TI una manera eficaz de aplicar directivas de seguridad en una ubicación central.</span><span class="sxs-lookup"><span data-stu-id="618cb-228">The hub and spoke topology gives the IT department an effective way to enforce security policies in a central location.</span></span> <span data-ttu-id="618cb-229">También reduce la posibilidad de exposición y de configuración incorrecta.</span><span class="sxs-lookup"><span data-stu-id="618cb-229">It also reduces the potential for misconfiguration and exposure.</span></span>

<span data-ttu-id="618cb-230">El concentrador contiene los componentes de los servicios comunes utilizados por los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-230">The hub contains the common service components consumed by the spokes.</span></span> <span data-ttu-id="618cb-231">Los ejemplos siguientes son servicios centrales comunes:</span><span class="sxs-lookup"><span data-stu-id="618cb-231">The following examples are common central services:</span></span>

-   <span data-ttu-id="618cb-232">La infraestructura de Active Directory de Windows necesaria para la autenticación de usuarios de terceros que acceden desde redes que no son de confianza antes de obtener acceso a las cargas de trabajo del radio (spoke).</span><span class="sxs-lookup"><span data-stu-id="618cb-232">The Windows Active Directory infrastructure, required for user authentication of third parties that access from untrusted networks before they get access to the workloads in the spoke.</span></span> <span data-ttu-id="618cb-233">Incluye los Servicios de federación de Active Directory (AD FS) relacionados.</span><span class="sxs-lookup"><span data-stu-id="618cb-233">It includes the related Active Directory Federation Services (AD FS).</span></span>
-   <span data-ttu-id="618cb-234">Un servicio DNS que resuelve los nombres de la carga de trabajo en los radios (spokes) para acceder a recursos locales y en Internet si no se utiliza [Azure DNS][DNS].</span><span class="sxs-lookup"><span data-stu-id="618cb-234">A DNS service to resolve naming for the workload in the spokes, to access resources on-premises and on the internet if [Azure DNS][DNS] isn't used.</span></span>
-   <span data-ttu-id="618cb-235">Una infraestructura de clave pública (PKI), para implementar el inicio de sesión único en las cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-235">A public key infrastructure (PKI), to implement single sign-on on workloads.</span></span>
-   <span data-ttu-id="618cb-236">Control de flujo de tráfico TCP y UDP entre las zonas de red de los radios (spokes) e Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-236">Flow control of TCP and UDP traffic between the spoke network zones and the internet.</span></span>
-   <span data-ttu-id="618cb-237">Control de flujo entre los radios (spokes) y local.</span><span class="sxs-lookup"><span data-stu-id="618cb-237">Flow control between the spokes and on-premises.</span></span>
-   <span data-ttu-id="618cb-238">Si es necesario, control de flujo entre un radio y otro.</span><span class="sxs-lookup"><span data-stu-id="618cb-238">If needed, flow control between one spoke and another.</span></span>

<span data-ttu-id="618cb-239">El centro de datos virtual reduce el costo total al utilizar la infraestructura de concentrador compartida entre varios radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-239">The VDC reduces overall cost by using the shared hub infrastructure between multiple spokes.</span></span>

<span data-ttu-id="618cb-240">El rol de cada radio puede ser el hospedaje de diferentes tipos de cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-240">The role of each spoke can be to host different types of workloads.</span></span> <span data-ttu-id="618cb-241">Los radios (spokes) también proporcionan un enfoque modular para implementaciones repetibles de las mismas cargas de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-241">The spokes also provide a modular approach for repeatable deployments of the same workloads.</span></span> <span data-ttu-id="618cb-242">Algunos ejemplos son el desarrollo y las pruebas, las pruebas de aceptación de usuario, la preproducción y la producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-242">Examples are dev and test, user acceptance testing, preproduction, and production.</span></span> <span data-ttu-id="618cb-243">Los radios también pueden segregar y habilitar varios grupos dentro de su organización.</span><span class="sxs-lookup"><span data-stu-id="618cb-243">The spokes can also segregate and enable different groups within your organization.</span></span> <span data-ttu-id="618cb-244">Por ejemplo, los grupos de Azure DevOps.</span><span class="sxs-lookup"><span data-stu-id="618cb-244">An example is Azure DevOps groups.</span></span> <span data-ttu-id="618cb-245">Dentro de un radio, es posible implementar una carga de trabajo básica o cargas de trabajo de varios niveles complejas con control de tráfico entre los niveles.</span><span class="sxs-lookup"><span data-stu-id="618cb-245">Inside a spoke, it's possible to deploy a basic workload or complex multi-tier workloads with traffic control between the tiers.</span></span>

#### <a name="subscription-limits-and-multiple-hubs"></a><span data-ttu-id="618cb-246">Límites de la suscripción y múltiples concentradores</span><span class="sxs-lookup"><span data-stu-id="618cb-246">Subscription limits and multiple hubs</span></span>

<span data-ttu-id="618cb-247">En Azure, todos los componentes, de cualquier tipo, se implementan en una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-247">In Azure, every component, whatever the type, is deployed in an Azure Subscription.</span></span> <span data-ttu-id="618cb-248">El aislamiento de componentes de Azure en distintas suscripciones de Azure puede satisfacer los requisitos de diferentes líneas de negocio, como la configuración de niveles diferenciados de acceso y autorización.</span><span class="sxs-lookup"><span data-stu-id="618cb-248">The isolation of Azure components in different Azure subscriptions can satisfy the requirements of different LOBs, such as setting up differentiated levels of access and authorization.</span></span>

<span data-ttu-id="618cb-249">Una implementación individual de un centro de datos virtual puede escalar verticalmente a gran número de radios, aunque, al igual que en todos los sistemas de TI, existen límites en las plataformas.</span><span class="sxs-lookup"><span data-stu-id="618cb-249">A single VDC implementation can scale up to large number of spokes, although, as with every IT system, there are platforms limits.</span></span> <span data-ttu-id="618cb-250">La implementación de un concentrador se enlaza a una suscripción de Azure específica, que tiene restricciones y límites (por ejemplo, un número máximo de emparejamientos de redes virtuales: consulte [Suscripción de Azure y límites de servicio, cuotas y restricciones][Limits] para más información).</span><span class="sxs-lookup"><span data-stu-id="618cb-250">The hub deployment is bound to a specific Azure subscription, which has restrictions and limits (for example, a max number of VNet peerings - see [Azure subscription and service limits, quotas, and constraints][Limits] for details).</span></span> <span data-ttu-id="618cb-251">En los casos en los que los límites puedan ser un problema, la arquitectura se puede escalar verticalmente más allá extiendo el modelo desde un único concentrador-radios a un clúster de concentradores y radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-251">In cases where limits may be an issue, the architecture can scale up further by extending the model from a single hub-spokes to a cluster of hub and spokes.</span></span> <span data-ttu-id="618cb-252">Varios centros en una o más regiones de Azure pueden estar conectados entre sí mediante el emparejamiento de VNET, ExpressRoute, Virtual WAN o una red privada virtual de sitio a sitio.</span><span class="sxs-lookup"><span data-stu-id="618cb-252">Multiple hubs in one or more Azure regions can be interconnected using VNet Peering, ExpressRoute, Virtual WAN, or site-to-site VPN.</span></span>

<span data-ttu-id="618cb-253">[![2]][2]</span><span class="sxs-lookup"><span data-stu-id="618cb-253">[![2]][2]</span></span>

<span data-ttu-id="618cb-254">La introducción de varios centros aumenta el costo y el esfuerzo de administración del sistema.</span><span class="sxs-lookup"><span data-stu-id="618cb-254">The introduction of multiple hubs increases the cost and management effort of the system.</span></span> <span data-ttu-id="618cb-255">Solo se podría justificar por motivos de escalabilidad, como en el caso de los límites del sistema, y de replicación regional, como en el caso de rendimiento del usuario final o recuperación ante desastres.</span><span class="sxs-lookup"><span data-stu-id="618cb-255">It would only be justified by scalability like system limits or redundancy and regional replication like end-user performance or disaster recovery.</span></span> <span data-ttu-id="618cb-256">En escenarios que requieran múltiples concentradores, todos los concentradores deben procurar ofrecer el mismo conjunto de servicios para facilitar la operativa.</span><span class="sxs-lookup"><span data-stu-id="618cb-256">In scenarios requiring multiple hubs, all the hubs should strive to offer the same set of services for operational ease.</span></span>

#### <a name="interconnection-between-spokes"></a><span data-ttu-id="618cb-257">Interconexión entre los radios</span><span class="sxs-lookup"><span data-stu-id="618cb-257">Interconnection between spokes</span></span>

<span data-ttu-id="618cb-258">Dentro de un radio único, es posible implementar cargas de trabajo complejas en múltiples niveles.</span><span class="sxs-lookup"><span data-stu-id="618cb-258">Inside a single spoke, it is possible to implement complex multi-tiers workloads.</span></span> <span data-ttu-id="618cb-259">Las configuraciones de múltiples niveles se pueden implementar utilizando subredes (una para cada nivel) en la misma red virtual y filtrando los flujos con grupos de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-259">Multi-tier configurations can be implemented using subnets (one for every tier) in the same VNet and filtering the flows using NSGs.</span></span>

<span data-ttu-id="618cb-260">Un arquitecto podría querer implementar una carga de trabajo de varios niveles entre varias redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="618cb-260">An architect might want to deploy a multi-tier workload across multiple virtual networks.</span></span> <span data-ttu-id="618cb-261">Con el emparejamiento de redes virtuales, los radios pueden conectarse a otros radios en el mismo centro o en centros diferentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-261">With virtual network peering, spokes can connect to other spokes in the same hub or different hubs.</span></span> <span data-ttu-id="618cb-262">Un ejemplo típico de este escenario es el caso en el que los servidores de procesamiento de la aplicación están en un radio o red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-262">A typical example of this scenario is the case where application processing servers are in one spoke, or virtual network.</span></span> <span data-ttu-id="618cb-263">La base de datos se implementa en un radio o red virtual diferente.</span><span class="sxs-lookup"><span data-stu-id="618cb-263">The database deploys in a different spoke, or virtual network.</span></span> <span data-ttu-id="618cb-264">En este caso, es fácil interconectar los radios con emparejamiento de redes virtuales y así evitar el tránsito a través del centro.</span><span class="sxs-lookup"><span data-stu-id="618cb-264">In this case, it's easy to interconnect the spokes with virtual network peering and thereby avoid transiting through the hub.</span></span> <span data-ttu-id="618cb-265">Debe realizarse una revisión cuidadosa de la arquitectura y la seguridad para asegurarse de que evitar el paso por el concentrador no omite puntos de seguridad o auditoría de importancia que podrían existir solo en el centro.</span><span class="sxs-lookup"><span data-stu-id="618cb-265">A careful architecture and security review should be performed to ensure that bypassing the hub doesn’t bypass important security or auditing points that might exist only in the hub.</span></span>

<span data-ttu-id="618cb-266">[![3]][3]</span><span class="sxs-lookup"><span data-stu-id="618cb-266">[![3]][3]</span></span>

<span data-ttu-id="618cb-267">Los radios también pueden estar conectados entre sí mediante un radio que actúa como concentrador.</span><span class="sxs-lookup"><span data-stu-id="618cb-267">Spokes can also be interconnected to a spoke that acts as a hub.</span></span> <span data-ttu-id="618cb-268">Este método crea una jerarquía de dos niveles: el radio del nivel superior (nivel 0) se convierten en el concentrador de radios inferiores (nivel 1) en la jerarquía.</span><span class="sxs-lookup"><span data-stu-id="618cb-268">This approach creates a two-level hierarchy: the spoke in the higher level (level 0) become the hub of lower spokes (level 1) of the hierarchy.</span></span> <span data-ttu-id="618cb-269">Los radios de una implementación de un centro de datos virtual están obligados a reenviar el tráfico al centro principal, con el fin de que pueda llegar a su destino pasando por la red local o Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-269">The spokes of a VDC implementation are required to forward the traffic to the central hub so that the traffic can transit to its destination in either the on-premises network or public internet.</span></span> <span data-ttu-id="618cb-270">Una arquitectura con dos niveles de concentradores presenta un enrutamiento complejo que anula las ventajas de una relación simple concentrador-radio.</span><span class="sxs-lookup"><span data-stu-id="618cb-270">An architecture with two levels of hub introduces complex routing that removes the benefits of a simple hub-spoke relationship.</span></span>

<span data-ttu-id="618cb-271">Aunque Azure permite topologías complejas, uno de los principios básicos del concepto de centro de datos virtual es la repetibilidad y simplicidad.</span><span class="sxs-lookup"><span data-stu-id="618cb-271">Although Azure allows complex topologies, one of the core principles of the VDC concept is repeatability and simplicity.</span></span> <span data-ttu-id="618cb-272">Para minimizar el esfuerzo de administración, el diseño simple en estrella tipo hub-and-spoke es la arquitectura de referencia recomendada para un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-272">To minimize management effort, the simple hub-spoke design is the VDC reference architecture that we recommend.</span></span>

### <a name="components"></a><span data-ttu-id="618cb-273">Componentes</span><span class="sxs-lookup"><span data-stu-id="618cb-273">Components</span></span>

<span data-ttu-id="618cb-274">El centro de datos virtual se compone de cuatro tipos de componentes básicos: **Infraestructura**, **redes perimetrales**, **cargas de trabajo** y **supervisión**.</span><span class="sxs-lookup"><span data-stu-id="618cb-274">The virtual datacenter is made up of four basic component types: **Infrastructure**, **Perimeter Networks**, **Workloads**, and **Monitoring**.</span></span>

<span data-ttu-id="618cb-275">Cada tipo de componente consta de varias características de Azure y recursos.</span><span class="sxs-lookup"><span data-stu-id="618cb-275">Each component type consists of various Azure features and resources.</span></span> <span data-ttu-id="618cb-276">La implementación del centro de datos virtual se compone de instancias de varios tipos de componentes y múltiples variaciones del mismo tipo de componente.</span><span class="sxs-lookup"><span data-stu-id="618cb-276">Your VDC implementation is made up of instances of multiple components types and multiple variations of the same component type.</span></span> <span data-ttu-id="618cb-277">Por ejemplo, puede tener muchas instancias de cargas de trabajo diferentes, separadas lógicamente, que representan las distintas aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-277">For instance, you may have many different, logically separated, workload instances that represent different applications.</span></span> <span data-ttu-id="618cb-278">Estos distintos tipos de componentes e instancias se utilizan para crear el centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-278">You use these different component types and instances to ultimately build the VDC.</span></span>

<span data-ttu-id="618cb-279">[![4]][4]</span><span class="sxs-lookup"><span data-stu-id="618cb-279">[![4]][4]</span></span>

<span data-ttu-id="618cb-280">La arquitectura conceptual de alto nivel anterior del centro de datos virtual muestra distintos tipos de componentes utilizados en distintas zonas de la topología en estrella tipo hub-and-spoke.</span><span class="sxs-lookup"><span data-stu-id="618cb-280">The preceding high-level conceptual architecture of the VDC shows different component types used in different zones of the hub-spokes topology.</span></span> <span data-ttu-id="618cb-281">El diagrama muestra los componentes de la infraestructura en distintas partes de la arquitectura.</span><span class="sxs-lookup"><span data-stu-id="618cb-281">The diagram shows infrastructure components in various parts of the architecture.</span></span>

<span data-ttu-id="618cb-282">Como procedimiento recomendado en general, los derechos de acceso y privilegios deben estar basados en grupos.</span><span class="sxs-lookup"><span data-stu-id="618cb-282">As good practice in general, access rights and privileges should be group-based.</span></span> <span data-ttu-id="618cb-283">Trabajar con grupos, en lugar de con usuarios individuales, facilita el mantenimiento de directivas de acceso, ya que proporciona una manera coherente de administrarlo a en varios equipos</span><span class="sxs-lookup"><span data-stu-id="618cb-283">Dealing with groups rather than individual users eases maintenance of access policies by providing a consistent way to manage it across teams.</span></span>  <span data-ttu-id="618cb-284">y ayuda a minimizar los errores de configuración.</span><span class="sxs-lookup"><span data-stu-id="618cb-284">and aids in minimizing configuration errors.</span></span> <span data-ttu-id="618cb-285">Asignar y eliminar usuarios de los grupos adecuados le ayuda a mantener actualizados los privilegios de un usuario específico.</span><span class="sxs-lookup"><span data-stu-id="618cb-285">Assigning and removing users to and from appropriate groups helps keeping the privileges of a specific user up-to-date.</span></span>

<span data-ttu-id="618cb-286">Cada grupo de roles debe tener un prefijo único en sus nombres.</span><span class="sxs-lookup"><span data-stu-id="618cb-286">Each role group should have a unique prefix on their names.</span></span> <span data-ttu-id="618cb-287">Este prefijo facilita una rápida identificación de qué grupo está asociado con qué carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-287">This prefix makes it easy to identify which group is associated with which workload.</span></span> <span data-ttu-id="618cb-288">Por ejemplo, una carga de trabajo que hospeda un servicio de autenticación podría tener grupos denominados **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps** y **AuthServiceInfraOps**.</span><span class="sxs-lookup"><span data-stu-id="618cb-288">For example, a workload hosting an authentication service might have groups named **AuthServiceNetOps**, **AuthServiceSecOps**, **AuthServiceDevOps**, and **AuthServiceInfraOps**.</span></span> <span data-ttu-id="618cb-289">Los roles centralizados o los roles no relacionados con un servicio concreto, podrían estar precedidos de **Corp**. Por ejemplo: **CorpNetOps**.</span><span class="sxs-lookup"><span data-stu-id="618cb-289">Centralized roles, or roles not related to a specific service, might be prefaced with **Corp**. An example is **CorpNetOps**.</span></span>

<span data-ttu-id="618cb-290">Muchas organizaciones usan una variación de los grupos siguientes para proporcionar un desglose mayor de los roles:</span><span class="sxs-lookup"><span data-stu-id="618cb-290">Many organizations use a variation of the following groups to provide a major breakdown of roles:</span></span>

-   <span data-ttu-id="618cb-291">El grupo de TI central, **Corp,** tiene los derechos de propiedad para controlar los componentes de la infraestructura.</span><span class="sxs-lookup"><span data-stu-id="618cb-291">The central IT group, **Corp,** has the ownership rights to control infrastructure components.</span></span> <span data-ttu-id="618cb-292">Ejemplos de redes y seguridad.</span><span class="sxs-lookup"><span data-stu-id="618cb-292">Examples are networking and security.</span></span> <span data-ttu-id="618cb-293">El grupo debe tener el rol de colaborador en la suscripción, el control del centro y derechos de colaborador de la red en los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-293">The group needs to have the role of contributor on the subscription, control of the hub, and network contributor rights in the spokes.</span></span> <span data-ttu-id="618cb-294">Las grandes organizaciones suelen dividir estas responsabilidades de administración entre varios equipos.</span><span class="sxs-lookup"><span data-stu-id="618cb-294">Large organizations frequently split up these management responsibilities between multiple teams.</span></span> <span data-ttu-id="618cb-295">Ejemplos: un grupo **CorpNetOps** de operaciones de red con atención exclusiva a las redes, y un grupo **CorpSecOps** de operaciones de seguridad responsable del firewall y la directiva de seguridad.</span><span class="sxs-lookup"><span data-stu-id="618cb-295">Examples are a network operations **CorpNetOps** group with exclusive focus on networking and a security operations **CorpSecOps** group responsible for the firewall and security policy.</span></span> <span data-ttu-id="618cb-296">En este caso específico, deben crearse dos grupos diferentes para la asignación de estos roles personalizados.</span><span class="sxs-lookup"><span data-stu-id="618cb-296">In this specific case, two different groups need to be created for assignment of these custom roles.</span></span>
-   <span data-ttu-id="618cb-297">El grupo de desarrollo y pruebas **AppDevOps** tiene la responsabilidad de implementar las cargas de trabajo de aplicaciones o servicios.</span><span class="sxs-lookup"><span data-stu-id="618cb-297">The dev-test group, **AppDevOps,** has the responsibility to deploy app or service workloads.</span></span> <span data-ttu-id="618cb-298">Este grupo tiene el rol de colaborador de la máquina Virtual para las implementaciones de IaaS y uno o más roles de colaborador de PaaS.</span><span class="sxs-lookup"><span data-stu-id="618cb-298">This group takes the role of virtual machine contributor for IaaS deployments or one or more PaaS contributor’s roles.</span></span> <span data-ttu-id="618cb-299">Consulte [Roles integrados en los recursos de Azure][Roles].</span><span class="sxs-lookup"><span data-stu-id="618cb-299">See [Built-in roles for Azure resources][Roles].</span></span> <span data-ttu-id="618cb-300">Opcionalmente, el equipo de desarrollo y pruebas podría tener visibilidad en las directivas de seguridad (NSG) y en las directivas de enrutamiento (UDR) en el centro o en un radio específico.</span><span class="sxs-lookup"><span data-stu-id="618cb-300">Optionally, the dev-test team might need visibility on security policies, NSGs, and routing policies, UDRs, inside the hub or a specific spoke.</span></span> <span data-ttu-id="618cb-301">Además de los roles de colaborador para las cargas de trabajo, este grupo también necesitaría el rol de lector de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-301">In addition to the role of contributor for workloads, this group would also need the role of network reader.</span></span>
-   <span data-ttu-id="618cb-302">El grupo de operaciones y mantenimiento **CorpInfraOps** o **AppInfraOps** tiene la responsabilidad de administrar las cargas de trabajo en producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-302">The operation and maintenance group, **CorpInfraOps** or **AppInfraOps,** has the responsibility of managing workloads in production.</span></span> <span data-ttu-id="618cb-303">Este grupo debe ser un colaborador de la suscripción en las cargas de trabajo en las suscripciones de producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-303">This group needs to be a subscription contributor on workloads in any production subscriptions.</span></span> <span data-ttu-id="618cb-304">Algunas organizaciones también pueden evaluar si necesitan un grupo de equipo de soporte técnico con el rol de colaborador en la suscripción de producción y en la suscripción del centro principal.</span><span class="sxs-lookup"><span data-stu-id="618cb-304">Some organizations might also evaluate if they need an additional escalation support team group with the role of subscription contributor in production and the central hub subscription.</span></span> <span data-ttu-id="618cb-305">El grupo adicional permite solucionar posibles problemas de configuración en el entorno de producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-305">The additional group fixes potential configuration issues in the production environment.</span></span>

<span data-ttu-id="618cb-306">El centro de datos virtual está diseñado de forma que los grupos de TI centrales creados para la administración del centro tengan grupos correspondientes en el nivel de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-306">The VDC is designed so groups created for the central IT groups managing the hub have corresponding groups at the workload level.</span></span> <span data-ttu-id="618cb-307">Además de la administración de los recursos del centro de conectividad, el grupo de TI central puede controlar el acceso externo y los permisos de nivel superior en la suscripción.</span><span class="sxs-lookup"><span data-stu-id="618cb-307">In addition to managing hub resources only, the central IT group is able to control external access and top-level permissions on the subscription.</span></span> <span data-ttu-id="618cb-308">Los grupos de cargas de trabajo también pueden controlar los recursos y permisos de su red virtual con independencia de TI central.</span><span class="sxs-lookup"><span data-stu-id="618cb-308">Workload groups are also able to control resources and permissions of their VNet independently on Central IT.</span></span>

<span data-ttu-id="618cb-309">Las particiones del centro de datos virtual sirven para alojar de forma segura varios proyectos en líneas de negocios (LOB) diferentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-309">The VDC is partitioned to securely host multiple projects across different Lines-of-Business (LOBs).</span></span> <span data-ttu-id="618cb-310">Todos los proyectos requieren diferentes entornos aislados (desarrollo, UAT, producción).</span><span class="sxs-lookup"><span data-stu-id="618cb-310">All projects require different isolated environments (Dev, UAT, production).</span></span> <span data-ttu-id="618cb-311">El uso de suscripciones de Azure independientes para cada uno de estos entornos proporciona un aislamiento natural.</span><span class="sxs-lookup"><span data-stu-id="618cb-311">Separate Azure subscriptions for each of these environments provide natural isolation.</span></span>

<span data-ttu-id="618cb-312">[![5]][5]</span><span class="sxs-lookup"><span data-stu-id="618cb-312">[![5]][5]</span></span>

<span data-ttu-id="618cb-313">El diagrama anterior muestra la relación entre los proyectos de una organización, los usuarios, grupos y los entornos donde se implementan los componentes de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-313">The preceding diagram shows the relationship between an organization's projects, users, and groups and the environments where the Azure components are deployed.</span></span>

<span data-ttu-id="618cb-314">Normalmente, en TI, un entorno (o nivel) es un sistema en el que se implementan y ejecutan varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-314">Typically in IT, an environment (or tier) is a system in which multiple applications are deployed and executed.</span></span> <span data-ttu-id="618cb-315">Las empresas de tamaño grande usan un entorno de desarrollo (en el que se realizan originalmente los cambios y pruebas) y un entorno de producción (el que los usuarios finales utilizan).</span><span class="sxs-lookup"><span data-stu-id="618cb-315">Large enterprises use a development environment (where changes originally made and tested) and a production environment (what end-users use).</span></span> <span data-ttu-id="618cb-316">Dichos entornos están separados y a menudo hay varios entornos de ensayo entre ellos para permitir la implementación por fases (lanzamiento), la realización de pruebas y la reversión si surgen problemas.</span><span class="sxs-lookup"><span data-stu-id="618cb-316">Those environments are separated, often with several staging environments in between them to allow phased deployment (rollout), testing, and rollback if problems arise.</span></span> <span data-ttu-id="618cb-317">Las arquitecturas de implementación varían considerablemente, aunque normalmente siguen el proceso básico de comenzar en un desarrollo (DEV) y terminar en producción (PROD).</span><span class="sxs-lookup"><span data-stu-id="618cb-317">Deployment architectures vary significantly, but usually the basic process of starting at development (DEV) and ending at production (PROD) is still followed.</span></span>

<span data-ttu-id="618cb-318">Una arquitectura común para estos tipos de entornos de varios niveles se compone de Azure DevOps para desarrollo y pruebas, UAT para ensayo y entornos de producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-318">A common architecture for these types of multi-tier environments consists of Azure DevOps for development and testing, UAT for staging, and production environments.</span></span> <span data-ttu-id="618cb-319">Las organizaciones pueden aprovechar uno o varios inquilinos de Azure AD para definir el acceso y los derechos para estos entornos.</span><span class="sxs-lookup"><span data-stu-id="618cb-319">Organizations can leverage single or multiple Azure AD tenants to define access and rights to these environments.</span></span> <span data-ttu-id="618cb-320">El diagrama anterior muestra un caso en el que se usan dos inquilinos diferentes de Azure AD: uno para Azure DevOps y UAT y otro exclusivamente para producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-320">The previous diagram shows a case where two different Azure AD tenants are used: one for Azure DevOps and UAT, and the other exclusively for production.</span></span>

<span data-ttu-id="618cb-321">La presencia de inquilinos de Azure AD diferentes refuerza la separación entre entornos.</span><span class="sxs-lookup"><span data-stu-id="618cb-321">The presence of different Azure AD tenants enforces the separation between environments.</span></span> <span data-ttu-id="618cb-322">El mismo grupo de usuarios, por ejemplo, TI central, debe autenticarse con un identificador URI diferente para acceder a un inquilino de Azure AD diferente y modificar los roles o permisos de los entornos de Azure DevOps o de producción de un proyecto.</span><span class="sxs-lookup"><span data-stu-id="618cb-322">The same group of users, such as the central IT, needs to authenticate by using a different URI to access a different Azure AD tenant to modify the roles or permissions of either the Azure DevOps or production environments of a project.</span></span> <span data-ttu-id="618cb-323">La presencia de una autenticación de usuario diferente para acceder a diferentes entornos reduce posibles interrupciones y otros problemas causados por errores humanos.</span><span class="sxs-lookup"><span data-stu-id="618cb-323">The presence of different user authentications to access different environments reduces possible outages and other issues caused by human errors.</span></span>

#### <a name="component-type-infrastructure"></a><span data-ttu-id="618cb-324">Tipo de componente: Infraestructura</span><span class="sxs-lookup"><span data-stu-id="618cb-324">Component type: Infrastructure</span></span>

<span data-ttu-id="618cb-325">Este tipo de componente es en el que reside la mayor parte de la infraestructura de soporte.</span><span class="sxs-lookup"><span data-stu-id="618cb-325">This component type is where most of the supporting infrastructure resides.</span></span> <span data-ttu-id="618cb-326">También es donde los equipos de TI central, seguridad y cumplimiento dedican la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="618cb-326">It's also where your centralized IT, Security, and/or Compliance teams spend most of their time.</span></span>

<span data-ttu-id="618cb-327">[![6]][6]</span><span class="sxs-lookup"><span data-stu-id="618cb-327">[![6]][6]</span></span>

<span data-ttu-id="618cb-328">Los componentes de la infraestructura proporcionan una interconexión para los distintos componentes de una implementación de un centro de datos virtual y están presentes tanto en el centro de conectividad como en los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-328">Infrastructure components provide an interconnection for the different components of a VDC implementation, and are present in both the hub and the spokes.</span></span> <span data-ttu-id="618cb-329">Normalmente se asigna la responsabilidad de administrar y mantener los componentes de infraestructura al equipo de TI central o al de seguridad.</span><span class="sxs-lookup"><span data-stu-id="618cb-329">The responsibility for managing and maintaining the infrastructure components is typically assigned to the central IT and/or security team.</span></span>

<span data-ttu-id="618cb-330">Una de las tareas principales del equipo de infraestructura de TI es garantizar la coherencia de los esquemas de direcciones IP en toda la empresa.</span><span class="sxs-lookup"><span data-stu-id="618cb-330">One of the primary tasks of the IT infrastructure team is to guarantee the consistency of IP address schemas across the enterprise.</span></span> <span data-ttu-id="618cb-331">El espacio de direcciones IP privadas asignado a una implementación de un centro de datos virtual debe ser coherente y NO superponerse con direcciones IP privadas asignadas a redes locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-331">The private IP address space assigned to a VDC implementation must be consistent and NOT overlapping with private IP addresses assigned on your on-premises networks.</span></span>

<span data-ttu-id="618cb-332">Aunque el uso de NAT en los enrutadores locales perimetrales o en entornos de Azure puede evitar conflictos de direcciones IP, agrega complicaciones a los componentes de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="618cb-332">While NAT on the on-premises edge routers or in Azure environments can avoid IP address conflicts, it adds complications to your infrastructure components.</span></span> <span data-ttu-id="618cb-333">La simplicidad de la administración es uno de los principales objetivos del centro de datos virtual, por lo que el uso de NAT para controlar cuestiones de direcciones IP no es una solución recomendada.</span><span class="sxs-lookup"><span data-stu-id="618cb-333">Simplicity of management is one of the key goals of the VDC, so using NAT to handle IP concerns is not a recommended solution.</span></span>

<span data-ttu-id="618cb-334">Los componentes de infraestructura tienen la siguiente funcionalidad:</span><span class="sxs-lookup"><span data-stu-id="618cb-334">Infrastructure components have the following functionality:</span></span>

-   <span data-ttu-id="618cb-335">[**Servicios de identidad y directorio**][AAD].</span><span class="sxs-lookup"><span data-stu-id="618cb-335">[**Identity and directory services**][AAD].</span></span> <span data-ttu-id="618cb-336">El acceso a cada tipo de recurso en Azure se controla mediante una identidad que se almacena en un servicio de directorio.</span><span class="sxs-lookup"><span data-stu-id="618cb-336">Access to every resource type in Azure is controlled by an identity stored in a directory service.</span></span> <span data-ttu-id="618cb-337">El servicio de directorio almacena no solo la lista de usuarios, sino también los derechos de acceso a los recursos en una suscripción de Azure específica.</span><span class="sxs-lookup"><span data-stu-id="618cb-337">The directory service stores not only the list of users, but also the access rights to resources in a specific Azure subscription.</span></span> <span data-ttu-id="618cb-338">Estos servicios pueden existir solo en la nube, o se pueden sincronizar con la identidad local almacenada en Active Directory.</span><span class="sxs-lookup"><span data-stu-id="618cb-338">These services can exist cloud-only, or they can be synchronized with on-premises identity stored in Active Directory.</span></span>
-   <span data-ttu-id="618cb-339">[**Virtual Network**][VPN].</span><span class="sxs-lookup"><span data-stu-id="618cb-339">[**Virtual Network**][VPN].</span></span> <span data-ttu-id="618cb-340">Las redes virtuales son uno de los componentes principales del centro de datos virtual y le permiten crear un límite de aislamiento de tráfico en la plataforma de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-340">Virtual Networks are one of main components of the VDC, and enable you to create a traffic isolation boundary on the Azure platform.</span></span> <span data-ttu-id="618cb-341">Una red virtual se compone de uno o varios segmentos de red virtual, cada uno con un prefijo de red IP específico (una subred).</span><span class="sxs-lookup"><span data-stu-id="618cb-341">A Virtual Network is composed of a single or multiple virtual network segments, each with a specific IP network prefix (a subnet).</span></span> <span data-ttu-id="618cb-342">La red virtual define un área de perímetro interno en el que las máquinas virtuales de IaaS y los servicios de PaaS pueden establecer comunicaciones privadas.</span><span class="sxs-lookup"><span data-stu-id="618cb-342">The Virtual Network defines an internal perimeter area where IaaS virtual machines and PaaS services can establish private communications.</span></span> <span data-ttu-id="618cb-343">Las máquinas virtuales (y los servicios de PaaS) de una red virtual no pueden comunicar directamente con máquinas virtuales (y servicios de PaaS) de una red virtual diferente, incluso si ambas redes virtuales se han creado en la misma suscripción y por el mismo cliente.</span><span class="sxs-lookup"><span data-stu-id="618cb-343">VMs (and PaaS services) in one virtual network cannot communicate directly to VMs (and PaaS services) in a different virtual network, even if both virtual networks are created by the same customer, under the same subscription.</span></span> <span data-ttu-id="618cb-344">El aislamiento consiste en una propiedad fundamental que garantiza que las máquinas virtuales del cliente y la comunicación sigan siendo privadas en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-344">Isolation is a critical property that ensures customer VMs and communication remains private within a virtual network.</span></span>
-   <span data-ttu-id="618cb-345">[**UDR**][UDR].</span><span class="sxs-lookup"><span data-stu-id="618cb-345">[**UDR**][UDR].</span></span> <span data-ttu-id="618cb-346">El tráfico en una red virtual se enruta de forma predeterminada en función de la tabla de enrutamiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="618cb-346">Traffic in a Virtual Network is routed by default based on the system routing table.</span></span> <span data-ttu-id="618cb-347">Una ruta definida por el usuario es una tabla de enrutamiento personalizada que los administradores de red pueden asociar a una o varias subredes para sobrescribir el comportamiento de la tabla de enrutamiento del sistema y definir una ruta de comunicación en una red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-347">A User Defined Route is a custom routing table that network administrators can associate to one or more subnets to overwrite the behavior of the system routing table and define a communication path within a virtual network.</span></span> <span data-ttu-id="618cb-348">La presencia de una UDR garantiza que el tráfico de salida del radio transita a través de máquinas virtuales personalizadas específicas o aplicaciones virtuales de red y equilibradores de carga presentes en el concentrador y los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-348">The presence of UDRs guarantees that egress traffic from the spoke transit through specific custom VMs and/or Network Virtual Appliances and load balancers present in the hub and in the spokes.</span></span>
-   <span data-ttu-id="618cb-349">[**NSG**][NSG].</span><span class="sxs-lookup"><span data-stu-id="618cb-349">[**NSG**][NSG].</span></span> <span data-ttu-id="618cb-350">Un grupo de seguridad de red (NSG) es una lista de reglas de seguridad que actúa como filtro de tráfico en direcciones IP de origen y destino, protocolos y puertos IP de origen y destino.</span><span class="sxs-lookup"><span data-stu-id="618cb-350">A Network Security Group is a list of security rules that act as traffic filtering on IP Sources, IP Destination, Protocols, IP Source Ports, and IP Destination ports.</span></span> <span data-ttu-id="618cb-351">El NSG se puede aplicar a una subred, una tarjeta NIC virtual asociada a una máquina virtual de Azure, o ambos.</span><span class="sxs-lookup"><span data-stu-id="618cb-351">The NSG can be applied to a subnet, a Virtual NIC card associated with an Azure VM, or both.</span></span> <span data-ttu-id="618cb-352">Los NSG son fundamentales para implementar un control de flujo correcto en el concentrador y los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-352">The NSGs are essential to implement a correct flow control in the hub and in the spokes.</span></span> <span data-ttu-id="618cb-353">El nivel de seguridad permitido por el NSG está una función de los puertos que abra y su finalidad.</span><span class="sxs-lookup"><span data-stu-id="618cb-353">The level of security afforded by the NSG is a function of which ports you open, and for what purpose.</span></span> <span data-ttu-id="618cb-354">Los clientes deben aplicar filtros adicionales en cada máquina virtual con firewalls basados en host, como IPtables o el Firewall de Windows.</span><span class="sxs-lookup"><span data-stu-id="618cb-354">Customers should apply additional per-VM filters with host-based firewalls such as IPtables or the Windows Firewall.</span></span>
-   <span data-ttu-id="618cb-355">[**DNS**][DNS].</span><span class="sxs-lookup"><span data-stu-id="618cb-355">[**DNS**][DNS].</span></span> <span data-ttu-id="618cb-356">La resolución de nombres de recursos en las redes virtuales de una implementación de un centro de datos virtual se proporciona mediante DNS.</span><span class="sxs-lookup"><span data-stu-id="618cb-356">The name resolution of resources in the VNets of a VDC implementation is provided through DNS.</span></span> <span data-ttu-id="618cb-357">Azure proporciona servicios DNS tanto para la resolución de nombres [públicos][DNS] como [privados][PrivateDNS].</span><span class="sxs-lookup"><span data-stu-id="618cb-357">Azure provides DNS services for both [Public][DNS] and [Private][PrivateDNS] name resolution.</span></span> <span data-ttu-id="618cb-358">Las zonas privadas proporcionan la resolución de nombres dentro de una red virtual o en redes virtuales distintas.</span><span class="sxs-lookup"><span data-stu-id="618cb-358">Private zones provide name resolution both within a virtual network and across virtual networks.</span></span> <span data-ttu-id="618cb-359">Puede hacer que las zonas privadas abarquen redes virtuales de la misma región, e incluso de distintas regiones y suscripciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-359">You can have private zones not only span across virtual networks in the same region, but also across regions and subscriptions.</span></span> <span data-ttu-id="618cb-360">Azure DNS proporciona un servicio de hospedaje de dominios DNS que permite resolver nombres mediante la infraestructura de Microsoft Azure (resolución pública).</span><span class="sxs-lookup"><span data-stu-id="618cb-360">For public resolution, Azure DNS provides a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="618cb-361">Al hospedar dominios en Azure, puede administrar los registros DNS con las mismas credenciales, API, herramientas y facturación que con los demás servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-361">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>
-   <span data-ttu-id="618cb-362">[**Administración de la suscripción**][SubMgmt] y del [**Grupo de recursos**][RGMgmt].</span><span class="sxs-lookup"><span data-stu-id="618cb-362">[**Subscription**][SubMgmt] and [**Resource Group Management**][RGMgmt].</span></span> <span data-ttu-id="618cb-363">Una suscripción define un límite natural para crear varios grupos de recursos en Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-363">A subscription defines a natural boundary to create multiple groups of resources in Azure.</span></span> <span data-ttu-id="618cb-364">Los recursos de una suscripción se ensamblan juntos en contenedores lógicos llamados grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="618cb-364">Resources in a subscription are assembled together in logical containers named Resource Groups.</span></span> <span data-ttu-id="618cb-365">El grupo de recursos representa un grupo lógico para organizar los recursos de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-365">The Resource Group represents a logical group to organize the resources of a VDC implementation.</span></span>
-   <span data-ttu-id="618cb-366">[**RBAC**][RBAC].</span><span class="sxs-lookup"><span data-stu-id="618cb-366">[**RBAC**][RBAC].</span></span> <span data-ttu-id="618cb-367">Mediante RBAC, es posible asignar roles organizativos junto con los derechos de acceso a recursos específicos de Azure, lo que le permite restringir a los usuarios a solo un subconjunto determinado de acciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-367">Through RBAC, it is possible to map organizational role along with rights to access specific Azure resources, allowing you to restrict users to only a certain subset of actions.</span></span> <span data-ttu-id="618cb-368">Con RBAC puede conceder acceso asignando el rol adecuado a usuarios, grupos y aplicaciones dentro del ámbito correspondiente.</span><span class="sxs-lookup"><span data-stu-id="618cb-368">With RBAC, you can grant access by assigning the appropriate role to users, groups, and applications within the relevant scope.</span></span> <span data-ttu-id="618cb-369">El ámbito de una asignación de roles puede ser una suscripción de Azure, un grupo de recursos o un único recurso.</span><span class="sxs-lookup"><span data-stu-id="618cb-369">The scope of a role assignment can be an Azure subscription, a resource group, or a single resource.</span></span> <span data-ttu-id="618cb-370">RBAC permite la herencia de permisos.</span><span class="sxs-lookup"><span data-stu-id="618cb-370">RBAC allows inheritance of permissions.</span></span> <span data-ttu-id="618cb-371">Un rol asignado en un ámbito principal también concede acceso a los elementos secundarios dentro del mismo.</span><span class="sxs-lookup"><span data-stu-id="618cb-371">A role assigned at a parent scope also grants access to the children contained within it.</span></span> <span data-ttu-id="618cb-372">Con RBAC podrá repartir las tareas y conceder a los usuarios únicamente el nivel de acceso que necesitan para realizar su trabajo.</span><span class="sxs-lookup"><span data-stu-id="618cb-372">Using RBAC, you can segregate duties and grant only the amount of access to users that they need to perform their jobs.</span></span> <span data-ttu-id="618cb-373">Por ejemplo, utilice RBAC para dejar que un empleado administre máquinas virtuales en una suscripción y que otro pueda administrar bases de datos SQL en la misma suscripción.</span><span class="sxs-lookup"><span data-stu-id="618cb-373">For example, use RBAC to let one employee manage virtual machines in a subscription, while another can manage SQL DBs within the same subscription.</span></span>
-   <span data-ttu-id="618cb-374">[**Emparejamiento de redes virtuales**][VNetPeering].</span><span class="sxs-lookup"><span data-stu-id="618cb-374">[**VNet Peering**][VNetPeering].</span></span> <span data-ttu-id="618cb-375">La característica fundamental que se usa para crear la infraestructura del centro de datos virtual es Emparejamiento de redes virtuales, un mecanismo que conecta dos redes virtuales (VNet) de la misma región mediante la red del centro de datos de Azure o la red troncal mundial de Azure para regiones distintas.</span><span class="sxs-lookup"><span data-stu-id="618cb-375">The fundamental feature used to create the infrastructure of the VDC is VNet Peering, a mechanism that connects two virtual networks (VNets) in the same region through the Azure datacenter network, or using the Azure world-wide backbone across regions.</span></span>

#### <a name="component-type-perimeter-networks"></a><span data-ttu-id="618cb-376">Tipo de componente: Redes perimetrales</span><span class="sxs-lookup"><span data-stu-id="618cb-376">Component Type: Perimeter Networks</span></span>

<span data-ttu-id="618cb-377">Los componentes de la [red perimetral][DMZ] habilitan la conectividad de red entre su redes locales o con la del centro de datos físico, así como todo tipo de conectividad hacia Internet y desde este.</span><span class="sxs-lookup"><span data-stu-id="618cb-377">[Perimeter network][DMZ] components enable network connectivity between your on-premises or physical datacenter networks, along with any connectivity to and from the Internet.</span></span> <span data-ttu-id="618cb-378">También es donde probablemente los equipos de red y seguridad empleen la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="618cb-378">It's also where your network and security teams likely spend most of their time.</span></span>

<span data-ttu-id="618cb-379">Los paquetes entrantes deben fluir a través de las aplicaciones de seguridad del centro antes de llegar a los servidores back-end en los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-379">Incoming packets should flow through the security appliances in the hub before reaching the back-end servers in the spokes.</span></span> <span data-ttu-id="618cb-380">Algunos ejemplos: el firewall, IDS e IPS.</span><span class="sxs-lookup"><span data-stu-id="618cb-380">Examples are the firewall, IDS, and IPS.</span></span> <span data-ttu-id="618cb-381">Antes de abandonar la red, los paquetes enlazados a Internet desde las cargas de trabajo también deberían fluir a través de las aplicaciones de seguridad de la red perimetral.</span><span class="sxs-lookup"><span data-stu-id="618cb-381">Before they leave the network, internet-bound packets from the workloads should also flow through the security appliances in the perimeter network.</span></span> <span data-ttu-id="618cb-382">Este flujo tiene fines de auditoría, inspección y aplicación de directivas.</span><span class="sxs-lookup"><span data-stu-id="618cb-382">The purposes of this flow are policy enforcement, inspection, and auditing.</span></span>

<span data-ttu-id="618cb-383">Los componentes de la red perimetral proporcionan las siguientes características:</span><span class="sxs-lookup"><span data-stu-id="618cb-383">Perimeter network components provide the following features:</span></span>

-   <span data-ttu-id="618cb-384">[Redes virtuales][VNet], [UDR][UDR] y [NSG][NSG]</span><span class="sxs-lookup"><span data-stu-id="618cb-384">[Virtual networks][VNet], [UDRs][UDR], and [NSGs][NSG]</span></span>
-   <span data-ttu-id="618cb-385">[Aplicaciones virtuales de red][NVA]</span><span class="sxs-lookup"><span data-stu-id="618cb-385">[Network virtual appliances][NVA]</span></span>
-   <span data-ttu-id="618cb-386">[Azure Load Balancer][ALB]</span><span class="sxs-lookup"><span data-stu-id="618cb-386">[Azure Load Balancer][ALB]</span></span>
-   <span data-ttu-id="618cb-387">[Azure Application Gateway][AppGW] y [Firewall de aplicaciones web (WAF)][WAF]</span><span class="sxs-lookup"><span data-stu-id="618cb-387">[Azure Application Gateway][AppGW] and [web application firewall (WAF)][WAF]</span></span>
-   <span data-ttu-id="618cb-388">[Direcciones IP públicas][PIP]</span><span class="sxs-lookup"><span data-stu-id="618cb-388">[Public IPs][PIP]</span></span>
-   <span data-ttu-id="618cb-389">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="618cb-389">[Azure Front Door][AFD]</span></span>
-   <span data-ttu-id="618cb-390">[Azure Firewall][AzFW]</span><span class="sxs-lookup"><span data-stu-id="618cb-390">[Azure Firewall][AzFW]</span></span>

<span data-ttu-id="618cb-391">Normalmente, los equipos de TI central y de seguridad tienen la responsabilidad de la definición de requisitos y el funcionamiento de las redes perimetrales.</span><span class="sxs-lookup"><span data-stu-id="618cb-391">Usually, the central IT and security teams have responsibility for requirement definition and operation of the perimeter networks.</span></span>

<span data-ttu-id="618cb-392">[![7]][7]</span><span class="sxs-lookup"><span data-stu-id="618cb-392">[![7]][7]</span></span>

<span data-ttu-id="618cb-393">El diagrama anterior muestra el cumplimiento de dos perímetros con acceso a Internet y a una red local, ambos residentes en los centros DMZ y WAN virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-393">The preceding diagram shows the enforcement of two perimeters with access to the internet and an on-premises network, both resident in the DMZ and vWAN hubs.</span></span> <span data-ttu-id="618cb-394">En el centro DMZ, la red perimetral a Internet puede escalar verticalmente para admitir grandes cantidades de líneas de negocio mediante varias granjas de firewalls de aplicaciones web (WAF) y/o instancias de Azure Firewall.</span><span class="sxs-lookup"><span data-stu-id="618cb-394">In the DMZ hub, the perimeter network to internet can scale up to support large numbers of LOBs, using multiple farms of Web Application Firewalls (WAFs) and/or Azure Firewalls.</span></span> <span data-ttu-id="618cb-395">En el centro de WAN virtual, la conectividad altamente escalable entre ramas y de rama a Azure se logra a través de VPN o ExpressRoute cuando sea necesario.</span><span class="sxs-lookup"><span data-stu-id="618cb-395">In the vWAN hub, highly scalable branch to branch and branch to Azure connectivity is accomplished via VPN or ExpressRoute as needed.</span></span>

<span data-ttu-id="618cb-396">[**Virtual Networks**][VNet].</span><span class="sxs-lookup"><span data-stu-id="618cb-396">[**Virtual networks**][VNet].</span></span> <span data-ttu-id="618cb-397">El centro normalmente se basa en una red virtual con varias subredes para hospedar los distintos tipos de servicios con filtrado e inspección del tráfico hacia o desde Internet mediante NVA, WAF e instancias de Azure Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-397">The hub is typically built on a virtual network with multiple subnets to host the different types of services that filter and inspect traffic to or from the internet via NVAs, WAF, and Azure Application Gateway instances.</span></span>

<span data-ttu-id="618cb-398">[**UDR**][UDR] Mediante las UDR, los clientes pueden implementar firewalls, IDS/IPS y otras aplicaciones virtuales, y enrutar el tráfico de red a través de estas aplicaciones de seguridad para la aplicación de directivas de límites de seguridad, auditoría e inspección.</span><span class="sxs-lookup"><span data-stu-id="618cb-398">[**UDR**][UDR] Using UDRs, customers can deploy firewalls, IDS/IPS, and other virtual appliances, and route network traffic through these security appliances for security boundary policy enforcement, auditing, and inspection.</span></span> <span data-ttu-id="618cb-399">Las UDR pueden crearse en el concentrador y los radios para garantizar que el tráfico transita a través de máquinas virtuales personalizadas específicas, aplicaciones virtuales de red y equilibradores de carga utilizados en una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-399">UDRs can be created in both the hub and the spokes to guarantee that traffic transits through the specific custom VMs, Network Virtual Appliances, and load balancers used by a VDC implementation.</span></span> <span data-ttu-id="618cb-400">Para garantizar que el tráfico generado desde máquinas virtuales residentes en el radio transita a las aplicaciones virtuales correctas, se debe establecer una UDR en las subredes del radio configurando la dirección IP del front-end del equilibrador de carga interno como el próximo salto.</span><span class="sxs-lookup"><span data-stu-id="618cb-400">To guarantee that traffic generated from VMs resident in the spoke transit to the correct virtual appliances, a UDR needs to be set in the subnets of the spoke by setting the front-end IP address of the internal load balancer as the next-hop.</span></span> <span data-ttu-id="618cb-401">El equilibrador de carga interno distribuye el tráfico interno a las aplicaciones virtuales (grupo de back-end de equilibradores de carga).</span><span class="sxs-lookup"><span data-stu-id="618cb-401">The internal load balancer distributes the internal traffic to the virtual appliances (load balancer back-end pool).</span></span>

<span data-ttu-id="618cb-402">[**Azure Firewall**][AzFW] es un servicio de seguridad de red administrado y basado en la nube que protege los recursos de Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="618cb-402">[**Azure Firewall**][AzFW] is a managed, cloud-based network security service that protects your Azure Virtual Network resources.</span></span> <span data-ttu-id="618cb-403">Se trata de un firewall como servicio con estado completo que incorpora alta disponibilidad y escalabilidad a la nube sin restricciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-403">It's a fully stateful firewall as a service with built-in high availability and unrestricted cloud scalability.</span></span> <span data-ttu-id="618cb-404">Puede crear, aplicar y registrar directivas de aplicaciones y de conectividad de red a nivel central en suscripciones y redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="618cb-404">You can centrally create, enforce, and log application and network connectivity policies across subscriptions and virtual networks.</span></span> <span data-ttu-id="618cb-405">Azure Firewall usa una dirección IP pública estática para los recursos de red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-405">Azure Firewall uses a static public IP address for your virtual network resources.</span></span> <span data-ttu-id="618cb-406">Esto permite que los firewalls externos identifiquen el tráfico que procede de su red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-406">It allows outside firewalls to identify traffic that originates from your virtual network.</span></span> <span data-ttu-id="618cb-407">El servicio está totalmente integrado con Azure Monitor para los registros y análisis.</span><span class="sxs-lookup"><span data-stu-id="618cb-407">The service is fully integrated with Azure Monitor for logging and analytics.</span></span>

<span data-ttu-id="618cb-408">[**Aplicaciones virtuales de red**][NVA].</span><span class="sxs-lookup"><span data-stu-id="618cb-408">[**Network virtual appliances**][NVA].</span></span> <span data-ttu-id="618cb-409">En el centro, la red perimetral con acceso a Internet se administra normalmente a través de una instancia de Azure Firewall o una granja de firewalls o mediante un firewall de aplicaciones web (WAF).</span><span class="sxs-lookup"><span data-stu-id="618cb-409">In the hub, the perimeter network with access to the internet is normally managed through an Azure Firewall instance or a farm of firewalls or web application firewall (WAF).</span></span>

<span data-ttu-id="618cb-410">Las diferentes líneas de negocio normalmente utilizan muchas aplicaciones web.</span><span class="sxs-lookup"><span data-stu-id="618cb-410">Different LOBs commonly use many web applications.</span></span> <span data-ttu-id="618cb-411">Estas aplicaciones tienden a sufrir varias vulnerabilidades y posibles puntos débiles.</span><span class="sxs-lookup"><span data-stu-id="618cb-411">These applications tend to suffer from various vulnerabilities and potential exploits.</span></span> <span data-ttu-id="618cb-412">Los firewall de aplicaciones web son un tipo especial de producto que se usa para detectar ataques contra las aplicaciones web (HTTP/HTTPS) con mayor profundidad que un firewall genérico.</span><span class="sxs-lookup"><span data-stu-id="618cb-412">Web application firewalls are a special type of product used to detect attacks against web applications, HTTP/HTTPS, in more depth than a generic firewall.</span></span> <span data-ttu-id="618cb-413">En comparación con la tecnología de firewall tradicional, los WAF tienen un conjunto de características específicas para proteger los servidores web internos frente a amenazas.</span><span class="sxs-lookup"><span data-stu-id="618cb-413">Compared with tradition firewall technology, WAFs have a set of specific features to protect internal web servers from threats.</span></span>

<span data-ttu-id="618cb-414">Una instancia de Azure Firewall o un firewall de aplicación virtual de red utilizan un plano de administración común, con un conjunto de reglas de seguridad para proteger las cargas de trabajo hospedadas en los radios y controlar el acceso a las redes locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-414">An Azure Firewall or NVA firewall both use a common administration plane, with a set of security rules to protect the workloads hosted in the spokes, and control access to on-premises networks.</span></span> <span data-ttu-id="618cb-415">Azure Firewall tiene escalabilidad integrada, mientras que los firewalls de aplicación virtual de red se pueden escalar manualmente detrás de un equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="618cb-415">The Azure Firewall has scalability built in, whereas NVA firewalls can be manually scaled behind a load balancer.</span></span> <span data-ttu-id="618cb-416">En general, una granja de firewalls tiene menos software especializado en comparación con un WAF, pero tiene un ámbito más amplio de aplicación para filtrar e inspeccionar cualquier tipo de tráfico de entrada y salida.</span><span class="sxs-lookup"><span data-stu-id="618cb-416">Generally, a firewall farm has less specialized software compared with a WAF, but has a broader application scope to filter and inspect any type of traffic in egress and ingress.</span></span> <span data-ttu-id="618cb-417">Si se usa un enfoque de aplicación virtual de red, puede encontrarlos e implementarlos desde Azure Marketplace.</span><span class="sxs-lookup"><span data-stu-id="618cb-417">If an NVA approach is used, they can be found and deployed from the Azure marketplace.</span></span>

<span data-ttu-id="618cb-418">Use un conjunto de instancias de Azure Firewall (o aplicaciones de red virtual) para el tráfico que se origina en Internet y otro para el que se origina en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="618cb-418">Use one set of Azure Firewalls (or NVAs) for traffic originating on the Internet, and another for traffic originating on-premises.</span></span> <span data-ttu-id="618cb-419">Utilizar únicamente un conjunto de firewalls para ambos es un riesgo de seguridad, ya que no proporciona ningún perímetro de seguridad entre los dos conjuntos de tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-419">Using only one set of firewalls for both is a security risk, as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="618cb-420">El uso de capas de firewalls independientes reduce la complejidad de la comprobación de las reglas de seguridad y deja claro qué reglas se corresponden con cada solicitud de red entrante.</span><span class="sxs-lookup"><span data-stu-id="618cb-420">Using separate firewall layers reduces the complexity of checking security rules, and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="618cb-421">Es recomendable que use un conjunto de instancias de Azure Firewall o de aplicaciones virtuales de red para el tráfico que se origina en Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-421">We recommend that you use one set of Azure Firewall instances, or NVAs, for traffic originating on the internet.</span></span> <span data-ttu-id="618cb-422">Use otro para el tráfico que se origina en el entorno local.</span><span class="sxs-lookup"><span data-stu-id="618cb-422">Use another for traffic originating on-premises.</span></span> <span data-ttu-id="618cb-423">Utilizar únicamente un conjunto de firewalls para ambos es un riesgo de seguridad, ya que no proporciona ningún perímetro de seguridad entre los dos conjuntos de tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-423">Using only one set of firewalls for both is a security risk as it provides no security perimeter between the two sets of network traffic.</span></span> <span data-ttu-id="618cb-424">El uso de capas de firewalls independientes reduce la complejidad de la comprobación de las reglas de seguridad y deja claro qué reglas se corresponden con cada solicitud de red entrante.</span><span class="sxs-lookup"><span data-stu-id="618cb-424">Using separate firewall layers reduces the complexity of checking security rules and makes it clear which rules correspond to which incoming network request.</span></span>

<span data-ttu-id="618cb-425">[**Azure Load Balancer**][ALB] ofrece un servicio de nivel 4 (TCP y UDP) de alta disponibilidad que puede distribuir el tráfico entrante entre instancias del servicio definidas en un conjunto de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="618cb-425">[**Azure Load Balancer**][ALB] offers a high availability Layer 4 (TCP, UDP) service, which can distribute incoming traffic among service instances defined in a load-balanced set.</span></span> <span data-ttu-id="618cb-426">El tráfico enviado al equilibrador de carga desde los puntos de conexión front-end (puntos de conexión de direcciones IP públicas o privadas) se puede redistribuir con o sin traducción de direcciones a un conjunto de grupo de direcciones IP de back-end (ejemplo: aplicaciones virtuales de red o máquinas virtuales).</span><span class="sxs-lookup"><span data-stu-id="618cb-426">Traffic sent to the load balancer from front-end endpoints (public IP endpoints or private IP endpoints) can be redistributed with or without address translation to a set of back-end IP address pool (examples being; Network Virtual Appliances or VMs).</span></span>

<span data-ttu-id="618cb-427">Azure Load Balancer puede sondear el estado de las diversas instancias de servidor y, cuando un sondeo no responde, el equilibrador de carga deja de enviar tráfico a la instancia incorrecta.</span><span class="sxs-lookup"><span data-stu-id="618cb-427">Azure Load Balancer can probe the health of the various server instances as well, and when a probe fails to respond the load balancer stops sending traffic to the unhealthy instance.</span></span> <span data-ttu-id="618cb-428">En el centro de datos virtual se implementa un equilibrador de carga externo en el centro y en los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-428">In the VDC, an external load balancer is deployed to the hub and the spokes.</span></span> <span data-ttu-id="618cb-429">En el centro, el equilibrador de carga se usa para enrutar el tráfico de forma eficaz a los servicios en los radios, mientras que en los radios, los equilibradores de carga se utilizan para administrar el tráfico de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="618cb-429">In the hub, the load balancer is used to efficiently route traffic to services in the spokes, and in the spokes, load balancers are used to manage application traffic.</span></span>

<span data-ttu-id="618cb-430">[**Azure Front Door**][AFD] (AFD) es la plataforma de aceleración de aplicaciones web altamente disponible y escalable de Microsoft, un equilibrador de carga HTTP global con capacidades de protección de aplicaciones y red de entrega de contenido.</span><span class="sxs-lookup"><span data-stu-id="618cb-430">[**Azure Front Door**][AFD] (AFD) is Microsoft's highly available and scalable Web Application Acceleration Platform, Global HTTP Load Balancer, Application Protection, and Content Delivery Network.</span></span> <span data-ttu-id="618cb-431">Al ejecutarse en más de 100 ubicaciones en el perímetro de la red global de Microsoft, AFD le permite crear, operar y escalar horizontalmente una aplicación web dinámica y contenido estático.</span><span class="sxs-lookup"><span data-stu-id="618cb-431">Running in more than 100 locations at the Edge of Microsoft's Global Network, AFD enables you to build, operate, and scale out your dynamic web application and static content.</span></span> <span data-ttu-id="618cb-432">AFD proporciona a la aplicación un rendimiento de usuario final de primer orden, una automatización de mantenimiento de marca/regional unificada, una automatización de BCDR, una información de cliente/usuario unificada, un almacenamiento en caché y una información detallada de servicios.</span><span class="sxs-lookup"><span data-stu-id="618cb-432">AFD provides your application with world-class end-user performance, unified regional/stamp maintenance automation, BCDR automation, unified client/user information, caching, and service insights.</span></span> <span data-ttu-id="618cb-433">La plataforma ofrece rendimiento, confiabilidad y compatibilidad con los acuerdos de nivel de servicio, certificaciones de cumplimiento y prácticas de seguridad auditables desarrolladas y operadas por Azure, y compatibles de forma nativa con Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-433">The platform offers performance, reliability and support SLAs, compliance certifications and auditable security practices developed, operated, and supported natively by Azure.</span></span>

<span data-ttu-id="618cb-434">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway es una aplicación virtual dedicada que proporciona un controlador de entrega de aplicaciones (ADC) como servicio y ofrece numerosas funcionalidades de equilibrio de carga de nivel 7 para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="618cb-434">[**Application Gateway**][AppGW] Microsoft Azure Application Gateway is a dedicated virtual appliance providing application delivery controller (ADC) as a service, offering various layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="618cb-435">Le permite optimizar la productividad de las granjas de servidores web traspasando la carga de la terminación SSL con mayor actividad de la CPU a Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-435">It allows you to optimize web farm productivity by offloading CPU intensive SSL termination to the application gateway.</span></span> <span data-ttu-id="618cb-436">Además, dispone de otras funcionalidades de enrutamiento de nivel 7, como la distribución round robin del tráfico entrante, la afinidad de sesiones basada en cookies, el enrutamiento basado en rutas de acceso URL y la capacidad de hospedar varios sitios web detrás de una única puerta de enlace de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-436">It also provides other layer 7 routing capabilities including round robin distribution of incoming traffic, cookie-based session affinity, URL path-based routing, and the ability to host multiple websites behind a single Application Gateway.</span></span> <span data-ttu-id="618cb-437">También se proporciona un firewall de aplicaciones web (WAF) como parte de la SKU de WAF de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-437">A web application firewall (WAF) is also provided as part of the application gateway WAF SKU.</span></span> <span data-ttu-id="618cb-438">Esta SKU proporciona protección a las aplicaciones web frente a vulnerabilidades web y vulnerabilidades de seguridad comunes.</span><span class="sxs-lookup"><span data-stu-id="618cb-438">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="618cb-439">Application Gateway puede configurarse como una puerta de enlace orientada a Internet, una puerta de enlace solo para uso interno o una combinación de las dos.</span><span class="sxs-lookup"><span data-stu-id="618cb-439">Application Gateway can be configured as internet facing gateway, internal only gateway, or a combination of both.</span></span> 

<span data-ttu-id="618cb-440">[**Application Gateway**][AppGW] es una aplicación virtual dedicada que ofrece un controlador de entrega de aplicaciones (ADC) que se ofrece como servicio y que proporciona numerosas funcionalidades de equilibrio de carga de nivel 7 para una aplicación.</span><span class="sxs-lookup"><span data-stu-id="618cb-440">[**Application Gateway**][AppGW] is a dedicated virtual appliance that provides application delivery controller (ADC) as a service, offering various layer 7 load-balancing capabilities for your application.</span></span> <span data-ttu-id="618cb-441">Puede optimizar la productividad de las granjas de servidores web traspasando la carga de la terminación SSL con uso intensivo de la CPU a la instancia de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-441">You can optimize web farm productivity by offloading CPU-intensive SSL termination to the Application Gateway instance.</span></span> <span data-ttu-id="618cb-442">También proporciona otras funcionalidades de enrutamiento de capa 7 entre las que se incluyen las siguientes:</span><span class="sxs-lookup"><span data-stu-id="618cb-442">It also provides other layer 7 routing capabilities that include the following examples:</span></span> 
* <span data-ttu-id="618cb-443">Distribución round robin del tráfico entrante.</span><span class="sxs-lookup"><span data-stu-id="618cb-443">Round robin distribution of incoming traffic.</span></span> 
* <span data-ttu-id="618cb-444">Afinidad de sesión basada en cookies.</span><span class="sxs-lookup"><span data-stu-id="618cb-444">Cookie-based session affinity.</span></span> 
* <span data-ttu-id="618cb-445">Enrutamiento basado en URL.</span><span class="sxs-lookup"><span data-stu-id="618cb-445">URL path-based routing.</span></span> 
* <span data-ttu-id="618cb-446">La capacidad de hospedar varios sitios web en una sola instancia de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-446">The ability to host multiple websites behind a single Application Gateway instance.</span></span> <span data-ttu-id="618cb-447">También se proporciona un firewall de aplicaciones web (WAF) como parte de la SKU de WAF de Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-447">Web application firewall (WAF) is also provided as part of the Application Gateway WAF SKU.</span></span> <span data-ttu-id="618cb-448">Esta SKU proporciona protección a las aplicaciones web frente a vulnerabilidades web y vulnerabilidades de seguridad comunes.</span><span class="sxs-lookup"><span data-stu-id="618cb-448">This SKU provides protection to web applications from common web vulnerabilities and exploits.</span></span> <span data-ttu-id="618cb-449">Application Gateway puede configurarse como una puerta de enlace accesible desde Internet, una puerta de enlace solo para uso interno o una combinación de las dos.</span><span class="sxs-lookup"><span data-stu-id="618cb-449">Application Gateway can be configured as an internet-facing gateway, an internal-only gateway, or a combination of both.</span></span> 

<span data-ttu-id="618cb-450">[**Direcciones IP públicas**][PIP].</span><span class="sxs-lookup"><span data-stu-id="618cb-450">[**Public IPs**][PIP].</span></span> <span data-ttu-id="618cb-451">Algunas características de Azure le permiten asociar los puntos de conexión de servicio a una dirección IP pública que permite al recurso estar accesible desde Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-451">With some Azure features, you can associate service endpoints to a public IP address, so that your resource can be accessed from the internet.</span></span> <span data-ttu-id="618cb-452">Este punto de conexión usa la traducción de direcciones de red (NAT) para enrutar el tráfico a la dirección interna y el puerto de la red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-452">This endpoint uses network address translation (NAT) to route traffic to the internal address and port on the Azure virtual network.</span></span> <span data-ttu-id="618cb-453">Esta ruta es la vía principal para que el tráfico externo pase a la red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-453">This path is the primary way for external traffic to pass into the virtual network.</span></span> <span data-ttu-id="618cb-454">Las direcciones IP públicas se pueden configurar para determinar qué tráfico se pasa y cómo y a dónde se traslada en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-454">You can configure public IP addresses to determine which traffic is passed in and how and where it's translated onto the virtual network.</span></span>

<span data-ttu-id="618cb-455">[**Azure DDoS Protection estándar**][DDOS] ofrece funcionalidades adicionales de mitigación en comparación con el nivel de [Servicio básico][DDOS], adaptadas específicamente a los recursos de Azure Virtual Network.</span><span class="sxs-lookup"><span data-stu-id="618cb-455">[**Azure DDoS Protection Standard**][DDOS] provides additional mitigation capabilities over the [Basic service][DDOS] tier that are tuned specifically to Azure Virtual Network resources.</span></span> <span data-ttu-id="618cb-456">El servicio Protección contra DDoS estándar es fácil de habilitar y no requiere ningún cambio en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="618cb-456">DDoS Protection Standard is simple to enable and requires no application changes.</span></span> <span data-ttu-id="618cb-457">Las directivas de protección se ajustan a través de la supervisión del tráfico dedicado y los algoritmos de Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="618cb-457">Protection policies are tuned through dedicated traffic monitoring and machine learning algorithms.</span></span> <span data-ttu-id="618cb-458">Las directivas se aplican a direcciones IP públicas asociadas a recursos implementados en redes virtuales.</span><span class="sxs-lookup"><span data-stu-id="618cb-458">Policies are applied to public IP addresses associated to resources deployed in virtual networks.</span></span> <span data-ttu-id="618cb-459">Algunos ejemplos son instancias de Azure Load Balancer, Azure Application Gateway y Azure Service Fabric.</span><span class="sxs-lookup"><span data-stu-id="618cb-459">Examples are Azure Load Balancer, Azure Application Gateway, and Azure Service Fabric instances.</span></span> <span data-ttu-id="618cb-460">La telemetría en tiempo real está disponible a través de las vistas de Azure Monitor durante un ataque y para el historial.</span><span class="sxs-lookup"><span data-stu-id="618cb-460">Real-time telemetry is available through Azure Monitor views during an attack and for history.</span></span> <span data-ttu-id="618cb-461">Se puede agregar protección en la capa de aplicación mediante el firewall de aplicaciones web de Azure Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="618cb-461">Application layer protection can be added through the Azure Application Gateway web application firewall.</span></span> <span data-ttu-id="618cb-462">Se proporciona protección para direcciones IP públicas de Azure IPv4.</span><span class="sxs-lookup"><span data-stu-id="618cb-462">Protection is provided for IPv4 Azure public IP addresses.</span></span>

#### <a name="component-type-monitoring"></a><span data-ttu-id="618cb-463">Tipo de componente: Supervisión</span><span class="sxs-lookup"><span data-stu-id="618cb-463">Component type: Monitoring</span></span>

<span data-ttu-id="618cb-464">Los componentes de supervisión proporcionan visibilidad y alertas sobre todos los demás tipos de componentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-464">Monitoring components provide visibility and alerting from all the other components types.</span></span> <span data-ttu-id="618cb-465">Todos los equipos deben tener acceso a la supervisión de los componentes y servicios a los que tienen acceso.</span><span class="sxs-lookup"><span data-stu-id="618cb-465">All teams should have access to monitoring for the components and services they have access to.</span></span> <span data-ttu-id="618cb-466">Si tiene equipos de soporte técnico o de operaciones centralizados, necesitan un acceso integrado a los datos que proporcionan estos componentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-466">If you have a centralized help desk or operations teams, they require integrated access to the data provided by these components.</span></span>

<span data-ttu-id="618cb-467">Azure ofrece diferentes tipos de servicios de registro y supervisión para realizar un seguimiento del comportamiento de los recursos hospedados en Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-467">Azure offers different types of logging and monitoring services to track the behavior of Azure-hosted resources.</span></span> <span data-ttu-id="618cb-468">La regulación y el control de las cargas de trabajo en Azure no se basa solo en recopilar datos de registro, sino también en la posibilidad de desencadenar acciones basándose en eventos notificados específicos.</span><span class="sxs-lookup"><span data-stu-id="618cb-468">Governance and control of workloads in Azure is based not just on collecting log data but also on the ability to trigger actions based on specific reported events.</span></span>

<span data-ttu-id="618cb-469">[**Azure Monitor**][Monitor].</span><span class="sxs-lookup"><span data-stu-id="618cb-469">[**Azure Monitor**][Monitor].</span></span> <span data-ttu-id="618cb-470">Azure incluye varios servicios que realizan individualmente una tarea o un rol específico en el espacio de supervisión.</span><span class="sxs-lookup"><span data-stu-id="618cb-470">Azure includes multiple services that individually perform a specific role or task in the monitoring space.</span></span> <span data-ttu-id="618cb-471">Juntos, estos servicios ofrecen una solución completa para recopilar, analizar y actuar en la telemetría de la aplicación y los recursos de Azure que las admiten.</span><span class="sxs-lookup"><span data-stu-id="618cb-471">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your application and the Azure resources that support them.</span></span> <span data-ttu-id="618cb-472">También pueden servir para supervisar recursos locales críticos, a fin de proporcionar un entorno de supervisión híbrido.</span><span class="sxs-lookup"><span data-stu-id="618cb-472">They can also work to monitor critical on-premises resources in order to provide a hybrid monitoring environment.</span></span> <span data-ttu-id="618cb-473">Conocer las herramientas y los datos que están disponibles es el primer paso para desarrollar una estrategia de supervisión completa para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="618cb-473">Understanding the tools and data that are available is the first step in developing a complete monitoring strategy for your application.</span></span>

<span data-ttu-id="618cb-474">Hay dos tipos principales de registros en Azure:</span><span class="sxs-lookup"><span data-stu-id="618cb-474">There are two major types of logs in Azure:</span></span>

-   <span data-ttu-id="618cb-475">Los [registros de actividad de Azure][ActLog] (conocidos anteriormente como **Registros operativos**) proporcionan una visión general de las operaciones realizadas en recursos de la suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-475">The [Azure Activity Log][ActLog], previously called **Operational Logs**, provides insight into the operations that were performed on resources in the Azure subscription.</span></span> <span data-ttu-id="618cb-476">Estos registros informan sobre los eventos en el plano de control de las suscripciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-476">These logs report the control-plane events for your subscriptions.</span></span> <span data-ttu-id="618cb-477">Todos los recursos de Azure generan registros de auditoría.</span><span class="sxs-lookup"><span data-stu-id="618cb-477">Every Azure resource produces audit logs.</span></span>

-   <span data-ttu-id="618cb-478">[Los registros de diagnóstico de Azure Monitor][DiagLog] son registros generados por un recurso que proporcionan datos exhaustivos y frecuentes acerca del funcionamiento de ese recurso.</span><span class="sxs-lookup"><span data-stu-id="618cb-478">[Azure Monitor diagnostic logs][DiagLog] are logs generated by a resource that provides rich, frequent data about the operation of that resource.</span></span> <span data-ttu-id="618cb-479">El contenido de estos registros varía según el tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="618cb-479">The content of these logs varies by resource type.</span></span>

<span data-ttu-id="618cb-480">[![9]][9]</span><span class="sxs-lookup"><span data-stu-id="618cb-480">[![9]][9]</span></span>

<span data-ttu-id="618cb-481">Es importante realizar el seguimiento de los registros de los grupos de seguridad de red, especialmente de esta información:</span><span class="sxs-lookup"><span data-stu-id="618cb-481">It is important to track the NSGs logs, particularly this information:</span></span>

-   <span data-ttu-id="618cb-482">[Registros de eventos][NSGLog]: proporcionan información sobre qué reglas de grupos de seguridad de red se aplican a las máquinas virtuales y a los roles de instancia en función de la dirección MAC.</span><span class="sxs-lookup"><span data-stu-id="618cb-482">[Event logs][NSGLog] provide information on what NSG rules are applied to VMs and instance roles based on MAC address.</span></span>
-   <span data-ttu-id="618cb-483">[Registros de contador][NSGLog]: realizan el seguimiento sobre cuántas veces se aplica cada regla de los grupos de seguridad de red para denegar o permitir el tráfico.</span><span class="sxs-lookup"><span data-stu-id="618cb-483">[Counter logs][NSGLog] track how many times each NSG rule was run to deny or allow traffic.</span></span>

<span data-ttu-id="618cb-484">Todos los registros se pueden almacenar en cuentas de Azure Storage con fines de auditoría, análisis estático o copia de seguridad.</span><span class="sxs-lookup"><span data-stu-id="618cb-484">All logs can be stored in Azure storage accounts for audit, static analysis, or backup purposes.</span></span> <span data-ttu-id="618cb-485">Cuando los registros se almacenan en una cuenta de Azure Storage, los clientes pueden usar diferentes tipos de plataformas de trabajo para recuperar, preparar, analizar y visualizar estos datos para notificar el estado de los recursos en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-485">When you store the logs in an Azure storage account, customers can use different types of frameworks to retrieve, prep, analyze, and visualize this data to report the status and health of cloud resources.</span></span> 

<span data-ttu-id="618cb-486">Las grandes empresas ya deberían haber adquirido una plataforma estándar para la supervisión de sistemas locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-486">Large enterprises should already have acquired a standard framework for monitoring on-premises systems.</span></span> <span data-ttu-id="618cb-487">Pueden ampliar esa plataforma para que integre los registros generados por las implementaciones de nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-487">They can extend that framework to integrate logs generated by cloud deployments.</span></span> <span data-ttu-id="618cb-488">Mediante el uso de [Azure Log Analytics] [https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries], las organizaciones pueden mantener todos los registros en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-488">By using [Azure Log Analytics][https://docs.microsoft.com/en-us/azure/log-analytics/log-analytics-queries], organizations can keep all the logging in the cloud.</span></span> <span data-ttu-id="618cb-489">Log Analytics se implementa como un servicio basado en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-489">Log Analytics is implemented as a cloud-based service.</span></span> <span data-ttu-id="618cb-490">Por tanto, lo puede encender y ejecutar rápidamente con una mínima inversión en servicios de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="618cb-490">So you have it up and running quickly with minimal investment in infrastructure services.</span></span> <span data-ttu-id="618cb-491">Log Analytics puede también integrarse con componentes de System Center, como System Center Operations Manager, para ampliar sus inversiones existentes de administración en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-491">Log Analytics also integrate with System Center components like System Center Operations Manager to extend your existing management investments into the cloud.</span></span> 

<span data-ttu-id="618cb-492">Log Analytics es un servicio de Azure que ayuda a recopilar, correlacionar, buscar y actuar en los datos de registro y rendimiento generados por los sistemas operativos, aplicaciones y componentes de infraestructura en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-492">Log Analytics is a service in Azure that helps collect, correlate, search, and act on log and performance data generated by operating systems, applications, and infrastructure cloud components.</span></span> <span data-ttu-id="618cb-493">Ofrece a los clientes información detallada acerca de las operaciones en tiempo real mediante la búsqueda integrada y paneles personalizados para analizar todos los registros de todas las cargas de trabajo del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-493">It gives customers real-time operational insights using integrated search and custom dashboards to analyze all the records across all your workloads in your VDC implementation.</span></span>

<span data-ttu-id="618cb-494">[Azure Network Watcher][NetWatch] proporciona herramientas para supervisar, diagnosticar, ver las métricas y habilitar o deshabilitar registros de recursos en una red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-494">[Azure Network Watcher][NetWatch] provides tools to monitor, diagnose, and view metrics and enable or disable logs for resources in an Azure virtual network.</span></span> <span data-ttu-id="618cb-495">Es un servicio polifacético, lo que permite las funcionalidades siguientes y muchas más:</span><span class="sxs-lookup"><span data-stu-id="618cb-495">It's a multifaceted service that allows the following functionalities and more:</span></span>
-    <span data-ttu-id="618cb-496">Supervisión de la comunicación entre una máquina virtual y un punto de conexión.</span><span class="sxs-lookup"><span data-stu-id="618cb-496">Monitor communication between a virtual machine and an endpoint.</span></span>
-    <span data-ttu-id="618cb-497">Visualización de recursos de una red virtual y sus relaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-497">View resources in a virtual network and their relationships.</span></span>
-    <span data-ttu-id="618cb-498">Diagnóstico de problemas de filtrado del tráfico de red hacia o desde una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-498">Diagnose network traffic filtering problems to or from a VM.</span></span>
-    <span data-ttu-id="618cb-499">Diagnóstico de problemas de enrutamiento de red desde una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-499">Diagnose network routing problems from a VM.</span></span>
-    <span data-ttu-id="618cb-500">Diagnóstico de conexiones de salida desde una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-500">Diagnose outbound connections from a VM.</span></span>
-    <span data-ttu-id="618cb-501">Captura de paquetes hacia y desde una máquina virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-501">Capture packets to and from a VM.</span></span>
-    <span data-ttu-id="618cb-502">Diagnóstico de problemas con conexiones y la puerta de enlace de una red virtual de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-502">Diagnose problems with an Azure virtual network gateway and connections.</span></span>
-    <span data-ttu-id="618cb-503">Determinación de latencias relativas entre las regiones de Azure y los proveedores de acceso a Internet.</span><span class="sxs-lookup"><span data-stu-id="618cb-503">Determine relative latencies between Azure regions and internet service providers.</span></span>
-    <span data-ttu-id="618cb-504">Visualización de las reglas de seguridad para una interfaz de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-504">View security rules for a network interface.</span></span>
-    <span data-ttu-id="618cb-505">Visualización de métricas de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-505">View network metrics.</span></span>
-    <span data-ttu-id="618cb-506">Análisis del tráfico hacia y desde un grupo de seguridad de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-506">Analyze traffic to or from a network security group.</span></span>
-    <span data-ttu-id="618cb-507">Visualización de registros de diagnóstico de recursos de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-507">View diagnostic logs for network resources.</span></span>

<span data-ttu-id="618cb-508">La solución [Network Performance Monitor][NPM] de Operations Management Suite puede proporcionar una información de red detallada de un extremo a otro.</span><span class="sxs-lookup"><span data-stu-id="618cb-508">The [Network Performance Monitor][NPM] solution inside Operations Management Suite can provide detailed network information end to end.</span></span> <span data-ttu-id="618cb-509">Esta información incluye una vista única de las redes de Azure y las redes locales.</span><span class="sxs-lookup"><span data-stu-id="618cb-509">This information includes a single view of your Azure networks and on-premises networks.</span></span> <span data-ttu-id="618cb-510">La solución dispone de monitores específicos para los servicios públicos y ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="618cb-510">The solution has specific monitors for ExpressRoute and public services.</span></span>

#### <a name="component-type-workloads"></a><span data-ttu-id="618cb-511">Tipo de componente: Cargas de trabajo</span><span class="sxs-lookup"><span data-stu-id="618cb-511">Component type: Workloads</span></span>

<span data-ttu-id="618cb-512">Los componentes de carga de trabajo son donde residen los servicios y aplicaciones reales.</span><span class="sxs-lookup"><span data-stu-id="618cb-512">Workload components are where your actual applications and services reside.</span></span> <span data-ttu-id="618cb-513">También es donde los equipos de desarrollo de aplicaciones dedican la mayor parte de su tiempo.</span><span class="sxs-lookup"><span data-stu-id="618cb-513">It's also where your application development teams spend most of their time.</span></span>

<span data-ttu-id="618cb-514">Las posibilidades de cargas de trabajo son infinitas.</span><span class="sxs-lookup"><span data-stu-id="618cb-514">The workload possibilities are endless.</span></span> <span data-ttu-id="618cb-515">Estos son solo algunos de los tipos posibles de cargas de trabajo:</span><span class="sxs-lookup"><span data-stu-id="618cb-515">The following are just a few of the possible workload types:</span></span>

<span data-ttu-id="618cb-516">**Aplicaciones de línea de negocio internas**: Las aplicaciones de línea de negocio son aplicaciones informáticas necesarias para la operación en curso de una empresa.</span><span class="sxs-lookup"><span data-stu-id="618cb-516">**Internal LOB Applications**: Line-of-business applications are computer applications critical to the ongoing operation of an enterprise.</span></span> <span data-ttu-id="618cb-517">Las aplicaciones de línea de negocio tienen algunas características comunes:</span><span class="sxs-lookup"><span data-stu-id="618cb-517">LOB applications have some common characteristics:</span></span>

-   <span data-ttu-id="618cb-518">Son **interactivas** por naturaleza.</span><span class="sxs-lookup"><span data-stu-id="618cb-518">**Interactive** by nature.</span></span> <span data-ttu-id="618cb-519">Se especifican los datos y se devuelven resultados o informes.</span><span class="sxs-lookup"><span data-stu-id="618cb-519">Data is entered, and results or reports are returned.</span></span>
-   <span data-ttu-id="618cb-520">Se **basan en el uso intensivo de datos**&mdash; con acceso frecuente a bases de datos o a otros almacenamientos de datos.</span><span class="sxs-lookup"><span data-stu-id="618cb-520">**Data driven**&mdash;data intensive with frequent access to databases or other storage.</span></span>
-   <span data-ttu-id="618cb-521">Integración de ofertas **integrada**&mdash; con otros sistemas dentro y fuera de la organización.</span><span class="sxs-lookup"><span data-stu-id="618cb-521">**Integrated**&mdash;offer integration with other systems within or outside the organization.</span></span>

<span data-ttu-id="618cb-522">**Sitios web accesibles para clientes (accesibles desde Internet o internamente)**: La mayoría de las aplicaciones que interactúan con Internet son sitios web.</span><span class="sxs-lookup"><span data-stu-id="618cb-522">**Customer facing web sites (Internet or Internal facing)**: Most applications that interact with the Internet are web sites.</span></span> <span data-ttu-id="618cb-523">Azure ofrece la funcionalidad de ejecutar un sitio web en una máquina virtual de IaaS o desde un sitio de [Azure Web Apps] [ WebApps] (PaaS).</span><span class="sxs-lookup"><span data-stu-id="618cb-523">Azure offers the capability to run a web site on an IaaS VM or from an [Azure Web Apps][WebApps] site (PaaS).</span></span> <span data-ttu-id="618cb-524">Azure Web Apps admite la integración con redes virtuales que permiten la implementación de Web Apps en una zona de red de radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-524">Azure Web Apps support integration with VNets that allow the deployment of the Web Apps in a spoke network zone.</span></span> <span data-ttu-id="618cb-525">Los sitios web a los que se accede internamente no necesitan exponer un punto de conexión público de Internet, ya que se puede acceder a los recursos a través de direcciones privadas enrutables sin conexión a internet desde la red privada virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-525">Internal facing web sites don't need to expose a public internet endpoint becuase the resources are accessible via private non-internet routable addresses from the private VNet.</span></span>

<span data-ttu-id="618cb-526">**Macrodatos y análisis**: Cuando los datos tengan que escalarse verticalmente a volumen grande, es posible que las bases de datos no se escalen correctamente.</span><span class="sxs-lookup"><span data-stu-id="618cb-526">**Big Data/Analytics**: When data needs to scale up to a large volume, databases may not scale up properly.</span></span> <span data-ttu-id="618cb-527">La tecnología de Hadoop ofrece un sistema para ejecutar consultas distribuidas en paralelo en un gran número de nodos.</span><span class="sxs-lookup"><span data-stu-id="618cb-527">Hadoop technology offers a system to run distributed queries in parallel on large number of nodes.</span></span> <span data-ttu-id="618cb-528">Los clientes tienen la opción de ejecutar las cargas de trabajo de datos en máquinas virtuales IaaS o bien en PaaS ([HDInsight][HDI]).</span><span class="sxs-lookup"><span data-stu-id="618cb-528">Customers have the option to run data workloads in IaaS VMs or PaaS ([HDInsight][HDI]).</span></span> <span data-ttu-id="618cb-529">HDInsight admite la implementación en una red virtual basada en la ubicación y se puede implementar en un clúster en un radio del centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-529">HDInsight supports deploying into a location-based VNet, can be deployed to a cluster in a spoke of the VDC.</span></span>

<span data-ttu-id="618cb-530">**Eventos y mensajería**: [Azure Event Hubs][EventHubs] es un servicio de ingestión de datos de telemetría a hiperescala que recopila, transforma y almacena millones de eventos.</span><span class="sxs-lookup"><span data-stu-id="618cb-530">**Events and Messaging**: [Azure Event Hubs][EventHubs] is a hyper-scale telemetry ingestion service that collects, transforms, and stores millions of events.</span></span> <span data-ttu-id="618cb-531">Como plataforma de streaming distribuida, ofrece retención de tiempo configurable y baja latencia, lo que permite recopilar grandes cantidades de datos de telemetría en Azure y leer los datos desde varias aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="618cb-531">As a distributed streaming platform, it offers low latency and configurable time retention, enabling you to ingest massive amounts of telemetry into Azure and read that data from multiple applications.</span></span> <span data-ttu-id="618cb-532">Con Event Hubs, una única transmisión puede admitir canalizaciones en tiempo real y basadas en lotes.</span><span class="sxs-lookup"><span data-stu-id="618cb-532">With Event Hubs, a single stream can support both real-time and batch-based pipelines.</span></span>

<span data-ttu-id="618cb-533">Puede implementar un servicio de mensajería altamente confiable en la nube entre aplicaciones y servicios mediante [Azure Service Bus][ServiceBus].</span><span class="sxs-lookup"><span data-stu-id="618cb-533">You can implement a highly reliable cloud messaging service between applications and services through [Azure Service Bus][ServiceBus].</span></span> <span data-ttu-id="618cb-534">Este ofrece mensajería asincrónica entre cliente y servidor, además de mensajería estructurada de tipo FIFO (primero en entrar, primero en salir) y funcionalidades de publicación y suscripción.</span><span class="sxs-lookup"><span data-stu-id="618cb-534">It offers asynchronous brokered messaging between client and server, structured first-in-first-out (FIFO) messaging, and publish and subscribe capabilities.</span></span>

<span data-ttu-id="618cb-535">[![10]][10]</span><span class="sxs-lookup"><span data-stu-id="618cb-535">[![10]][10]</span></span>

### <a name="making-the-vdc-highly-available-multiple-vdcs"></a><span data-ttu-id="618cb-536">Hacer que el centro de datos virtual esté altamente disponible: varios centros de datos virtuales</span><span class="sxs-lookup"><span data-stu-id="618cb-536">Making the VDC highly available: multiple VDCs</span></span>

<span data-ttu-id="618cb-537">Hasta ahora, este artículo se ha centrado en el diseño de un único centro de datos virtual y en él se describen los componentes básicos y la arquitectura que contribuyen a su resistencia.</span><span class="sxs-lookup"><span data-stu-id="618cb-537">So far, this article has focused on the design of a single VDC, describing the basic components and architecture that contribute to resiliency.</span></span> <span data-ttu-id="618cb-538">Las características de Azure como el equilibrador de carga de Azure, las aplicaciones virtuales de red, los conjuntos de disponibilidad, los conjuntos de escalado y otros mecanismos contribuyen a un sistema que le permite crear niveles de Acuerdo de Nivel de Servicio sólidos en los servicios de producción.</span><span class="sxs-lookup"><span data-stu-id="618cb-538">Azure features such as Azure load balancer, NVAs, availability sets, scale sets, along with other mechanisms contribute to a system that enable you to build solid SLA levels into your production services.</span></span>

<span data-ttu-id="618cb-539">Sin embargo, como los centros de datos virtuales individuales se implementa normalmente en una sola región, pueden ser vulnerables a cualquier interrupción importante que afecte a toda esa región.</span><span class="sxs-lookup"><span data-stu-id="618cb-539">However, because a single VDC is typically implemented within a single region, it may be vulnerable to any major outage that affects that entire region.</span></span> <span data-ttu-id="618cb-540">Los clientes que requieran acuerdos de nivel de servicio de alto nivel deben proteger los servicios a través de implementaciones del mismo proyecto en dos implementaciones de centros de datos virtuales (o más) ubicadas en regiones diferentes.</span><span class="sxs-lookup"><span data-stu-id="618cb-540">Customers that require high SLAs must protect the services through deployments of the same project in two (or more) VDC implementations placed in different regions.</span></span>

<span data-ttu-id="618cb-541">Además de aspectos relacionados con los Acuerdos de Nivel de Servicio, hay varios escenarios comunes en los que tiene sentido implementar varios centros de datos virtuales:</span><span class="sxs-lookup"><span data-stu-id="618cb-541">In addition to SLA concerns, there are several common scenarios where deploying multiple VDC implementations makes sense:</span></span>

-   <span data-ttu-id="618cb-542">Presencia regional o global.</span><span class="sxs-lookup"><span data-stu-id="618cb-542">Regional or global presence.</span></span>
-   <span data-ttu-id="618cb-543">Recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="618cb-543">Disaster recovery.</span></span>
-   <span data-ttu-id="618cb-544">Un mecanismo para desviar el tráfico entre centros de datos.</span><span class="sxs-lookup"><span data-stu-id="618cb-544">A mechanism to divert traffic between datacenters.</span></span>

#### <a name="regionalglobal-presence"></a><span data-ttu-id="618cb-545">Presencia regional y global</span><span class="sxs-lookup"><span data-stu-id="618cb-545">Regional/global presence</span></span>

<span data-ttu-id="618cb-546">Los centros de datos de Azure están presentes en varias regiones de todo el mundo.</span><span class="sxs-lookup"><span data-stu-id="618cb-546">Azure datacenters are present in numerous regions worldwide.</span></span> <span data-ttu-id="618cb-547">Si seleccionan varios centros de datos de Azure, los clientes deben tener en cuenta dos factores relacionados: distancias geográficas y latencia.</span><span class="sxs-lookup"><span data-stu-id="618cb-547">When selecting multiple Azure datacenters, customers need to consider two related factors: geographical distances and latency.</span></span> <span data-ttu-id="618cb-548">Para ofrecer la mejor experiencia posible al usuario, evalúe la distancia geográfica entre cada implementación de un centro de datos virtual, así como la distancia entre estas y los usuarios finales.</span><span class="sxs-lookup"><span data-stu-id="618cb-548">To offer the best user experience, evaluate the geographical distance between each VDC implementation as well as the distance between each VDC implementation and the end users.</span></span>

<span data-ttu-id="618cb-549">La región donde se hospedan las implementaciones de los centros de datos virtuales deben cumplir los requisitos de regulación establecidos por la jurisdicción en la que opere la organización.</span><span class="sxs-lookup"><span data-stu-id="618cb-549">The region in which VDC implementations are hosted must conform with regulatory requirements established by any legal jurisdiction under which your organization operates.</span></span>

#### <a name="disaster-recovery"></a><span data-ttu-id="618cb-550">Recuperación ante desastres</span><span class="sxs-lookup"><span data-stu-id="618cb-550">Disaster recovery</span></span>

<span data-ttu-id="618cb-551">El diseño de un plan de recuperación ante desastres depende de los tipos de cargas de trabajo y de la capacidad parar sincronizar el estado dichas cargas entre diferentes implementaciones de centros de datos virtuales.</span><span class="sxs-lookup"><span data-stu-id="618cb-551">The design of a disaster recovery plan depends on the types of workloads  and the ability to synchronize state of those workloads between different VDC implementations.</span></span> <span data-ttu-id="618cb-552">Idealmente, la mayoría de los clientes desea un mecanismo de conmutación por error rápido, lo que puede que requiera la sincronización de los datos de las aplicaciones entre las implementaciones que ejecutan varias implementaciones de centros de datos virtuales.</span><span class="sxs-lookup"><span data-stu-id="618cb-552">Ideally, most customers desire a fast fail-over mechanism, and this may require application data synchronization between deployments running multiple VDC implementations.</span></span> <span data-ttu-id="618cb-553">Sin embargo, al diseñar los planes de recuperación ante desastres, es importante tener en cuenta que a la mayoría de las aplicaciones les afecta la latencia que puede provocar dicha sincronización de datos.</span><span class="sxs-lookup"><span data-stu-id="618cb-553">However, when designing disaster recovery plans, it's important to consider that most applications are sensitive to the latency that can be caused by this data synchronization.</span></span>

<span data-ttu-id="618cb-554">La sincronización y la supervisión del latido de las aplicaciones en diferentes implementaciones de centros de datos virtuales exige comunicación a través de la red.</span><span class="sxs-lookup"><span data-stu-id="618cb-554">Synchronization and heartbeat monitoring of applications in different VDC implementations requires them to communicate over the network.</span></span> <span data-ttu-id="618cb-555">Dos implementaciones de centros de datos virtuales de diferentes regiones se pueden conectar:</span><span class="sxs-lookup"><span data-stu-id="618cb-555">Two VDC implementations in different regions can be connected through:</span></span>

-   <span data-ttu-id="618cb-556">Emparejamiento de redes virtuales: permite la conexión de centros de diferentes regiones</span><span class="sxs-lookup"><span data-stu-id="618cb-556">VNet Peering - VNet Peering can connect hubs across regions</span></span>
-   <span data-ttu-id="618cb-557">Emparejamiento privado de ExpressRoute cuando los centros cada todas las implementaciones de centros de datos virtuales están conectados al mismo circuito de ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="618cb-557">ExpressRoute private peering when the hubs in each VDC implementation are connected to the same ExpressRoute circuit</span></span>
-   <span data-ttu-id="618cb-558">Varios circuitos de ExpressRoute conectados a través de la red troncal corporativa y varias implementaciones de centros de datos virtuales conectadas a los circuitos de ExpressRoute</span><span class="sxs-lookup"><span data-stu-id="618cb-558">multiple ExpressRoute circuits connected via your corporate backbone and your multiple VDC implementations connected to the ExpressRoute circuits</span></span>
-   <span data-ttu-id="618cb-559">Conexiones VPN de sitio a sitio entre la zona del centro de conectividad de las implementaciones de los centros de datos virtuales de cada región de Azure</span><span class="sxs-lookup"><span data-stu-id="618cb-559">Site-to-Site VPN connections between the hub zone of your VDC implementations in each Azure Region</span></span>

<span data-ttu-id="618cb-560">Normalmente se prefiere el emparejamiento de redes virtuales o las conexiones de ExpressRoute son el tipo de conectividad de red preferido, ya que tienen mayor ancho de banda y niveles de latencia coherentes al pasar por la red troncal de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="618cb-560">Typically, VNet Peering or ExpressRoute connections are the preferred type of network connectivity due to the higher bandwidth and consistent latency levels when transiting through the Microsoft backbone.</span></span>

<span data-ttu-id="618cb-561">Es aconsejable que los clientes ejecuten pruebas de calificación de red para comprobar la latencia y el ancho de banda de dichas conexiones y decidir si la replicación de datos sincrónica o asincrónica es adecuada en función del resultado.</span><span class="sxs-lookup"><span data-stu-id="618cb-561">We recommend that customers run network qualification tests to verify the latency and bandwidth of these connections, and decide whether synchronous or asynchronous data replication is appropriate based on the result.</span></span> <span data-ttu-id="618cb-562">También es importante sopesar estos resultados teniendo en cuenta el objetivo de tiempo de recuperación óptimo (RTO).</span><span class="sxs-lookup"><span data-stu-id="618cb-562">It's also important to weigh these results in view of the optimal recovery time objective (RTO).</span></span>

#### <a name="disaster-recovery-diverting-traffic-from-one-region-to-another"></a><span data-ttu-id="618cb-563">Recuperación ante desastres: desvío del tráfico de una región a otra</span><span class="sxs-lookup"><span data-stu-id="618cb-563">Disaster recovery: diverting traffic from one region to another</span></span>

<span data-ttu-id="618cb-564">[Azure Traffic Manager][TM] comprueba periódicamente el mantenimiento del servicio de los puntos de conexión públicos en implementaciones de centros de datos virtuales diferentes y, si se produce algún error en ellos, enruta automáticamente al centro de datos virtual secundario mediante el Sistema de nombres de dominio (DNS).</span><span class="sxs-lookup"><span data-stu-id="618cb-564">[Azure Traffic Manager][TM] periodically checks the service health of public endpoints in different VDC implementations and, if those endpoints fail, it routes automatically to the secondary VDC using the Domain Name System (DNS).</span></span> 

<span data-ttu-id="618cb-565">Al usar DNS, Traffic Manager solo se puede usar con puntos de conexión públicos de Azure.</span><span class="sxs-lookup"><span data-stu-id="618cb-565">Because it uses DNS, Traffic Manager is only for use with Azure public endpoints.</span></span>  <span data-ttu-id="618cb-566">El servicio se utiliza normalmente para controlar o desviar el tráfico a máquinas virtuales de Azure y aplicaciones web en la instancia en buen estado de una implementación de un centro de datos virtual.</span><span class="sxs-lookup"><span data-stu-id="618cb-566">The service is typically used to control or divert traffic to Azure VMs and Web Apps in the healthy instance of a VDC implementation.</span></span> <span data-ttu-id="618cb-567">Traffic Manager es resistente incluso al enfrentarse un error de una región de Azure completa y puede controlar la distribución del tráfico de usuario hacia puntos de conexión de servicio en centros de datos virtuales diferentes en función de varios criterios.</span><span class="sxs-lookup"><span data-stu-id="618cb-567">Traffic Manager is resilient even in the face of an entire Azure region failing and can control the distribution of user traffic for service endpoints in different VDCs based on several criteria.</span></span> <span data-ttu-id="618cb-568">Por ejemplo, el error de un servicio de una implementación de un centro de datos virtual específico o la selección del centro de datos virtual con la menor latencia de red.</span><span class="sxs-lookup"><span data-stu-id="618cb-568">For example, failure of a service in a specific VDC implementation, or selecting the VDC implementation with the lowest network latency.</span></span>

### <a name="summary"></a><span data-ttu-id="618cb-569">Resumen</span><span class="sxs-lookup"><span data-stu-id="618cb-569">Summary</span></span>

<span data-ttu-id="618cb-570">El centro de datos virtual es un enfoque hacia la migración del centro de datos para crear una arquitectura escalable de Azure que maximiza el uso de los recursos en la nube, reduce los costos y simplifica el gobierno del sistema.</span><span class="sxs-lookup"><span data-stu-id="618cb-570">The Virtual datacenter is an approach to datacenter migration to create a scalable architecture in Azure that maximizes cloud resource use, reduces costs, and simplifies system governance.</span></span> <span data-ttu-id="618cb-571">El centro de datos virtual se basa en una topología de red en estrella tipo hub-and-spoke que proporciona servicios compartidos comunes en centro de conectividad y permite aplicaciones y cargas de trabajo específicas en los radios.</span><span class="sxs-lookup"><span data-stu-id="618cb-571">The VDC is based on a hub and spoke network topology, providing common shared services in the hub and allowing specific applications/workloads in the spokes.</span></span> <span data-ttu-id="618cb-572">El centro de datos virtual coincide con la estructura de roles de la empresa, en la que diferentes departamentos, como TI Central, DevOps, operaciones y mantenimiento, funcionan conjuntamente, aunque realicen sus roles concretos.</span><span class="sxs-lookup"><span data-stu-id="618cb-572">The VDC also matches the structure of company roles, where different departments such as Central IT, DevOps, operation and maintenance, all work together while performing their specific roles.</span></span> <span data-ttu-id="618cb-573">El centro de datos virtual cumple los requisitos de una migración mediante "Lift-and-Shift", pero también proporciona muchas ventajas para las implementaciones nativas en la nube.</span><span class="sxs-lookup"><span data-stu-id="618cb-573">The VDC satisfies the requirements for a "Lift and Shift" migration, but also provides many advantages to native cloud deployments.</span></span>

## <a name="references"></a><span data-ttu-id="618cb-574">Referencias</span><span class="sxs-lookup"><span data-stu-id="618cb-574">References</span></span>

<span data-ttu-id="618cb-575">Las siguientes características se describen en este documento.</span><span class="sxs-lookup"><span data-stu-id="618cb-575">The following features were discussed in this document.</span></span> <span data-ttu-id="618cb-576">Para más información, siga los vínculos.</span><span class="sxs-lookup"><span data-stu-id="618cb-576">Follow the links to learn more.</span></span>

| | | |
|-|-|-|
|<span data-ttu-id="618cb-577">Características de red</span><span class="sxs-lookup"><span data-stu-id="618cb-577">Network Features</span></span>|<span data-ttu-id="618cb-578">Equilibrio de carga</span><span class="sxs-lookup"><span data-stu-id="618cb-578">Load Balancing</span></span>|<span data-ttu-id="618cb-579">Conectividad</span><span class="sxs-lookup"><span data-stu-id="618cb-579">Connectivity</span></span>|
|<span data-ttu-id="618cb-580">[Redes virtuales de Azure][VNet]</span><span class="sxs-lookup"><span data-stu-id="618cb-580">[Azure Virtual Networks][VNet]</span></span></br><span data-ttu-id="618cb-581">[Grupos de seguridad de red][NSG]</span><span class="sxs-lookup"><span data-stu-id="618cb-581">[Network Security Groups][NSG]</span></span></br><span data-ttu-id="618cb-582">[Registros NSG][NSGLog]</span><span class="sxs-lookup"><span data-stu-id="618cb-582">[NSG Logs][NSGLog]</span></span></br><span data-ttu-id="618cb-583">[Enrutamiento definido por el usuario][UDR]</span><span class="sxs-lookup"><span data-stu-id="618cb-583">[User Defined Routing][UDR]</span></span></br><span data-ttu-id="618cb-584">[Aplicaciones virtuales de red][NVA]</span><span class="sxs-lookup"><span data-stu-id="618cb-584">[Network Virtual Appliances][NVA]</span></span></br><span data-ttu-id="618cb-585">[Direcciones IP públicas][PIP]</span><span class="sxs-lookup"><span data-stu-id="618cb-585">[Public IP Addresses][PIP]</span></span></br><span data-ttu-id="618cb-586">[Azure DDOS][DDOS]</span><span class="sxs-lookup"><span data-stu-id="618cb-586">[Azure DDOS][DDOS]</span></span></br><span data-ttu-id="618cb-587">[Azure Firewall][AzFW]</span><span class="sxs-lookup"><span data-stu-id="618cb-587">[Azure Firewall][AzFW]</span></span></br><span data-ttu-id="618cb-588">[Azure DNS][DNS]</span><span class="sxs-lookup"><span data-stu-id="618cb-588">[Azure DNS][DNS]</span></span>|<span data-ttu-id="618cb-589">[Azure Front Door][AFD]</span><span class="sxs-lookup"><span data-stu-id="618cb-589">[Azure Front Door][AFD]</span></span></br><span data-ttu-id="618cb-590">[Azure Load Balancer (L3) ][ALB]</span><span class="sxs-lookup"><span data-stu-id="618cb-590">[Azure Load Balancer (L3) ][ALB]</span></span></br><span data-ttu-id="618cb-591">[Application Gateway (L7) ][AppGW]</span><span class="sxs-lookup"><span data-stu-id="618cb-591">[Application Gateway (L7) ][AppGW]</span></span></br><span data-ttu-id="618cb-592">[Firewall de aplicaciones web][WAF]</span><span class="sxs-lookup"><span data-stu-id="618cb-592">[Web Application Firewall][WAF]</span></span></br><span data-ttu-id="618cb-593">[Azure Traffic Manager][TM]</span><span class="sxs-lookup"><span data-stu-id="618cb-593">[Azure Traffic Manager][TM]</span></span></br></br></br></br></br> |<span data-ttu-id="618cb-594">[Emparejamiento de redes virtuales][VNetPeering]</span><span class="sxs-lookup"><span data-stu-id="618cb-594">[VNet Peering][VNetPeering]</span></span></br><span data-ttu-id="618cb-595">[Red privada virtual][VPN]</span><span class="sxs-lookup"><span data-stu-id="618cb-595">[Virtual Private Network][VPN]</span></span></br><span data-ttu-id="618cb-596">[Virtual WAN][vWAN]</span><span class="sxs-lookup"><span data-stu-id="618cb-596">[Virtual WAN][vWAN]</span></span></br><span data-ttu-id="618cb-597">[ExpressRoute][ExR]</span><span class="sxs-lookup"><span data-stu-id="618cb-597">[ExpressRoute][ExR]</span></span></br><span data-ttu-id="618cb-598">[ExpressRoute Direct][ExRD]</span><span class="sxs-lookup"><span data-stu-id="618cb-598">[ExpressRoute Direct][ExRD]</span></span></br></br></br></br></br>
|<span data-ttu-id="618cb-599">Identidad</span><span class="sxs-lookup"><span data-stu-id="618cb-599">Identity</span></span></br>|<span data-ttu-id="618cb-600">Supervisión</span><span class="sxs-lookup"><span data-stu-id="618cb-600">Monitoring</span></span></br>|<span data-ttu-id="618cb-601">Prácticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="618cb-601">Best Practices</span></span></br>|
|<span data-ttu-id="618cb-602">[Azure Active Directory][AAD]</span><span class="sxs-lookup"><span data-stu-id="618cb-602">[Azure Active Directory][AAD]</span></span></br><span data-ttu-id="618cb-603">[Multi-Factor Authentication][MFA]</span><span class="sxs-lookup"><span data-stu-id="618cb-603">[Multi-Factor Authentication][MFA]</span></span></br><span data-ttu-id="618cb-604">[Control de acceso basado en roles][RBAC]</span><span class="sxs-lookup"><span data-stu-id="618cb-604">[Role Base Access Controls][RBAC]</span></span></br><span data-ttu-id="618cb-605">[Roles de Azure AD predeterminados][Roles]</span><span class="sxs-lookup"><span data-stu-id="618cb-605">[Default Azure AD Roles][Roles]</span></span></br></br></br> |<span data-ttu-id="618cb-606">[Network Watcher][NetWatch]</span><span class="sxs-lookup"><span data-stu-id="618cb-606">[Network Watcher][NetWatch]</span></span></br><span data-ttu-id="618cb-607">[Azure Monitor][Monitor]</span><span class="sxs-lookup"><span data-stu-id="618cb-607">[Azure Monitor][Monitor]</span></span></br><span data-ttu-id="618cb-608">[Registros de actividad][ActLog]</span><span class="sxs-lookup"><span data-stu-id="618cb-608">[Activity Logs][ActLog]</span></span></br><span data-ttu-id="618cb-609">[Registros de diagnóstico][DiagLog]</span><span class="sxs-lookup"><span data-stu-id="618cb-609">[Diagnostic Logs][DiagLog]</span></span></br><span data-ttu-id="618cb-610">[Microsoft Operations Management Suite][OMS]</span><span class="sxs-lookup"><span data-stu-id="618cb-610">[Microsoft Operations Management Suite][OMS]</span></span></br><span data-ttu-id="618cb-611">[Network Performance Monitor][NPM]</span><span class="sxs-lookup"><span data-stu-id="618cb-611">[Network Performance Monitor][NPM]</span></span>|<span data-ttu-id="618cb-612">[Procedimientos recomendados en redes perimetrales][DMZ]</span><span class="sxs-lookup"><span data-stu-id="618cb-612">[Perimeter Networks Best Practices][DMZ]</span></span></br><span data-ttu-id="618cb-613">[Administración de suscripciones][SubMgmt]</span><span class="sxs-lookup"><span data-stu-id="618cb-613">[Subscription Management][SubMgmt]</span></span></br><span data-ttu-id="618cb-614">[Administración de grupos de recursos][RGMgmt]</span><span class="sxs-lookup"><span data-stu-id="618cb-614">[Resource Group Management][RGMgmt]</span></span></br><span data-ttu-id="618cb-615">[Límites de la suscripción de Azure][Limits]</span><span class="sxs-lookup"><span data-stu-id="618cb-615">[Azure Subscription Limits][Limits]</span></span> </br></br></br>|
|<span data-ttu-id="618cb-616">Otros servicios de Azure</span><span class="sxs-lookup"><span data-stu-id="618cb-616">Other Azure Services</span></span>|
|<span data-ttu-id="618cb-617">[Azure Web Apps][WebApps]</span><span class="sxs-lookup"><span data-stu-id="618cb-617">[Azure Web Apps][WebApps]</span></span></br><span data-ttu-id="618cb-618">[HDInsights (Hadoop) ][HDI]</span><span class="sxs-lookup"><span data-stu-id="618cb-618">[HDInsights (Hadoop) ][HDI]</span></span></br><span data-ttu-id="618cb-619">[Event Hubs][EventHubs]</span><span class="sxs-lookup"><span data-stu-id="618cb-619">[Event Hubs][EventHubs]</span></span></br><span data-ttu-id="618cb-620">[Service Bus][ServiceBus]</span><span class="sxs-lookup"><span data-stu-id="618cb-620">[Service Bus][ServiceBus]</span></span>|

## <a name="next-steps"></a><span data-ttu-id="618cb-621">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="618cb-621">Next Steps</span></span>

 - <span data-ttu-id="618cb-622">Explore [Emparejamiento de redes virtuales][VNetPeering], la tecnología subyacente a los diseños de concentrador y radio del centro de datos virtual</span><span class="sxs-lookup"><span data-stu-id="618cb-622">Explore [VNet Peering][VNetPeering], the underpinning technology for VDC hub and spoke designs</span></span>
 - <span data-ttu-id="618cb-623">Implemente [Azure AD][AAD] para empezar a trabajar con la exploración de [RBAC][RBAC]</span><span class="sxs-lookup"><span data-stu-id="618cb-623">Implement [Azure AD][AAD] to get started with [RBAC][RBAC] exploration</span></span>
 - <span data-ttu-id="618cb-624">Desarrolle un modelo de administración de recursos y suscripciones, y un modelo de RBAC que cumpla la estructura, los requisitos y las directivas de su organización.</span><span class="sxs-lookup"><span data-stu-id="618cb-624">Develop a Subscription and Resource management model and RBAC model to meet the structure, requirements, and policies of your organization.</span></span> <span data-ttu-id="618cb-625">La actividad más importante es el planeamiento.</span><span class="sxs-lookup"><span data-stu-id="618cb-625">The most important activity is planning.</span></span> <span data-ttu-id="618cb-626">Siempre que resulte práctico, planee las reorganizaciones, fusiones, nuevas líneas de producto, etc.<!--Image References--></span><span class="sxs-lookup"><span data-stu-id="618cb-626">As much as practical, plan for reorganizations, mergers, new product lines, etc. m <!--Image References--></span></span>
[0]: ./images/networking-redundant-equipment.png "Ejemplos de superposición de componentes" 
[1]: ./images/networking-vdc-high-level.png "Ejemplo genérico de centro de datos virtual con concentrador y radios"
[2]: ./images/networking-hub-spokes-cluster.png "Clúster de concentradores y radios"
[3]: ./images/networking-spoke-to-spoke.png "Radio a radio"
[4]: ./images/networking-vdc-block-level-diagram.png "Diagrama de nivel de bloques del centro de datos virtual"
[5]: ./images/networking-users-groups-subsciptions.png "Usuarios, grupos, suscripciones y proyectos"
[6]: ./images/networking-infrastructure-high-level.png "Diagrama genérico de infraestructura"
[7]: ./images/networking-highlevel-perimeter-networks.png "Diagrama genérico de infraestructura"
[8]: ./images/networking-vnet-peering-perimeter-neworks.png "Emparejamiento de redes virtuales y redes perimetrales"
[9]: ./images/networking-high-level-diagram-monitoring.png "Diagrama genérico para supervisión"
[10]: ./images/networking-high-level-workloads.png "Diagrama genérico para cargas de trabajo"

<!--Link References-->
[Limits]: /azure/azure-subscription-service-limits
[Roles]: /azure/role-based-access-control/built-in-roles
[VNet]: /azure/virtual-network/virtual-networks-overview
[NSG]: /azure/virtual-network/virtual-networks-nsg
[DNS]: /azure/dns/dns-overview
[PrivateDNS]: /azure/dns/private-dns-overview
[VNetPeering]: /azure/virtual-network/virtual-network-peering-overview 
[UDR]: /azure/virtual-network/virtual-networks-udr-overview 
[RBAC]: /azure/role-based-access-control/overview
[MFA]: /azure/multi-factor-authentication/multi-factor-authentication
[AAD]: /azure/active-directory/active-directory-whatis
[VPN]: /azure/vpn-gateway/vpn-gateway-about-vpngateways 
[ExR]: /azure/expressroute/expressroute-introduction
[ExRD]: https://docs.microsoft.com/en-us/azure/expressroute/expressroute-erdirect-about
[vWAN]: /azure/virtual-wan/virtual-wan-about
[NVA]: /azure/architecture/reference-architectures/dmz/nva-ha
[AzFW]: /azure/firewall/overview
[SubMgmt]: /azure/architecture/cloud-adoption/appendix/azure-scaffold 
[RGMgmt]: /azure/azure-resource-manager/resource-group-overview
[DMZ]: /azure/best-practices-network-security
[ALB]: /azure/load-balancer/load-balancer-overview
[DDOS]: /azure/virtual-network/ddos-protection-overview
[PIP]: /azure/virtual-network/resource-groups-networking#public-ip-address
[AFD]: https://docs.microsoft.com/en-us/azure/frontdoor/front-door-overview
[AppGW]: /azure/application-gateway/application-gateway-introduction
[WAF]: /azure/application-gateway/application-gateway-web-application-firewall-overview
[Monitor]: /azure/monitoring-and-diagnostics/
[ActLog]: /azure/monitoring-and-diagnostics/monitoring-overview-activity-logs 
[DiagLog]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs
[NSGLog]: /azure/virtual-network/virtual-network-nsg-manage-log
[OMS]: /azure/operations-management-suite/operations-management-suite-overview
[NPM]: /azure/log-analytics/log-analytics-network-performance-monitor
[NetWatch]: /azure/network-watcher/network-watcher-monitoring-overview
[WebApps]: /azure/app-service/
[HDI]: /azure/hdinsight/hdinsight-hadoop-introduction
[EventHubs]: /azure/event-hubs/event-hubs-what-is-event-hubs 
[ServiceBus]: /azure/service-bus-messaging/service-bus-messaging-overview
[TM]: /azure/traffic-manager/traffic-manager-overview