---
title: Uso del mejor almacén de datos para el trabajo
titleSuffix: Azure Application Architecture Guide
description: Elija la tecnología de almacenamiento que encaje mejor con sus datos y el modo en que se utilizarán.
author: MikeWasson
ms.date: 08/30/2018
ms.custom: seojan19
ms.openlocfilehash: ab7cbe7005a00bcc2bfd7bad97f3eaf125f53e12
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2019
ms.locfileid: "54113304"
---
# <a name="use-the-best-data-store-for-the-job"></a><span data-ttu-id="00b50-103">Uso del mejor almacén de datos para el trabajo</span><span class="sxs-lookup"><span data-stu-id="00b50-103">Use the best data store for the job</span></span>

## <a name="pick-the-storage-technology-that-is-the-best-fit-for-your-data-and-how-it-will-be-used"></a><span data-ttu-id="00b50-104">Elija la tecnología de almacenamiento que encaje mejor con sus datos y el modo en que se utilizarán.</span><span class="sxs-lookup"><span data-stu-id="00b50-104">Pick the storage technology that is the best fit for your data and how it will be used</span></span>

<span data-ttu-id="00b50-105">Lejos quedan los días en los que bastaba con colocar todos los datos en una base de datos SQL relacional de gran tamaño.</span><span class="sxs-lookup"><span data-stu-id="00b50-105">Gone are the days when you would just stick all of your data into a big relational SQL database.</span></span> <span data-ttu-id="00b50-106">Las bases de datos relacionales son muy buenas en aquello que hacen: ofrecer garantías de ACID para las transacciones sobre los datos relacionales.</span><span class="sxs-lookup"><span data-stu-id="00b50-106">Relational databases are very good at what they do &mdash; providing ACID guarantees for transactions over relational data.</span></span> <span data-ttu-id="00b50-107">Pero incluyen algunos inconvenientes:</span><span class="sxs-lookup"><span data-stu-id="00b50-107">But they come with some costs:</span></span>

- <span data-ttu-id="00b50-108">Las consultas pueden requerir combinaciones costosas.</span><span class="sxs-lookup"><span data-stu-id="00b50-108">Queries may require expensive joins.</span></span>
- <span data-ttu-id="00b50-109">Los datos se deben normalizar y se ajustan a un esquema predefinido (esquema en escritura).</span><span class="sxs-lookup"><span data-stu-id="00b50-109">Data must be normalized and conform to a predefined schema (schema on write).</span></span>
- <span data-ttu-id="00b50-110">La contención de bloqueo puede afectar al rendimiento.</span><span class="sxs-lookup"><span data-stu-id="00b50-110">Lock contention may impact performance.</span></span>

<span data-ttu-id="00b50-111">En cualquier solución de gran tamaño, es probable que una tecnología sencilla de almacén de datos no satisfaga todas sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="00b50-111">In any large solution, it's likely that a single data store technology won't fill all your needs.</span></span> <span data-ttu-id="00b50-112">Las alternativas a las bases de datos relacionales incluyen almacenes de clave/valor, bases de datos de documentos, bases de datos de motores de búsqueda, bases de datos de series de tiempo, bases de datos de familias de columnas y bases de datos de gráficos.</span><span class="sxs-lookup"><span data-stu-id="00b50-112">Alternatives to relational databases include key/value stores, document databases, search engine databases, time series databases, column family databases, and graph databases.</span></span> <span data-ttu-id="00b50-113">Cada una tiene ventajas y desventajas, y diferentes tipos de datos encajan de manera más natural en una u otra.</span><span class="sxs-lookup"><span data-stu-id="00b50-113">Each has pros and cons, and different types of data fit more naturally into one or another.</span></span>

<span data-ttu-id="00b50-114">Por ejemplo, podría almacenar un catálogo de productos en una base de datos de documentos, como Cosmos DB, lo que permite un esquema flexible.</span><span class="sxs-lookup"><span data-stu-id="00b50-114">For example, you might store a product catalog in a document database, such as Cosmos DB, which allows for a flexible schema.</span></span> <span data-ttu-id="00b50-115">En ese caso, cada descripción de producto es un documento independiente.</span><span class="sxs-lookup"><span data-stu-id="00b50-115">In that case, each product description is a self-contained document.</span></span> <span data-ttu-id="00b50-116">Para las consultas en todo el catálogo, puede indexar el catálogo y almacenar el índice en Azure Search.</span><span class="sxs-lookup"><span data-stu-id="00b50-116">For queries over the entire catalog, you might index the catalog and store the index in Azure Search.</span></span> <span data-ttu-id="00b50-117">El inventario de productos puede ir en una base de datos SQL, porque esos datos requieren garantías ACID.</span><span class="sxs-lookup"><span data-stu-id="00b50-117">Product inventory might go into a SQL database, because that data requires ACID guarantees.</span></span>

<span data-ttu-id="00b50-118">Recuerde que los datos incluyen más que simplemente los datos de aplicación conservados.</span><span class="sxs-lookup"><span data-stu-id="00b50-118">Remember that data includes more than just the persisted application data.</span></span> <span data-ttu-id="00b50-119">También contienen registros de aplicación, eventos, mensajes y memorias caché.</span><span class="sxs-lookup"><span data-stu-id="00b50-119">It also includes application logs, events, messages, and caches.</span></span>

## <a name="recommendations"></a><span data-ttu-id="00b50-120">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="00b50-120">Recommendations</span></span>

<span data-ttu-id="00b50-121">**No utilice una base de datos relacional para todo**.</span><span class="sxs-lookup"><span data-stu-id="00b50-121">**Don't use a relational database for everything**.</span></span> <span data-ttu-id="00b50-122">Considere el uso de otros almacenes de datos cuando sea apropiado.</span><span class="sxs-lookup"><span data-stu-id="00b50-122">Consider other data stores when appropriate.</span></span> <span data-ttu-id="00b50-123">Consulte [Elección del almacén de datos apropiado][data-store-overview].</span><span class="sxs-lookup"><span data-stu-id="00b50-123">See [Choose the right data store][data-store-overview].</span></span>

<span data-ttu-id="00b50-124">**Adopte la persistencia de Polyglot**.</span><span class="sxs-lookup"><span data-stu-id="00b50-124">**Embrace polyglot persistence**.</span></span> <span data-ttu-id="00b50-125">En cualquier solución de gran tamaño, es probable que una tecnología sencilla de almacén de datos no satisfaga todas sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="00b50-125">In any large solution, it's likely that a single data store technology won't fill all your needs.</span></span>

<span data-ttu-id="00b50-126">**Tenga en cuenta el tipo de datos**.</span><span class="sxs-lookup"><span data-stu-id="00b50-126">**Consider the type of data**.</span></span> <span data-ttu-id="00b50-127">Por ejemplo, coloque los datos transaccionales en SQL, coloque los documentos JSON en una base de datos de documentos, coloque los datos de telemetría en una base de datos de series de tiempo, coloque los registros de aplicaciones en Elasticsearch y coloque los blobs en Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="00b50-127">For example, put transactional data into SQL, put JSON documents into a document database, put telemetry data into a time series data base, put application logs in Elasticsearch, and put blobs in Azure Blob Storage.</span></span>

<span data-ttu-id="00b50-128">**Elija disponibilidad sobre (sólida) coherencia**.</span><span class="sxs-lookup"><span data-stu-id="00b50-128">**Prefer availability over (strong) consistency**.</span></span> <span data-ttu-id="00b50-129">El teorema de CAP implica que un sistema distribuido debe compensar entre disponibilidad y coherencia.</span><span class="sxs-lookup"><span data-stu-id="00b50-129">The CAP theorem implies that a distributed system must make trade-offs between availability and consistency.</span></span> <span data-ttu-id="00b50-130">(Las particiones de la red, el otro segmento del teorema de CAP, no se pueden evitar nunca por completo). A menudo, puede lograr una mayor disponibilidad mediante el uso de un modelo de *coherencia final*.</span><span class="sxs-lookup"><span data-stu-id="00b50-130">(Network partitions, the other leg of the CAP theorem, can never be completely avoided.) Often, you can achieve higher availability by adopting an *eventual consistency* model.</span></span>

<span data-ttu-id="00b50-131">**Tenga en cuenta el conjunto de conocimientos del equipo de desarrollo**.</span><span class="sxs-lookup"><span data-stu-id="00b50-131">**Consider the skill set of the development team**.</span></span> <span data-ttu-id="00b50-132">El uso de Polyglot entraña ventajas, pero es posible acabar abusando de ello.</span><span class="sxs-lookup"><span data-stu-id="00b50-132">There are advantages to using polyglot persistence, but it's possible to go overboard.</span></span> <span data-ttu-id="00b50-133">La adopción de una nueva tecnología de almacenamiento de datos requiere un nuevo conjunto de conocimientos.</span><span class="sxs-lookup"><span data-stu-id="00b50-133">Adopting a new data storage technology requires a new set of skills.</span></span> <span data-ttu-id="00b50-134">El equipo de desarrollo debe aprender a sacar el máximo partido de la tecnología.</span><span class="sxs-lookup"><span data-stu-id="00b50-134">The development team must understand how to get the most out of the technology.</span></span> <span data-ttu-id="00b50-135">Es necesario comprender los patrones de uso correspondientes, cómo optimizar las consultas, ajustar el rendimiento, etc.</span><span class="sxs-lookup"><span data-stu-id="00b50-135">They must understand appropriate usage patterns, how to optimize queries, tune for performance, and so on.</span></span> <span data-ttu-id="00b50-136">Tenga esto en cuenta al considerar las tecnologías de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="00b50-136">Factor this in when considering storage technologies.</span></span>

<span data-ttu-id="00b50-137">**Use transacciones de compensación**.</span><span class="sxs-lookup"><span data-stu-id="00b50-137">**Use compensating transactions**.</span></span> <span data-ttu-id="00b50-138">Un efecto secundario de la persistencia de Polyglot es que una única transacción puede escribir datos en varios almacenes.</span><span class="sxs-lookup"><span data-stu-id="00b50-138">A side effect of polyglot persistence is that single transaction might write data to multiple stores.</span></span> <span data-ttu-id="00b50-139">Si algo va mal, utilice las transacciones de compensación para deshacer todos los pasos que ya haya completado.</span><span class="sxs-lookup"><span data-stu-id="00b50-139">If something fails, use compensating transactions to undo any steps that already completed.</span></span>

<span data-ttu-id="00b50-140">**Fíjese en los contextos enlazados**.</span><span class="sxs-lookup"><span data-stu-id="00b50-140">**Look at bounded contexts**.</span></span> <span data-ttu-id="00b50-141">*Contexto enlazado* es un término procedente del diseño orientado al dominio.</span><span class="sxs-lookup"><span data-stu-id="00b50-141">*Bounded context* is a term from domain driven design.</span></span> <span data-ttu-id="00b50-142">Un contexto enlazado es un límite explícito alrededor de un modelo de dominio y define a qué partes del dominio se aplica el modelo.</span><span class="sxs-lookup"><span data-stu-id="00b50-142">A bounded context is an explicit boundary around a domain model, and defines which parts of the domain the model applies to.</span></span> <span data-ttu-id="00b50-143">Idealmente, un contexto enlazado se asigna a un subdominio del dominio empresarial.</span><span class="sxs-lookup"><span data-stu-id="00b50-143">Ideally, a bounded context maps to a subdomain of the business domain.</span></span> <span data-ttu-id="00b50-144">Los contextos enlazados en el sistema son un lugar idóneo para considerar la persistencia de Polyglot.</span><span class="sxs-lookup"><span data-stu-id="00b50-144">The bounded contexts in your system are a natural place to consider polyglot persistence.</span></span> <span data-ttu-id="00b50-145">Por ejemplo, los "productos" pueden aparecer en el subdominio del catálogo de productos y el subdominio del inventario de productos, pero es muy probable que estos dos subdominios tengan requisitos diferentes para almacenar, actualizar y consultar los productos.</span><span class="sxs-lookup"><span data-stu-id="00b50-145">For example, "products" may appear in both the Product Catalog subdomain and the Product Inventory subdomain, but it's very likely that these two subdomains have different requirements for storing, updating, and querying products.</span></span>

[data-store-overview]: ../technology-choices/data-store-overview.md
