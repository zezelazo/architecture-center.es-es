---
title: Antipatrones de rendimiento para aplicaciones en la nube
description: "Prácticas habituales que pueden provocar problemas de escalabilidad."
author: dragon119
ms.date: 06/05/2017
ms.openlocfilehash: 423fe6533e57268610f625f523714cd1bce89546
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/14/2017
---
# <a name="performance-antipatterns-for-cloud-applications"></a><span data-ttu-id="d12a6-103">Antipatrones de rendimiento para aplicaciones en la nube</span><span class="sxs-lookup"><span data-stu-id="d12a6-103">Performance antipatterns for cloud applications</span></span>

<span data-ttu-id="d12a6-104">Un *antipatrón de rendimiento* es una práctica habitual que puede provocar problemas de escalabilidad cuando una aplicación está bajo presión.</span><span class="sxs-lookup"><span data-stu-id="d12a6-104">A *performance antipattern* is a common practice that is likely to cause scalability problems when an application is under pressure.</span></span> 

<span data-ttu-id="d12a6-105">Este es un escenario común: una aplicación se comporta correctamente durante las pruebas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d12a6-105">Here is a common scenario: An application behaves well during performance testing.</span></span> <span data-ttu-id="d12a6-106">Se pasa a producción y empieza a tratar cargas de trabajo reales.</span><span class="sxs-lookup"><span data-stu-id="d12a6-106">It's released to production, and begins to handle real workloads.</span></span> <span data-ttu-id="d12a6-107">En ese momento, empieza comportarse mal &mdash;rechazando las solicitudes del usuario, demorándose o generando excepciones.</span><span class="sxs-lookup"><span data-stu-id="d12a6-107">At that point, it starts to perform poorly &mdash; rejecting user requests, stalling, or throwing exceptions.</span></span> <span data-ttu-id="d12a6-108">El equipo de desarrollo se enfrenta entonces a dos cuestiones:</span><span class="sxs-lookup"><span data-stu-id="d12a6-108">The development team is then faced with two questions:</span></span>

- <span data-ttu-id="d12a6-109">¿Por qué no se dio este comportamiento durante las pruebas?</span><span class="sxs-lookup"><span data-stu-id="d12a6-109">Why didn't this behavior show up during testing?</span></span>
- <span data-ttu-id="d12a6-110">¿Cómo se corrige esto?</span><span class="sxs-lookup"><span data-stu-id="d12a6-110">How do we fix it?</span></span>

<span data-ttu-id="d12a6-111">La respuesta a la primera pregunta es sencilla.</span><span class="sxs-lookup"><span data-stu-id="d12a6-111">The answer to the first question is straightforward.</span></span> <span data-ttu-id="d12a6-112">En un entorno de prueba, es muy difícil simular a los usuarios reales, sus patrones de comportamiento y los volúmenes de trabajo que podrían generar.</span><span class="sxs-lookup"><span data-stu-id="d12a6-112">It's very difficult in a test environment to simulate real users, their behavior patterns, and the volumes of work they might perform.</span></span> <span data-ttu-id="d12a6-113">La única manera completamente segura de comprender cómo se comporta un sistema bajo carga es observarlo en producción.</span><span class="sxs-lookup"><span data-stu-id="d12a6-113">The only completely sure way to understand how a system behaves under load is to observe it in production.</span></span> <span data-ttu-id="d12a6-114">Es preciso aclarar que no estamos sugiriendo que deba omitir las pruebas de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="d12a6-114">To be clear, we aren't suggesting that you should skip performance testing.</span></span> <span data-ttu-id="d12a6-115">Resultan cruciales para obtener las métricas de rendimiento de línea de base.</span><span class="sxs-lookup"><span data-stu-id="d12a6-115">Performance tests are crucial for getting baseline performance metrics.</span></span> <span data-ttu-id="d12a6-116">Pero debe estar preparado para observar y corregir los problemas de rendimiento que surjan en el sistema real.</span><span class="sxs-lookup"><span data-stu-id="d12a6-116">But you must be prepared to observe and correct performance issues when they arise in the live system.</span></span>

<span data-ttu-id="d12a6-117">La respuesta a la segunda cuestión, cómo corregir el problema, es menos sencilla.</span><span class="sxs-lookup"><span data-stu-id="d12a6-117">The answer to the second question, how to fix the problem, is less straightforward.</span></span> <span data-ttu-id="d12a6-118">Diversos factores podrían influir y, a veces, el problema solo se presenta en determinadas circunstancias.</span><span class="sxs-lookup"><span data-stu-id="d12a6-118">Any number of factors might contribute, and sometimes the problem only manifests under certain circumstances.</span></span> <span data-ttu-id="d12a6-119">La instrumentación y el registro son factores clave para buscar la causa raíz, pero también tiene que saber lo que se debe buscar.</span><span class="sxs-lookup"><span data-stu-id="d12a6-119">Instrumentation and logging are key to finding the root cause, but you also have to know what to look for.</span></span> 

<span data-ttu-id="d12a6-120">Según nuestras interacciones con los clientes de Microsoft Azure, hemos identificado algunos de los problemas de rendimiento más comunes que observan en producción.</span><span class="sxs-lookup"><span data-stu-id="d12a6-120">Based on our engagements with Microsoft Azure customers, we've identified some of the most common performance issues that customers see in production.</span></span> <span data-ttu-id="d12a6-121">Para cada antipatrón, se describe por qué se suele producir, sus síntomas y las técnicas para solucionar el problema.</span><span class="sxs-lookup"><span data-stu-id="d12a6-121">For each antipattern, we describe why the antipattern typically occurs, symptoms of the antipattern, and techniques for resolving the problem.</span></span> <span data-ttu-id="d12a6-122">También se proporciona código de ejemplo que ilustra tanto el antipatrón como la solución sugerida.</span><span class="sxs-lookup"><span data-stu-id="d12a6-122">We also provide sample code that illustrates both the antipattern and a suggested solution.</span></span> 

<span data-ttu-id="d12a6-123">Algunos de estos antipatrones pueden parecer una obviedad cuando lea las descripciones, pero se producen con más frecuencia de lo que se podría pensar.</span><span class="sxs-lookup"><span data-stu-id="d12a6-123">Some of these antipatterns may seem obvious when you read the descriptions, but they occur more often than you might think.</span></span> <span data-ttu-id="d12a6-124">A veces, una aplicación hereda un diseño que funcionaba de forma local, pero no se escala en la nube.</span><span class="sxs-lookup"><span data-stu-id="d12a6-124">Sometimes an application inherits a design that worked on-premises, but doesn't scale in the cloud.</span></span> <span data-ttu-id="d12a6-125">O una aplicación podría iniciarse con un diseño muy limpio, pero, cuando se agregan características nuevas, se cuelan uno o varios de estos antipatrones.</span><span class="sxs-lookup"><span data-stu-id="d12a6-125">Or an application might start with a very clean design, but as new features are added, one or more of these antipatterns creeps in.</span></span> <span data-ttu-id="d12a6-126">En cualquier caso, esta guía le ayudará a identificarlos y corregirlos.</span><span class="sxs-lookup"><span data-stu-id="d12a6-126">Regardless, this guide will help you to identify and fix these antipatterns.</span></span>

<span data-ttu-id="d12a6-127">Esta es la lista de los antipatrones que hemos identificado:</span><span class="sxs-lookup"><span data-stu-id="d12a6-127">Here is the list of the antipatterns that we've identified:</span></span> 

| <span data-ttu-id="d12a6-128">Antipatrón</span><span class="sxs-lookup"><span data-stu-id="d12a6-128">Antipattern</span></span> | <span data-ttu-id="d12a6-129">Descripción</span><span class="sxs-lookup"><span data-stu-id="d12a6-129">Description</span></span> |
|-------------|-------------|
| <span data-ttu-id="d12a6-130">[Busy Database][BusyDatabase]</span><span class="sxs-lookup"><span data-stu-id="d12a6-130">[Busy Database][BusyDatabase]</span></span> | <span data-ttu-id="d12a6-131">Descarga demasiados procesos en un almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="d12a6-131">Offloading too much processing to a data store.</span></span> |
| <span data-ttu-id="d12a6-132">[Busy Front End][BusyFrontEnd]</span><span class="sxs-lookup"><span data-stu-id="d12a6-132">[Busy Front End][BusyFrontEnd]</span></span> | <span data-ttu-id="d12a6-133">Mueve las tareas que consumen muchos recursos a subprocesos en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="d12a6-133">Moving resource-intensive tasks onto background threads.</span></span> |
| <span data-ttu-id="d12a6-134">[Chatty I/O][ChattyIO]</span><span class="sxs-lookup"><span data-stu-id="d12a6-134">[Chatty I/O][ChattyIO]</span></span> | <span data-ttu-id="d12a6-135">Envía continuamente muchas solicitudes pequeñas de red.</span><span class="sxs-lookup"><span data-stu-id="d12a6-135">Continually sending many small network requests.</span></span> |
| <span data-ttu-id="d12a6-136">[Extraneous Fetching][ExtraneousFetching]</span><span class="sxs-lookup"><span data-stu-id="d12a6-136">[Extraneous Fetching][ExtraneousFetching]</span></span> | <span data-ttu-id="d12a6-137">Recupera más datos de lo que es necesario, lo que da lugar a E/S innecesarias.</span><span class="sxs-lookup"><span data-stu-id="d12a6-137">Retrieving more data than is needed, resulting in unnecessary I/O.</span></span> |
| <span data-ttu-id="d12a6-138">[Improper Instantiation][ImproperInstantiation]</span><span class="sxs-lookup"><span data-stu-id="d12a6-138">[Improper Instantiation][ImproperInstantiation]</span></span> | <span data-ttu-id="d12a6-139">Crea y destruye objetos varias veces que están diseñados para compartirse y reutilizarse.</span><span class="sxs-lookup"><span data-stu-id="d12a6-139">Repeatedly creating and destroying objects that are designed to be shared and reused.</span></span> |
| <span data-ttu-id="d12a6-140">[Monolithic Persistence][MonolithicPersistence]</span><span class="sxs-lookup"><span data-stu-id="d12a6-140">[Monolithic Persistence][MonolithicPersistence]</span></span> | <span data-ttu-id="d12a6-141">Utiliza el mismo almacén de datos para datos con patrones de uso muy diferentes.</span><span class="sxs-lookup"><span data-stu-id="d12a6-141">Using the same data store for data with very different usage patterns.</span></span> |
| <span data-ttu-id="d12a6-142">[No Caching][NoCaching]</span><span class="sxs-lookup"><span data-stu-id="d12a6-142">[No Caching][NoCaching]</span></span> | <span data-ttu-id="d12a6-143">No se puede almacenar datos en caché.</span><span class="sxs-lookup"><span data-stu-id="d12a6-143">Failing to cache data.</span></span> |
| <span data-ttu-id="d12a6-144">[Synchronous I/O][SynchronousIO]</span><span class="sxs-lookup"><span data-stu-id="d12a6-144">[Synchronous I/O][SynchronousIO]</span></span> | <span data-ttu-id="d12a6-145">Bloquea el subproceso de llamada mientras se completa la E/S.</span><span class="sxs-lookup"><span data-stu-id="d12a6-145">Blocking the calling thread while I/O completes.</span></span> | 

[BusyDatabase]: ./busy-database/index.md
[BusyFrontEnd]: ./busy-front-end/index.md
[ChattyIO]: ./chatty-io/index.md
[ExtraneousFetching]: ./extraneous-fetching/index.md
[ImproperInstantiation]: ./improper-instantiation/index.md
[MonolithicPersistence]: ./monolithic-persistence/index.md
[NoCaching]: ./no-caching/index.md
[SynchronousIO]: ./synchronous-io/index.md