---
title: Recuperación de daños o eliminación accidental de los datos
description: Artículo para entender cómo recuperarse ante datos dañados o eliminación accidental de datos y para diseñar aplicaciones resistentes, con alta disponibilidad y con tolerancia a errores, así como para planear la recuperación ante desastres
author: MikeWasson
ms.date: 01/10/2018
ms.openlocfilehash: 76d2f996750d5a67b67bd5dc4977580f3b8abbc3
ms.sourcegitcommit: 3d6dba524cc7661740bdbaf43870de7728d60a01
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/11/2018
---
# <a name="recover-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="a83d4-103">Recuperación de daños o eliminación accidental de los datos</span><span class="sxs-lookup"><span data-stu-id="a83d4-103">Recover from data corruption or accidental deletion</span></span> 

<span data-ttu-id="a83d4-104">Una parte de un plan de continuidad empresarial sólido consiste en tener un plan por si los datos resultan dañados o se eliminan accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="a83d4-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="a83d4-105">A continuación se proporciona información acerca de la recuperación en caso de datos dañados o eliminados accidentalmente debido a errores de la aplicación o a un error del operador.</span><span class="sxs-lookup"><span data-stu-id="a83d4-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="a83d4-106">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="a83d4-106">Virtual Machines</span></span>

<span data-ttu-id="a83d4-107">Para proteger máquinas virtuales (VM) de Azure de errores de aplicación o de eliminaciones accidentales, use [Azure Backup](/azure/backup/).</span><span class="sxs-lookup"><span data-stu-id="a83d4-107">To protect Azure Virtual Machines (VMs) from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="a83d4-108">Azure Backup permite la creación de copias de seguridad consistentes en varios discos de máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="a83d4-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="a83d4-109">Además, el almacén de Backup se puede replicar entre varias regiones para proporcionar recuperación en caso de pérdida de la región.</span><span class="sxs-lookup"><span data-stu-id="a83d4-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="a83d4-110">Storage</span><span class="sxs-lookup"><span data-stu-id="a83d4-110">Storage</span></span>

<span data-ttu-id="a83d4-111">Azure Storage ofrece resistencia de datos gracias a las réplicas automatizadas.</span><span class="sxs-lookup"><span data-stu-id="a83d4-111">Azure Storage provides data resiliency through automated replicas.</span></span> <span data-ttu-id="a83d4-112">Sin embargo, esto no evita que el código de aplicación o los usuarios dañen los datos, de forma accidental o malintencionada.</span><span class="sxs-lookup"><span data-stu-id="a83d4-112">However, this does not prevent application code or users from corrupting data, whether accidentally or maliciously.</span></span> <span data-ttu-id="a83d4-113">Mantener la fidelidad de los datos en caso de error de la aplicación o del usuario requiere técnicas más avanzadas, como copiar los datos en una ubicación de almacenamiento secundaria con un registro de auditoría.</span><span class="sxs-lookup"><span data-stu-id="a83d4-113">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span> 

- <span data-ttu-id="a83d4-114">**Blobs en bloques**.</span><span class="sxs-lookup"><span data-stu-id="a83d4-114">**Block blobs**.</span></span> <span data-ttu-id="a83d4-115">Cree una instantánea de un momento dado de cada blob en bloques.</span><span class="sxs-lookup"><span data-stu-id="a83d4-115">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="a83d4-116">Para obtener más información, consulte [Crear una instantánea de un blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span><span class="sxs-lookup"><span data-stu-id="a83d4-116">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span> <span data-ttu-id="a83d4-117">Por cada instantánea, solo se le cobrará por el almacenamiento que necesite para almacenar las diferencias producidas en el blob desde el último estado de instantánea.</span><span class="sxs-lookup"><span data-stu-id="a83d4-117">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="a83d4-118">Las instantáneas dependen de la existencia del blob original en el que se basan, por lo que se recomienda realizar una operación de copia a otro blob, o incluso a otra cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a83d4-118">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="a83d4-119">Esto garantiza que los datos de copia de seguridad que los datos de la copia de seguridad estén protegidos correctamente contra la eliminación accidental.</span><span class="sxs-lookup"><span data-stu-id="a83d4-119">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="a83d4-120">Puede usar [AzCopy](/azure/storage/common/storage-use-azcopy) o [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) para copiar los blobs en otra cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a83d4-120">You can use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

- <span data-ttu-id="a83d4-121">**Files**.</span><span class="sxs-lookup"><span data-stu-id="a83d4-121">**Files**.</span></span> <span data-ttu-id="a83d4-122">Use [instantáneas de recursos compartidos (versión preliminar)](/azure/storage/files/storage-how-to-use-files-snapshots), o use AzCopy o PowerShell para copiar los archivos en otra cuenta de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="a83d4-122">Use [share snapshots (preview)](/azure/storage/files/storage-how-to-use-files-snapshots), or use AzCopy or PowerShell to copy your files to another storage account.</span></span>

- <span data-ttu-id="a83d4-123">**Tables**.</span><span class="sxs-lookup"><span data-stu-id="a83d4-123">**Tables**.</span></span> <span data-ttu-id="a83d4-124">Use AzCopy para exportar los datos de tablas a otra cuenta de almacenamiento de otra región.</span><span class="sxs-lookup"><span data-stu-id="a83d4-124">Use AzCopy to export the table data into another storage account in another region.</span></span>

## <a name="database"></a><span data-ttu-id="a83d4-125">Base de datos</span><span class="sxs-lookup"><span data-stu-id="a83d4-125">Database</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="a83d4-126">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="a83d4-126">Azure SQL Database</span></span> 

<span data-ttu-id="a83d4-127">SQL Database realiza automáticamente una combinación de copias de seguridad completas semanales, copias de seguridad diferenciales cada hora y copias de seguridad del registro de transacciones cada 5 o 10 minutos con el fin de proteger su empresa contra la pérdida de datos.</span><span class="sxs-lookup"><span data-stu-id="a83d4-127">SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every five - ten minutes to protect your business from data loss.</span></span> <span data-ttu-id="a83d4-128">Use la restauración a un momento dado para restaurar una base de datos a un momento anterior.</span><span class="sxs-lookup"><span data-stu-id="a83d4-128">Use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="a83d4-129">Para obtener más información, consulte </span><span class="sxs-lookup"><span data-stu-id="a83d4-129">For more information, see:</span></span>

- [<span data-ttu-id="a83d4-130">Recuperación de una Base de datos SQL de Azure mediante copias de seguridad automatizadas</span><span class="sxs-lookup"><span data-stu-id="a83d4-130">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)

- [<span data-ttu-id="a83d4-131">Introducción a la continuidad empresarial con Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="a83d4-131">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

### <a name="sql-server-on-vms"></a><span data-ttu-id="a83d4-132">SQL Server en máquinas virtuales</span><span class="sxs-lookup"><span data-stu-id="a83d4-132">SQL Server on VMs</span></span>

<span data-ttu-id="a83d4-133">Para ejecutar SQL Server en máquinas virtuales, hay dos opciones: copias de seguridad tradicionales y trasvase de registros.</span><span class="sxs-lookup"><span data-stu-id="a83d4-133">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="a83d4-134">Las copias de seguridad tradicionales le permiten restaurar a un momento anterior específico, pero el proceso de recuperación es lento.</span><span class="sxs-lookup"><span data-stu-id="a83d4-134">Traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="a83d4-135">La restauración de copias de seguridad tradicionales requiere empezar con una copia de seguridad completa inicial y, a continuación, aplicar las copias de seguridad realizadas después de ella.</span><span class="sxs-lookup"><span data-stu-id="a83d4-135">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="a83d4-136">La segunda opción es configurar una sesión de trasvase de registros para retrasar la restauración de las copias de seguridad del registro (por ejemplo, en dos horas).</span><span class="sxs-lookup"><span data-stu-id="a83d4-136">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="a83d4-137">Esto proporciona un tiempo para recuperarse de los errores que se produzcan en el servidor principal.</span><span class="sxs-lookup"><span data-stu-id="a83d4-137">This provides a window to recover from errors made on the primary.</span></span>

### <a name="azure-cosmos-db"></a><span data-ttu-id="a83d4-138">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="a83d4-138">Azure Cosmos DB</span></span>

<span data-ttu-id="a83d4-139">Azure Cosmos DB crea automáticamente copias de seguridad a intervalos regulares.</span><span class="sxs-lookup"><span data-stu-id="a83d4-139">Azure Cosmos DB automatically takes backups at regular intervals.</span></span> <span data-ttu-id="a83d4-140">Las copias de seguridad se almacenan por separado en otro servicio de almacenamiento y se replican globalmente para lograr resistencia frente a desastres regionales.</span><span class="sxs-lookup"><span data-stu-id="a83d4-140">Backups are stored separately in another storage service, and those backups are globally replicated for resiliency against regional disasters.</span></span> <span data-ttu-id="a83d4-141">En caso de que elimine accidentalmente su base de datos o colección, puede presentar una incidencia de soporte técnico o llamar al servicio de soporte técnico de Azure para restaurar los datos a partir de la copia de seguridad automática más reciente.</span><span class="sxs-lookup"><span data-stu-id="a83d4-141">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="a83d4-142">Para más información, consulte [Copias de seguridad y restauración automáticas en línea con Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span><span class="sxs-lookup"><span data-stu-id="a83d4-142">For more information, see [Automatic online backup and restore with Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-database-for-mysql-azure-database-for-postresql"></a><span data-ttu-id="a83d4-143">Azure Database for MySQL, Azure Database for PostreSQL</span><span class="sxs-lookup"><span data-stu-id="a83d4-143">Azure Database for MySQL, Azure Database for PostreSQL</span></span>

<span data-ttu-id="a83d4-144">Cuando se usa Azure Database for MySQL o Azure Database for PostreSQL, el servicio de base de datos crea automáticamente una copia de seguridad del servicio cada cinco minutos.</span><span class="sxs-lookup"><span data-stu-id="a83d4-144">When using Azure Database for MySQL or Azure Database for PostreSQL, the database service automatically makes a backup of the service every five minutes.</span></span> <span data-ttu-id="a83d4-145">Con esta característica de copia de seguridad automática, puede restaurar el servidor y todas sus bases de datos en un servidor nuevo a un momento dado anterior.</span><span class="sxs-lookup"><span data-stu-id="a83d4-145">Using this automatic backup feature you may restore the server and all its databases into a new server to an earlier point-in-time.</span></span> <span data-ttu-id="a83d4-146">Para obtener más información, consulte </span><span class="sxs-lookup"><span data-stu-id="a83d4-146">For more information, see:</span></span>

- [<span data-ttu-id="a83d4-147">Copia de seguridad y restauración de un servidor en Azure Database for MySQL mediante Azure Portal</span><span class="sxs-lookup"><span data-stu-id="a83d4-147">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)

- [<span data-ttu-id="a83d4-148">Copia de seguridad y restauración de un servidor en Azure Database for PostgreSQL mediante Azure Portal</span><span class="sxs-lookup"><span data-stu-id="a83d4-148">How to backup and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)

