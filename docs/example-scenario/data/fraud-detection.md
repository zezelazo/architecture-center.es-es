---
title: Detección de fraudes en tiempo real
titleSuffix: Azure Example Scenarios
description: Detecte actividades fraudulentas en tiempo real con Azure Event Hubs y Stream Analytics.
author: alexbuckgit
ms.date: 07/05/2018
ms.openlocfilehash: 9e4d8c5d24acc414ab38722d2df59102395250fb
ms.sourcegitcommit: bb7fcffbb41e2c26a26f8781df32825eb60df70c
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/20/2018
ms.locfileid: "53643412"
---
# <a name="real-time-fraud-detection-on-azure"></a><span data-ttu-id="8d222-103">Detección de fraudes en tiempo real en Azure</span><span class="sxs-lookup"><span data-stu-id="8d222-103">Real-time fraud detection on Azure</span></span>

<span data-ttu-id="8d222-104">Este escenario de ejemplo es pertinente para las organizaciones que necesitan analizar los datos en tiempo real para detectar transacciones fraudulentas u otras actividades anómalas.</span><span class="sxs-lookup"><span data-stu-id="8d222-104">This example scenario is relevant to organizations that need to analyze data in real time to detect fraudulent transactions or other anomalous activity.</span></span>

<span data-ttu-id="8d222-105">Las posibles aplicaciones son la identificación de actividades con tarjetas de crédito o llamadas de teléfono móvil fraudulentas.</span><span class="sxs-lookup"><span data-stu-id="8d222-105">Potential applications include identifying fraudulent credit card activity or mobile phone calls.</span></span> <span data-ttu-id="8d222-106">Los sistemas de análisis en línea tradicionales podrían tardar horas en transformar y analizar los datos para identificar la actividad anómala.</span><span class="sxs-lookup"><span data-stu-id="8d222-106">Traditional online analytical systems might take hours to transform and analyze the data to identify anomalous activity.</span></span>

<span data-ttu-id="8d222-107">Gracias a los servicios de Azure totalmente administrados, como Event Hubs y Stream Analytics, las empresas pueden eliminar la necesidad de administrar servidores individuales, reducir los costos y aprovechar la experiencia que Microsoft tiene en ingesta de datos de escala de nube y análisis en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="8d222-107">By using fully managed Azure services such as Event Hubs and Stream Analytics, companies can eliminate the need to manage individual servers, while reducing costs and leveraging Microsoft's expertise in cloud-scale data ingestion and real-time analytics.</span></span> <span data-ttu-id="8d222-108">En concreto, en este escenario se aborda la detección de actividades fraudulentas.</span><span class="sxs-lookup"><span data-stu-id="8d222-108">This scenario specifically addresses the detection of fraudulent activity.</span></span> <span data-ttu-id="8d222-109">Si tiene otras necesidades de análisis de datos, consulte la lista de [servicios de análisis de Azure][product-category] disponibles.</span><span class="sxs-lookup"><span data-stu-id="8d222-109">If you have other needs for data analytics, you should review the list of available [Azure Analytics services][product-category].</span></span>

<span data-ttu-id="8d222-110">Este ejemplo representa una parte de una estrategia y una arquitectura de procesamiento de datos más amplia.</span><span class="sxs-lookup"><span data-stu-id="8d222-110">This sample represents one part of a broader data processing architecture and strategy.</span></span> <span data-ttu-id="8d222-111">Otras opciones para este aspecto de una arquitectura global se tratan más adelante en este artículo.</span><span class="sxs-lookup"><span data-stu-id="8d222-111">Other options for this aspect of an overall architecture are discussed later in this article.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="8d222-112">Casos de uso pertinentes</span><span class="sxs-lookup"><span data-stu-id="8d222-112">Relevant use cases</span></span>

<span data-ttu-id="8d222-113">Otros casos de uso pertinentes incluyen:</span><span class="sxs-lookup"><span data-stu-id="8d222-113">Other relevant use cases include:</span></span>

- <span data-ttu-id="8d222-114">Detección de llamadas de teléfono móvil fraudulentas en escenarios de telecomunicaciones.</span><span class="sxs-lookup"><span data-stu-id="8d222-114">Detecting fraudulent mobile-phone calls in telecommunications scenarios.</span></span>
- <span data-ttu-id="8d222-115">Identificación de transacciones fraudulentas de tarjetas de crédito para las instituciones de banca.</span><span class="sxs-lookup"><span data-stu-id="8d222-115">Identifying fraudulent credit card transactions for banking institutions.</span></span>
- <span data-ttu-id="8d222-116">Identificación de compras fraudulentas en escenarios de comercio físico o electrónico.</span><span class="sxs-lookup"><span data-stu-id="8d222-116">Identifying fraudulent purchases in retail or e-commerce scenarios.</span></span>

## <a name="architecture"></a><span data-ttu-id="8d222-117">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="8d222-117">Architecture</span></span>

![Introducción a la arquitectura de los componentes de Azure de un escenario de detección de fraudes en tiempo real][architecture]

<span data-ttu-id="8d222-119">Este escenario trata los componentes de back-end de una canalización de análisis en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="8d222-119">This scenario covers the back-end components of a real-time analytics pipeline.</span></span> <span data-ttu-id="8d222-120">Los datos fluyen por el escenario de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="8d222-120">Data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="8d222-121">Los metadatos de las llamadas de teléfono móvil se envían desde el sistema de origen a una instancia de Azure Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="8d222-121">Mobile phone call metadata is sent from the source system to an Azure Event Hubs instance.</span></span>
2. <span data-ttu-id="8d222-122">Se inicia un trabajo de Stream Analytics, que recibe los datos mediante el origen del centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="8d222-122">A Stream Analytics job is started, which receives data via the event hub source.</span></span>
3. <span data-ttu-id="8d222-123">El trabajo de Stream Analytics ejecuta una consulta predefinida para transformar el flujo de entrada y analizarlo según un algoritmo de transacciones fraudulentas.</span><span class="sxs-lookup"><span data-stu-id="8d222-123">The Stream Analytics job runs a predefined query to transform the input stream and analyze it based on a fraudulent-transaction algorithm.</span></span> <span data-ttu-id="8d222-124">Esta consulta utiliza una ventana de saltos de tamaño constante para segmentar el flujo en distintas unidades temporales.</span><span class="sxs-lookup"><span data-stu-id="8d222-124">This query uses a tumbling window to segment the stream into distinct temporal units.</span></span>
4. <span data-ttu-id="8d222-125">El trabajo de Stream Analytics escribe el flujo transformado que representa las llamadas fraudulentas detectadas en un receptor de salida en Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="8d222-125">The Stream Analytics job writes the transformed stream representing detected fraudulent calls to an output sink in Azure Blob storage.</span></span>

### <a name="components"></a><span data-ttu-id="8d222-126">Componentes</span><span class="sxs-lookup"><span data-stu-id="8d222-126">Components</span></span>

- <span data-ttu-id="8d222-127">[Azure Event Hubs][docs-event-hubs] es una plataforma de streaming en tiempo real y un servicio de ingesta de eventos de gran escalabilidad capaz de recibir y procesar millones de eventos por segundo.</span><span class="sxs-lookup"><span data-stu-id="8d222-127">[Azure Event Hubs][docs-event-hubs] is a real-time streaming platform and event ingestion service, capable of receiving and processing millions of events per second.</span></span> <span data-ttu-id="8d222-128">Event Hubs puede procesar y almacenar eventos, datos o telemetría generados por dispositivos y software distribuido.</span><span class="sxs-lookup"><span data-stu-id="8d222-128">Event Hubs can process and store events, data, or telemetry produced by distributed software and devices.</span></span> <span data-ttu-id="8d222-129">En este escenario, Event Hubs recibe todos los metadatos de las llamadas de teléfono que se van a analizar en busca de actividades fraudulentas.</span><span class="sxs-lookup"><span data-stu-id="8d222-129">In this scenario, Event Hubs receives all phone call metadata to be analyzed for fraudulent activity.</span></span>
- <span data-ttu-id="8d222-130">[Azure Stream Analytics][docs-stream-analytics] es un motor de procesamiento de eventos que permite analizar grandes volúmenes de streaming de datos procedentes de dispositivos y otros orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="8d222-130">[Azure Stream Analytics][docs-stream-analytics] is an event-processing engine that can analyze high volumes of data streaming from devices and other data sources.</span></span> <span data-ttu-id="8d222-131">También permite extraer información de los flujos de datos e identificar patrones y relaciones.</span><span class="sxs-lookup"><span data-stu-id="8d222-131">It also supports extracting information from data streams to identify patterns and relationships.</span></span> <span data-ttu-id="8d222-132">Estos patrones pueden desencadenar otras acciones en niveles inferiores.</span><span class="sxs-lookup"><span data-stu-id="8d222-132">These patterns can trigger other downstream actions.</span></span> <span data-ttu-id="8d222-133">En este escenario, Stream Analytics transforma la secuencia de entrada de Event Hubs para identificar las llamadas fraudulentas.</span><span class="sxs-lookup"><span data-stu-id="8d222-133">In this scenario, Stream Analytics transforms the input stream from Event Hubs to identify fraudulent calls.</span></span>
- <span data-ttu-id="8d222-134">[Blob Storage](/azure/storage/blobs/storage-blobs-introduction) se utiliza en este escenario para almacenar los resultados del trabajo de Stream Analytics.</span><span class="sxs-lookup"><span data-stu-id="8d222-134">[Blob storage](/azure/storage/blobs/storage-blobs-introduction) is used in this scenario to store the results of the Stream Analytics job.</span></span>

## <a name="considerations"></a><span data-ttu-id="8d222-135">Consideraciones</span><span class="sxs-lookup"><span data-stu-id="8d222-135">Considerations</span></span>

### <a name="alternatives"></a><span data-ttu-id="8d222-136">Alternativas</span><span class="sxs-lookup"><span data-stu-id="8d222-136">Alternatives</span></span>

<span data-ttu-id="8d222-137">Existen muchas opciones tecnológicas de ingesta de mensajes en tiempo real, almacenamiento de datos, flujo de procesamiento, almacenamiento de datos análisis e informes.</span><span class="sxs-lookup"><span data-stu-id="8d222-137">Many technology choices are available for real-time message ingestion, data storage, stream processing, storage of analytical data, and analytics and reporting.</span></span> <span data-ttu-id="8d222-138">Para obtener información general acerca de estas opciones, sus funcionalidades y los principales criterios de selección de claves, consulte [Arquitecturas de macrodatos: procesamiento en tiempo real](/azure/architecture/data-guide/technology-choices/real-time-ingestion) en la Guía de arquitectura de datos de Azure.</span><span class="sxs-lookup"><span data-stu-id="8d222-138">For an overview of these options, their capabilities, and key selection criteria, see [Big data architectures: Real-time processing](/azure/architecture/data-guide/technology-choices/real-time-ingestion) in the Azure Data Architecture Guide.</span></span>

<span data-ttu-id="8d222-139">Además, se pueden producir algoritmos más complejos para la detección de fraudes con diversos servicios de aprendizaje automático de Azure.</span><span class="sxs-lookup"><span data-stu-id="8d222-139">Additionally, more complex algorithms for fraud detection can be produced by various machine learning services in Azure.</span></span> <span data-ttu-id="8d222-140">Para obtener información general sobre estas opciones, consulte [Opciones de tecnología: Machine Learning](/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning) en la [Guía de arquitectura de datos de Azure](../../data-guide/index.md).</span><span class="sxs-lookup"><span data-stu-id="8d222-140">For an overview of these options, see [Technology choices for machine learning](/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning) in the [Azure Data Architecture Guide](../../data-guide/index.md).</span></span>

### <a name="availability"></a><span data-ttu-id="8d222-141">Disponibilidad</span><span class="sxs-lookup"><span data-stu-id="8d222-141">Availability</span></span>

<span data-ttu-id="8d222-142">Azure Monitor proporciona interfaces de usuario unificadas para la supervisión de distintos servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="8d222-142">Azure Monitor provides unified user interfaces for monitoring across various Azure services.</span></span> <span data-ttu-id="8d222-143">Para más información, consulte [Supervisión en Microsoft Azure](/azure/monitoring-and-diagnostics/monitoring-overview).</span><span class="sxs-lookup"><span data-stu-id="8d222-143">For more information, see [Monitoring in Microsoft Azure](/azure/monitoring-and-diagnostics/monitoring-overview).</span></span> <span data-ttu-id="8d222-144">Event Hubs y Stream Analytics se integran ambos con Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="8d222-144">Event Hubs and Stream Analytics are both integrated with Azure Monitor.</span></span>

<span data-ttu-id="8d222-145">Para ver otras consideraciones sobre escalabilidad, consulte la [lista de comprobación de disponibilidad][availability] en el centro de arquitectura de Azure.</span><span class="sxs-lookup"><span data-stu-id="8d222-145">For other availability considerations, see the [availability checklist][availability] in the Azure Architecture Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="8d222-146">Escalabilidad</span><span class="sxs-lookup"><span data-stu-id="8d222-146">Scalability</span></span>

<span data-ttu-id="8d222-147">Los componentes de este escenario están diseñados para una ingesta a hiperescala y análisis en tiempo real masivo en paralelo.</span><span class="sxs-lookup"><span data-stu-id="8d222-147">The components of this scenario are designed for hyper-scale ingestion and massively parallel real-time analytics.</span></span> <span data-ttu-id="8d222-148">Azure Event Hubs es muy escalable, capaz de recibir y procesar millones de eventos por segundo con una baja latencia.</span><span class="sxs-lookup"><span data-stu-id="8d222-148">Azure Event Hubs is highly scalable, capable of receiving and processing millions of events per second with low latency.</span></span> <span data-ttu-id="8d222-149">Event Hubs puede [escalar verticalmente](/azure/event-hubs/event-hubs-auto-inflate) el número de unidades de rendimiento para responder a las necesidades de uso.</span><span class="sxs-lookup"><span data-stu-id="8d222-149">Event Hubs can [automatically scale up](/azure/event-hubs/event-hubs-auto-inflate) the number of throughput units to meet usage needs.</span></span> <span data-ttu-id="8d222-150">Azure Stream Analytics puede analizar grandes volúmenes de datos de varios orígenes de streaming.</span><span class="sxs-lookup"><span data-stu-id="8d222-150">Azure Stream Analytics is capable of analyzing high volumes of streaming data from many sources.</span></span> <span data-ttu-id="8d222-151">Para escalar Stream Analytics verticalmente, puede aumentar el número de [unidades de streaming](/azure/stream-analytics/stream-analytics-streaming-unit-consumption) asignado para ejecutar el trabajo de streaming.</span><span class="sxs-lookup"><span data-stu-id="8d222-151">You can scale up Stream Analytics by increasing the number of [streaming units](/azure/stream-analytics/stream-analytics-streaming-unit-consumption) allocated to execute your streaming job.</span></span>

<span data-ttu-id="8d222-152">Para obtener instrucciones generales sobre cómo diseñar soluciones escalables, consulte la [lista de comprobación de escalabilidad][scalability] en el centro de arquitectura de Azure.</span><span class="sxs-lookup"><span data-stu-id="8d222-152">For general guidance on designing scalable solutions, see the [scalability checklist][scalability] in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="8d222-153">Seguridad</span><span class="sxs-lookup"><span data-stu-id="8d222-153">Security</span></span>

<span data-ttu-id="8d222-154">Azure Event Hubs protege los datos mediante un [modelo de autenticación y seguridad][docs-event-hubs-security-model] basado en una combinación de tokens de firma de acceso compartido (SAS) y publicadores de eventos.</span><span class="sxs-lookup"><span data-stu-id="8d222-154">Azure Event Hubs secures data through an [authentication and security model][docs-event-hubs-security-model] based on a combination of Shared Access Signature (SAS) tokens and event publishers.</span></span> <span data-ttu-id="8d222-155">Un publicador de eventos define un punto de conexión virtual para un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="8d222-155">An event publisher defines a virtual endpoint for an event hub.</span></span> <span data-ttu-id="8d222-156">El publicador solo puede usarse para enviar mensajes a un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="8d222-156">The publisher can only be used to send messages to an event hub.</span></span> <span data-ttu-id="8d222-157">No es posible recibir mensajes desde un publicador.</span><span class="sxs-lookup"><span data-stu-id="8d222-157">It is not possible to receive messages from a publisher.</span></span>

<span data-ttu-id="8d222-158">Para obtener instrucciones generales sobre el diseño de soluciones seguras, consulte la [documentación de seguridad de Azure][security].</span><span class="sxs-lookup"><span data-stu-id="8d222-158">For general guidance on designing secure solutions, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="8d222-159">Resistencia</span><span class="sxs-lookup"><span data-stu-id="8d222-159">Resiliency</span></span>

<span data-ttu-id="8d222-160">Para obtener instrucciones generales sobre el diseño de soluciones resistentes, consulte [Diseño de aplicaciones resistentes de Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="8d222-160">For general guidance on designing resilient solutions, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="8d222-161">Implementación del escenario</span><span class="sxs-lookup"><span data-stu-id="8d222-161">Deploy the scenario</span></span>

<span data-ttu-id="8d222-162">Para implementar este escenario, puede seguir este [tutorial detallado][tutorial] que muestra cómo implementar manualmente cada componente.</span><span class="sxs-lookup"><span data-stu-id="8d222-162">To deploy this scenario, you can follow this [step-by-step tutorial][tutorial] demonstrating how to manually deploy each component of the scenario.</span></span> <span data-ttu-id="8d222-163">Este tutorial también proporciona una aplicación de cliente de .NET para generar los metadatos de ejemplo de llamadas de teléfono y enviar los datos a un centro de eventos.</span><span class="sxs-lookup"><span data-stu-id="8d222-163">This tutorial also provides a .NET client application to generate sample phone call metadata and send that data to an event hub instance.</span></span>

## <a name="pricing"></a><span data-ttu-id="8d222-164">Precios</span><span class="sxs-lookup"><span data-stu-id="8d222-164">Pricing</span></span>

<span data-ttu-id="8d222-165">Para explorar el costo de ejecutar este escenario, todos los servicios están preconfigurados en la calculadora de costos.</span><span class="sxs-lookup"><span data-stu-id="8d222-165">To explore the cost of running this scenario, all of the services are pre-configured in the cost calculator.</span></span> <span data-ttu-id="8d222-166">Para ver cómo cambiarían los precios en su caso concreto, cambie las variables pertinentes para que coincidan con el volumen de datos esperado.</span><span class="sxs-lookup"><span data-stu-id="8d222-166">To see how the pricing would change for your particular use case, change the appropriate variables to match your expected data volume.</span></span>

<span data-ttu-id="8d222-167">Hemos proporcionado tres ejemplos de perfiles de costo según la cantidad de tráfico que se espera obtener:</span><span class="sxs-lookup"><span data-stu-id="8d222-167">We have provided three sample cost profiles based on amount of traffic you expect to get:</span></span>

- <span data-ttu-id="8d222-168">[Pequeño][small-pricing]: se procesa un millón de eventos en una unidad de streaming estándar al mes.</span><span class="sxs-lookup"><span data-stu-id="8d222-168">[Small][small-pricing]: process one million events through one standard streaming unit per month.</span></span>
- <span data-ttu-id="8d222-169">[Mediano][medium-pricing]: se procesan 100 millones de eventos en cinco unidades de streaming estándar al mes.</span><span class="sxs-lookup"><span data-stu-id="8d222-169">[Medium][medium-pricing]: process 100M events through five standard streaming units per month.</span></span>
- <span data-ttu-id="8d222-170">[Grande][large-pricing]: se procesan 999 millones de eventos en 20 unidades de streaming estándar al mes.</span><span class="sxs-lookup"><span data-stu-id="8d222-170">[Large][large-pricing]: process 999 million events through 20 standard streaming units per month.</span></span>

## <a name="related-resources"></a><span data-ttu-id="8d222-171">Recursos relacionados</span><span class="sxs-lookup"><span data-stu-id="8d222-171">Related resources</span></span>

<span data-ttu-id="8d222-172">Los escenarios de detección de fraudes más complejos pueden beneficiarse de un modelo de aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="8d222-172">More complex fraud detection scenarios can benefit from a machine learning model.</span></span> <span data-ttu-id="8d222-173">Para ver escenarios creados con Machine Learning Server, consulte [Detección de fraudes con Machine Learning Server][r-server-fraud-detection].</span><span class="sxs-lookup"><span data-stu-id="8d222-173">For scenarios built using Machine Learning Server, see [Fraud detection using Machine Learning Server][r-server-fraud-detection].</span></span> <span data-ttu-id="8d222-174">Para ver otras plantillas de solución con Machine Learning Server, consulte [Escenarios de ciencia de datos y plantillas de solución][docs-r-server-sample-solutions].</span><span class="sxs-lookup"><span data-stu-id="8d222-174">For other solution templates using Machine Learning Server, see [Data science scenarios and solution templates][docs-r-server-sample-solutions].</span></span> <span data-ttu-id="8d222-175">Para ver una solución de ejemplo con Azure Data Lake Analytics, consulte [Uso de Azure Data Lake y R para la detección de fraudes][technet-fraud-detection].</span><span class="sxs-lookup"><span data-stu-id="8d222-175">For an example solution using Azure Data Lake Analytics, see [Using Azure Data Lake and R for Fraud Detection][technet-fraud-detection].</span></span>

<!-- links -->
[product-category]: https://azure.microsoft.com/product-categories/analytics/
[tutorial]: /azure/stream-analytics/stream-analytics-real-time-fraud-detection
[small-pricing]: https://azure.com/e/74149ec312c049ccba79bfb3cfa67606
[medium-pricing]: https://azure.com/e/4fc94f7376de484d8ae67a6958cae60a
[large-pricing]: https://azure.com/e/7da8804396f9428a984578700003ba42
[architecture]: ./media/architecture-fraud-detection.png
[docs-event-hubs]: /azure/event-hubs/event-hubs-what-is-event-hubs
[docs-event-hubs-security-model]: /azure/event-hubs/event-hubs-authentication-and-security-model-overview
[docs-stream-analytics]: /azure/stream-analytics/stream-analytics-introduction
[docs-r-server-sample-solutions]: /machine-learning-server/r/sample-solutions
[r-server-fraud-detection]: https://microsoft.github.io/r-server-fraud-detection/
[technet-fraud-detection]: https://blogs.technet.microsoft.com/machinelearning/2017/06/28/using-azure-data-lake-and-r-for-fraud-detection/
[availability]: /azure/architecture/checklist/availability
[scalability]: /azure/architecture/checklist/scalability
[resiliency]: ../../resiliency/index.md
[security]: /azure/security/
