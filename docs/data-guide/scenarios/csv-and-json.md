---
title: Procesamiento de archivos CSV y JSON
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: b9a0deae5499a4df4e43e15914490b89e0e3a50c
ms.sourcegitcommit: e9eb2b895037da0633ef3ccebdea2fcce047620f
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/30/2018
ms.locfileid: "50251811"
---
# <a name="working-with-csv-and-json-files-for-data-solutions"></a><span data-ttu-id="3a600-102">Trabajo con archivos CSV y JSON en soluciones de datos</span><span class="sxs-lookup"><span data-stu-id="3a600-102">Working with CSV and JSON files for data solutions</span></span>

<span data-ttu-id="3a600-103">CSV y JSON son probablemente los formatos más utilizados para la ingesta, intercambio y almacenamiento de datos no estructurados o semiestructurados.</span><span class="sxs-lookup"><span data-stu-id="3a600-103">CSV and JSON are likely the most common formats used for ingesting, exchanging, and storing unstructured or semi-structured data.</span></span> 

## <a name="about-csv-format"></a><span data-ttu-id="3a600-104">Acerca del formato CSV</span><span class="sxs-lookup"><span data-stu-id="3a600-104">About CSV format</span></span>

<span data-ttu-id="3a600-105">Los archivos CSV (valores separados por comas) se usan normalmente para intercambiar datos tabulares entre sistemas en texto sin formato.</span><span class="sxs-lookup"><span data-stu-id="3a600-105">CSV (comma-separated values) files are commonly used to exchange tabular data between systems in plain text.</span></span> <span data-ttu-id="3a600-106">Normalmente contienen una fila de encabezado que proporciona los nombres de columna para los datos, pero estos se consideran semiestructurados.</span><span class="sxs-lookup"><span data-stu-id="3a600-106">They typically contain a header row that provides column names for the data, but are otherwise considered semi-structured.</span></span> <span data-ttu-id="3a600-107">Esto es debido a que los archivos CSV no pueden representar de forma natural datos jerárquicos o relacionales.</span><span class="sxs-lookup"><span data-stu-id="3a600-107">This is due to the fact that CSVs cannot naturally represent hierarchical or relational data.</span></span> <span data-ttu-id="3a600-108">Las relaciones de datos normalmente se controlan con varios archivos CSV, donde las claves externas se almacenan en columnas de uno o más archivos, pero las relaciones entre esos archivos no se expresan con el propio formato.</span><span class="sxs-lookup"><span data-stu-id="3a600-108">Data relationships are typically handled with multiple CSV files, where foreign keys are stored in columns of one or more files, but the relationships between those files are not expressed by the format itself.</span></span> <span data-ttu-id="3a600-109">Los archivos en formato CSV pueden usar otros delimitadores además de las comas, por ejemplo, tabulaciones o espacios.</span><span class="sxs-lookup"><span data-stu-id="3a600-109">Files in CSV format may use other delimiters besides commas, such as tabs or spaces.</span></span>

<span data-ttu-id="3a600-110">A pesar de sus limitaciones, los archivos CSV son una opción popular para el intercambio de datos, ya que son compatibles con una amplia gama de aplicaciones de negocio, de consumo y científicas.</span><span class="sxs-lookup"><span data-stu-id="3a600-110">Despite their limitations, CSV files are a popular choice for data exchange, because they are supported by a wide range of business, consumer, and scientific applications.</span></span> <span data-ttu-id="3a600-111">Por ejemplo, los programas de base de datos y hojas de cálculo pueden importar y exportar archivos CSV.</span><span class="sxs-lookup"><span data-stu-id="3a600-111">For example, database and spreadsheet programs can import and export CSV files.</span></span> <span data-ttu-id="3a600-112">Del mismo modo, la mayoría de los motores de procesamiento por lotes y de procesamiento de secuencias de datos, como Spark y Hadoop, admiten de forma nativa serializar y deserializar archivos con formato CSV y ofrecen formas de aplicar un esquema en la lectura.</span><span class="sxs-lookup"><span data-stu-id="3a600-112">Similarly, most batch and stream data processing engines, such as Spark and Hadoop, natively support serializing and deserializing CSV-formatted files and offer ways to apply a schema on read.</span></span> <span data-ttu-id="3a600-113">Esto hace más fácil trabajar con los datos, ya que ofrece opciones para realizar consultas en ellos y almacenar la información en un formato de datos más eficaz para un procesamiento más rápido.</span><span class="sxs-lookup"><span data-stu-id="3a600-113">This makes it easier to work with the data, by offering options to query against it and store the information in a more efficient data format for faster processing.</span></span>

## <a name="about-json-format"></a><span data-ttu-id="3a600-114">Acerca del formato JSON</span><span class="sxs-lookup"><span data-stu-id="3a600-114">About JSON format</span></span>

<span data-ttu-id="3a600-115">Los datos JSON (notación de objetos JavaScript) se representan como pares de clave y valor en un formato semiestructurado.</span><span class="sxs-lookup"><span data-stu-id="3a600-115">JSON (JavaScript Object Notation) data is represented as key-value pairs in a semi-structured format.</span></span> <span data-ttu-id="3a600-116">JSON se compara a menudo con XML, ya que ambos son capaces de almacenar los datos en un formato jerárquico con los datos secundarios representados alineados con su elemento primario.</span><span class="sxs-lookup"><span data-stu-id="3a600-116">JSON is often compared to XML, as both are capable of storing data in hierarchical format, with child data represented inline with its parent.</span></span> <span data-ttu-id="3a600-117">Ambos son autodescriptivos y legibles, pero los documentos JSON tienden a ser mucho más pequeños, lo que ha llevado a su uso popular en el intercambio de datos en línea, sobre todo con la llegada de los servicios web basados en REST.</span><span class="sxs-lookup"><span data-stu-id="3a600-117">Both are self-describing and human readable, but JSON documents tend to be much smaller, leading to their popular use in online data exchange, especially with the advent of REST-based web services.</span></span> 

<span data-ttu-id="3a600-118">Los archivos con formato JSON tienen varias ventajas sobre CSV:</span><span class="sxs-lookup"><span data-stu-id="3a600-118">JSON-formatted files have several benefits over CSV:</span></span>

* <span data-ttu-id="3a600-119">JSON mantiene las estructuras jerárquicas, facilitando la tarea de almacenar datos relacionados en un único documento y representar relaciones complejas.</span><span class="sxs-lookup"><span data-stu-id="3a600-119">JSON maintains hierarchical structures, making it easier to hold related data in a single document and represent complex relationships.</span></span>
* <span data-ttu-id="3a600-120">La mayoría de los lenguajes de programación proporcionan compatibilidad nativa para deserializar JSON en objetos o proporcionan bibliotecas de serialización de JSON ligeras.</span><span class="sxs-lookup"><span data-stu-id="3a600-120">Most programming languages provide native support for deserializing JSON into objects, or provide lightweight JSON serialization libraries.</span></span>
* <span data-ttu-id="3a600-121">JSON admite listas de objetos, lo que ayuda a evitar traducciones desordenadas de listas en un modelo de datos relacional.</span><span class="sxs-lookup"><span data-stu-id="3a600-121">JSON supports lists of objects, helping to avoid messy translations of lists into a relational data model.</span></span>
* <span data-ttu-id="3a600-122">JSON es un formato de archivo utilizado habitualmente en bases de datos no SQL, como MongoDB, Couchbase y Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="3a600-122">JSON is a commonly used file format for NoSQL databases, such as MongoDB, Couchbase, and Azure Cosmos DB.</span></span>

<span data-ttu-id="3a600-123">Dado que una gran cantidad de datos que llegan a través de la línea ya está en formato JSON, la mayoría de los lenguajes de programación basados en la web admiten trabajar con JSON de forma nativa o mediante el uso de bibliotecas externas para serializar y deserializar los datos JSON.</span><span class="sxs-lookup"><span data-stu-id="3a600-123">Since a lot of data coming across the wire is already in JSON format, most web-based programming languages support working with JSON natively, or through the use of external libraries to serialize and deserialize JSON data.</span></span> <span data-ttu-id="3a600-124">Esta compatibilidad universal con JSON ha llevado a su uso en formatos lógicos a través de la representación de la estructura de datos, formatos de intercambio de datos activos y el almacenamiento de datos para los datos inactivos.</span><span class="sxs-lookup"><span data-stu-id="3a600-124">This universal support for JSON has led to its use in logical formats through data structure representation, exchange formats for hot data, and data storage for cold data.</span></span>

<span data-ttu-id="3a600-125">Muchos motores de procesamiento por lotes y de procesamiento de datos de secuencias admiten de forma nativa la serialización y deserialización de JSON.</span><span class="sxs-lookup"><span data-stu-id="3a600-125">Many batch and stream data processing engines natively support JSON serialization and deserialization.</span></span> <span data-ttu-id="3a600-126">Aunque los datos contenidos en documentos JSON en última instancia pueden almacenarse en formatos más optimizado para el rendimiento, como Parquet o Avro, actúa como los datos sin procesar para el origen único, lo cual resulta esencial para volver a procesar los datos según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="3a600-126">Though the data contained within JSON documents may ultimately be stored in a more performance-optimized formats, such as Parquet or Avro, it serves as the raw data for source of truth, which is critical for reprocessing the data as needed.</span></span>

## <a name="when-to-use-csv-or-json-formats"></a><span data-ttu-id="3a600-127">Cuándo utilizar los formatos CSV o JSON</span><span class="sxs-lookup"><span data-stu-id="3a600-127">When to use CSV or JSON formats</span></span>

<span data-ttu-id="3a600-128">Los archivos CSV se utilizan normalmente para la exportación y la importación de datos o para su procesamiento para el análisis o el aprendizaje automático.</span><span class="sxs-lookup"><span data-stu-id="3a600-128">CSVs are more commonly used for exporting and importing data, or processing it for analytics and machine learning.</span></span> <span data-ttu-id="3a600-129">Los archivos con formato JSON tienen las mismas ventajas, pero son más comunes en soluciones de intercambio de datos activos.</span><span class="sxs-lookup"><span data-stu-id="3a600-129">JSON-formatted files have the same benefits, but are more common in hot data exchange solutions.</span></span> <span data-ttu-id="3a600-130">Los documentos JSON son enviados a menudo por web y por dispositivos móviles para realizar transacciones en línea, por los dispositivos de IoT (internet de las cosas) para comunicaciones unidireccionales o bidireccionales o por aplicaciones de cliente comunicándose con servicios de SaaS y PaaS o arquitecturas sin servidor.</span><span class="sxs-lookup"><span data-stu-id="3a600-130">JSON documents are often sent by web and mobile devices performing online transactions, by IoT (internet of things) devices for one-way or bidirectional communication, or by client applications communicating with SaaS and PaaS services or serverless architectures.</span></span> 

<span data-ttu-id="3a600-131">Los formatos de archivo CSV y JSON facilitan el intercambio de datos entre diferentes sistemas o dispositivos.</span><span class="sxs-lookup"><span data-stu-id="3a600-131">CSV and JSON file formats both make it easy to exchange data between dissimilar systems or devices.</span></span> <span data-ttu-id="3a600-132">Sus formatos semiestructurados aportan flexibilidad para transferir casi cualquier tipo de datos y la compatibilidad universal con estos formatos hace sencillo trabajar con ellos.</span><span class="sxs-lookup"><span data-stu-id="3a600-132">Their semi-structured formats allow flexibility in transferring almost any type of data, and universal support for these formats make them simple to work with.</span></span> <span data-ttu-id="3a600-133">Ambos se pueden utilizar como origen único sin tratamiento en aquellos casos en los que los datos procesados se almacenan en formatos binarios para una consulta más eficaz.</span><span class="sxs-lookup"><span data-stu-id="3a600-133">Both can be used as the raw source of truth in cases where the processed data is stored in binary formats for more efficient querying.</span></span> 

## <a name="working-with-csv-and-json-data-in-azure"></a><span data-ttu-id="3a600-134">Trabajo con datos CSV y JSON en Azure</span><span class="sxs-lookup"><span data-stu-id="3a600-134">Working with CSV and JSON data in Azure</span></span>

<span data-ttu-id="3a600-135">Azure proporciona varias soluciones para trabajar con archivos CSV y JSON, dependiendo de sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="3a600-135">Azure provides several solutions for working with CSV and JSON files, depending on your needs.</span></span> <span data-ttu-id="3a600-136">El sitio de aterrizaje principal de estos archivos es Azure Storage o Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="3a600-136">The primary landing place for these files is either Azure Storage or Azure Data Lake Store.</span></span> <span data-ttu-id="3a600-137">La mayoría de los servicios de Azure que trabajan con estos y otros archivos basados en texto se integran con estos servicios de almacenamiento de objetos.</span><span class="sxs-lookup"><span data-stu-id="3a600-137">Most Azure services that work with these and other text-based files integrate with either object storage service.</span></span> <span data-ttu-id="3a600-138">En algunas situaciones, sin embargo, puede elegir importar directamente los datos en Azure SQL u otro almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="3a600-138">In some situations, however, you may opt to directly import the data into Azure SQL or some other data store.</span></span> <span data-ttu-id="3a600-139">SQL Server ofrece compatibilidad nativa para almacenar y trabajar con documentos JSON, lo que facilita [importar y procesar esos tipos de archivos](/sql/relational-databases/json/import-json-documents-into-sql-server).</span><span class="sxs-lookup"><span data-stu-id="3a600-139">SQL Server has native support for storing and working with JSON documents, which makes it easy to [import and process those types of files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span> <span data-ttu-id="3a600-140">Puede usar una herramienta como la importación en bloque de SQL para [importar archivos CSV](/sql/relational-databases/json/import-json-documents-into-sql-server) fácilmente.</span><span class="sxs-lookup"><span data-stu-id="3a600-140">You can use a utility like SQL Bulk Import to easily [import CSV files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span>

<span data-ttu-id="3a600-141">También puede consultar los archivos JSON directamente desde Azure Blob Storage sin importarlos en SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="3a600-141">You can also query JSON files directly from Azure Blob Storage without importing them into Azure SQL.</span></span> <span data-ttu-id="3a600-142">Para obtener un ejemplo completo de este enfoque, consulte [Work with JSON files with Azure SQL](https://medium.com/@mauridb/work-with-json-files-with-azure-sql-8946f066ddd4) (Uso de archivos JSON con Azure SQL).</span><span class="sxs-lookup"><span data-stu-id="3a600-142">For a complete example of this approach, see [Work with JSON files with Azure SQL](https://medium.com/@mauridb/work-with-json-files-with-azure-sql-8946f066ddd4).</span></span> <span data-ttu-id="3a600-143">Esta opción no está disponible actualmente para los archivos CSV.</span><span class="sxs-lookup"><span data-stu-id="3a600-143">Currently this option isn't available for CSV files.</span></span>

<span data-ttu-id="3a600-144">Según el escenario, puede realizar [procesamiento por lotes](../big-data/batch-processing.md) o [procesamiento en tiempo real](../big-data/real-time-processing.md) de los datos.</span><span class="sxs-lookup"><span data-stu-id="3a600-144">Depending on the scenario, you may perform [batch processing](../big-data/batch-processing.md) or [real-time processing](../big-data/real-time-processing.md) of the data.</span></span>

## <a name="challenges"></a><span data-ttu-id="3a600-145">Desafíos</span><span class="sxs-lookup"><span data-stu-id="3a600-145">Challenges</span></span>

<span data-ttu-id="3a600-146">Hay algunos desafíos a tener en cuenta al trabajar con estos formatos:</span><span class="sxs-lookup"><span data-stu-id="3a600-146">There are some challenges to consider when working with these formats:</span></span>

* <span data-ttu-id="3a600-147">Sin restricciones en el modelo de datos, los archivos CSV y JSON son proclives a daños en los datos ("entrada y salida de elementos no utilizados").</span><span class="sxs-lookup"><span data-stu-id="3a600-147">Without any restraints on the data model, CSV and JSON files are prone to data corruption ("garbage in, garbage out").</span></span> <span data-ttu-id="3a600-148">Por ejemplo, no hay noción de un objeto de tipo fecha y hora en el archivo, por lo que el formato de archivo no impide la inserción de "ABC123" en un campo de fecha, por ejemplo.</span><span class="sxs-lookup"><span data-stu-id="3a600-148">For instance, there's no notion of a date/time object in either file, so the file format does not prevent you from inserting "ABC123" in a date field, for example.</span></span>

* <span data-ttu-id="3a600-149">El uso de archivos CSV y JSON como solución de almacenamiento esporádico no escala adecuadamente cuando se trabaja con macrodatos.</span><span class="sxs-lookup"><span data-stu-id="3a600-149">Using CSV and JSON files as your cold storage solution does not scale well when working with big data.</span></span> <span data-ttu-id="3a600-150">En la mayoría de los casos no se pueden dividir en particiones para su procesamiento en paralelo y no se pueden comprimir como los formatos binarios.</span><span class="sxs-lookup"><span data-stu-id="3a600-150">In most cases, they cannot be split into partitions for parallel processing, and cannot be compressed as well as binary formats.</span></span> <span data-ttu-id="3a600-151">Esto conduce a menudo a procesar y almacenar estos datos en formatos optimizados para la lectura como Parquet y ORC (columnas de filas optimizadas), que también proporcionan índices y estadísticas en línea acerca de los datos contenidos.</span><span class="sxs-lookup"><span data-stu-id="3a600-151">This often leads to processing and storing this data into read-optimized formats such as Parquet and ORC (optimized row columnar), which also provide indexes and inline statistics about the data contained.</span></span>

* <span data-ttu-id="3a600-152">Necesitará aplicar un esquema en los datos semiestructurados para que resulten más fáciles de consultar y analizar.</span><span class="sxs-lookup"><span data-stu-id="3a600-152">You may need to apply a schema on the semi-structured data to make it easier to query and analyze.</span></span> <span data-ttu-id="3a600-153">Normalmente, esto requiere almacenar los datos en otro formato que cumpla con las necesidades de almacenamiento de datos de su entorno, como una base de datos.</span><span class="sxs-lookup"><span data-stu-id="3a600-153">Typically, this requires storing the data in another form that complies with your environment's data storage needs, such as within a database.</span></span>

