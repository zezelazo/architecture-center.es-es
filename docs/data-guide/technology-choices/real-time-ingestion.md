---
title: Elección de una tecnología de ingesta de mensajes en tiempo real
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.openlocfilehash: 961e377591f67aec995c8495fa9188c851e464fc
ms.sourcegitcommit: 1f4cdb08fe73b1956e164ad692f792f9f635b409
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 01/08/2019
ms.locfileid: "54111247"
---
# <a name="choosing-a-real-time-message-ingestion-technology-in-azure"></a><span data-ttu-id="98092-102">Elección de una tecnología de ingesta de mensajes en tiempo real en Azure</span><span class="sxs-lookup"><span data-stu-id="98092-102">Choosing a real-time message ingestion technology in Azure</span></span>

<span data-ttu-id="98092-103">El procesamiento en tiempo real trata sobre los flujos de datos que se capturan en tiempo real y se procesan con una latencia mínima.</span><span class="sxs-lookup"><span data-stu-id="98092-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency.</span></span> <span data-ttu-id="98092-104">Muchas soluciones de procesamiento en tiempo real necesitan un almacén de ingesta de mensajes para que actúe como búfer de mensajes y para admitir el procesamiento de escalabilidad horizontal, la entrega confiable y otra semántica de puesta en cola de mensajes.</span><span class="sxs-lookup"><span data-stu-id="98092-104">Many real-time processing solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="what-are-your-options-for-real-time-message-ingestion"></a><span data-ttu-id="98092-105">¿Cuáles son las opciones de ingesta de mensajes en tiempo real?</span><span class="sxs-lookup"><span data-stu-id="98092-105">What are your options for real-time message ingestion?</span></span>

<!-- markdownlint-enable MD026 -->

- [<span data-ttu-id="98092-106">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="98092-106">Azure Event Hubs</span></span>](/azure/event-hubs/)
- [<span data-ttu-id="98092-107">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="98092-107">Azure IoT Hub</span></span>](/azure/iot-hub/)
- [<span data-ttu-id="98092-108">Kafka en HDInsight</span><span class="sxs-lookup"><span data-stu-id="98092-108">Kafka on HDInsight</span></span>](/azure/hdinsight/kafka/apache-kafka-get-started)

## <a name="azure-event-hubs"></a><span data-ttu-id="98092-109">Azure Event Hubs</span><span class="sxs-lookup"><span data-stu-id="98092-109">Azure Event Hubs</span></span>

<span data-ttu-id="98092-110">[Azure Event Hubs](/azure/event-hubs/) es una plataforma de streaming de datos y servicio de ingesta de eventos de gran escalabilidad capaz de recibir y procesar millones de eventos por segundo.</span><span class="sxs-lookup"><span data-stu-id="98092-110">[Azure Event Hubs](/azure/event-hubs/) is a highly scalable data streaming platform and event ingestion service, capable of receiving and processing millions of events per second.</span></span> <span data-ttu-id="98092-111">Event Hubs puede procesar y almacenar eventos, datos o telemetría generados por dispositivos y software distribuido.</span><span class="sxs-lookup"><span data-stu-id="98092-111">Event Hubs can process and store events, data, or telemetry produced by distributed software and devices.</span></span> <span data-ttu-id="98092-112">Los datos enviados a un centro de eventos se pueden transformar y almacenar con cualquier proveedor de análisis en tiempo real o adaptadores de procesamiento por lotes y almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="98092-112">Data sent to an event hub can be transformed and stored using any real-time analytics provider or batching/storage adapters.</span></span> <span data-ttu-id="98092-113">Event Hubs proporciona funcionalidades de publicación-suscripción con baja latencia a gran escala, lo cual hace que resulte apropiado para escenarios de macrodatos.</span><span class="sxs-lookup"><span data-stu-id="98092-113">Event Hubs provides publish-subscribe capabilities with low latency at massive scale, which makes it appropriate for big data scenarios.</span></span>

## <a name="azure-iot-hub"></a><span data-ttu-id="98092-114">Azure IoT Hub</span><span class="sxs-lookup"><span data-stu-id="98092-114">Azure IoT Hub</span></span>

<span data-ttu-id="98092-115">[Azure IoT Hub](/azure/iot-hub/) es un servicio totalmente administrado que permite la comunicación bidireccional confiable y segura entre millones de dispositivos IoT y un back-end basado en la nube.</span><span class="sxs-lookup"><span data-stu-id="98092-115">[Azure IoT Hub](/azure/iot-hub/) is a managed service that enables reliable and secure bidirectional communications between millions of IoT devices and a cloud-based back end.</span></span>

<span data-ttu-id="98092-116">Entre las características de IoT Hub se incluyen:</span><span class="sxs-lookup"><span data-stu-id="98092-116">Feature of IoT Hub include:</span></span>

- <span data-ttu-id="98092-117">Varias opciones de comunicación de dispositivo a nube y de nube a dispositivo.</span><span class="sxs-lookup"><span data-stu-id="98092-117">Multiple options for device-to-cloud and cloud-to-device communication.</span></span> <span data-ttu-id="98092-118">Dichas opciones incluyen la mensajería unidireccional, la transferencia de archivos y los métodos de solicitud y respuesta.</span><span class="sxs-lookup"><span data-stu-id="98092-118">These options include one-way messaging, file transfer, and request-reply methods.</span></span>
- <span data-ttu-id="98092-119">Enrutamiento de mensajes a otros servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="98092-119">Message routing to other Azure services.</span></span>
- <span data-ttu-id="98092-120">Almacenamiento consultable para metadatos del dispositivo e información de estado sincronizada.</span><span class="sxs-lookup"><span data-stu-id="98092-120">Queryable store for device metadata and synchronized state information.</span></span>
- <span data-ttu-id="98092-121">Comunicaciones seguras y control de acceso mediante claves de seguridad por dispositivo o certificados X.509.</span><span class="sxs-lookup"><span data-stu-id="98092-121">Secure communications and access control using per-device security keys or X.509 certificates.</span></span>
- <span data-ttu-id="98092-122">Supervisión exhaustiva para la conectividad de dispositivos y los eventos de administración de identidad de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="98092-122">Monitoring of device connectivity and device identity management events.</span></span>

<span data-ttu-id="98092-123">En términos de ingesta de mensajes, IoT Hub es similar a Event Hubs.</span><span class="sxs-lookup"><span data-stu-id="98092-123">In terms of message ingestion, IoT Hub is similar to Event Hubs.</span></span> <span data-ttu-id="98092-124">Sin embargo, IoT Hub se ha diseñado específicamente para administrar la conectividad de dispositivos de IoT, no solo la ingesta de mensajes.</span><span class="sxs-lookup"><span data-stu-id="98092-124">However, it was specifically designed for managing IoT device connectivity, not just message ingestion.</span></span> <span data-ttu-id="98092-125">Para más información, consulte [Comparación entre Azure IoT Hub y Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="98092-125">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>

## <a name="kafka-on-hdinsight"></a><span data-ttu-id="98092-126">Kafka en HDInsight</span><span class="sxs-lookup"><span data-stu-id="98092-126">Kafka on HDInsight</span></span>

<span data-ttu-id="98092-127">[Apache Kafka](https://kafka.apache.org/) es una plataforma de streaming distribuido de código abierto que se puede utilizar para compilar canalizaciones de datos en tiempo real y aplicaciones de streaming.</span><span class="sxs-lookup"><span data-stu-id="98092-127">[Apache Kafka](https://kafka.apache.org/) is an open-source distributed streaming platform that can be used to build real-time data pipelines and streaming applications.</span></span> <span data-ttu-id="98092-128">Kafka también proporciona funcionalidad de agente de mensajería similar a una cola de mensajes, donde puede publicar y suscribirse a las transmisiones de datos con nombre.</span><span class="sxs-lookup"><span data-stu-id="98092-128">Kafka also provides message broker functionality similar to a message queue, where you can publish and subscribe to named data streams.</span></span> <span data-ttu-id="98092-129">Es escalable horizontalmente, con tolerancia a errores y extremadamente rápido.</span><span class="sxs-lookup"><span data-stu-id="98092-129">It is horizontally scalable, fault-tolerant, and extremely fast.</span></span> <span data-ttu-id="98092-130">[Kafka en HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) proporciona una instancia de Kafka como un servicio administrado, altamente escalable y de alta disponibilidad en Azure.</span><span class="sxs-lookup"><span data-stu-id="98092-130">[Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) provides a Kafka as a managed, highly scalable, and highly available service in Azure.</span></span>

<span data-ttu-id="98092-131">Algunos casos de uso habituales de Kafka son:</span><span class="sxs-lookup"><span data-stu-id="98092-131">Some common use cases for Kafka are:</span></span>

- <span data-ttu-id="98092-132">**Mensajería**.</span><span class="sxs-lookup"><span data-stu-id="98092-132">**Messaging**.</span></span> <span data-ttu-id="98092-133">Como admite el patrón de publicación de mensajes y suscripción, Kafka a menudo se utiliza como agente de mensajería.</span><span class="sxs-lookup"><span data-stu-id="98092-133">Because it supports the publish-subscribe message pattern, Kafka is often used as a message broker.</span></span>
- <span data-ttu-id="98092-134">**Seguimiento de actividad**.</span><span class="sxs-lookup"><span data-stu-id="98092-134">**Activity tracking**.</span></span> <span data-ttu-id="98092-135">Como Kafka proporciona un registro en orden, este se puede utilizar para realizar un seguimiento y volver a crear actividades como acciones de usuario en un sitio web.</span><span class="sxs-lookup"><span data-stu-id="98092-135">Because Kafka provides in-order logging of records, it can be used to track and re-create activities, such as user actions on a web site.</span></span>
- <span data-ttu-id="98092-136">**Agregación**.</span><span class="sxs-lookup"><span data-stu-id="98092-136">**Aggregation**.</span></span> <span data-ttu-id="98092-137">Mediante el procesamiento de los flujos, puede agregar información de distintos flujos para combinar y centralizar la información en datos operativos.</span><span class="sxs-lookup"><span data-stu-id="98092-137">Using stream processing, you can aggregate information from different streams to combine and centralize the information into operational data.</span></span>
- <span data-ttu-id="98092-138">**Transformación**.</span><span class="sxs-lookup"><span data-stu-id="98092-138">**Transformation**.</span></span> <span data-ttu-id="98092-139">Mediante el procesamiento de los flujos, puede combinar y enriquecer los datos de varios temas de entrada en uno o más temas de salida.</span><span class="sxs-lookup"><span data-stu-id="98092-139">Using stream processing, you can combine and enrich data from multiple input topics into one or more output topics.</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="98092-140">Principales criterios de selección</span><span class="sxs-lookup"><span data-stu-id="98092-140">Key selection criteria</span></span>

<span data-ttu-id="98092-141">Para restringir las opciones, empiece por responder a estas preguntas:</span><span class="sxs-lookup"><span data-stu-id="98092-141">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="98092-142">¿Necesita comunicación bidireccional entre los dispositivos de IoT y Azure?</span><span class="sxs-lookup"><span data-stu-id="98092-142">Do you need two-way communication between your IoT devices and Azure?</span></span> <span data-ttu-id="98092-143">Si es así, elija IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="98092-143">If so, choose IoT Hub.</span></span>

- <span data-ttu-id="98092-144">¿Necesita administrar el acceso de dispositivos individuales y poder revocar el acceso a un dispositivo específico?</span><span class="sxs-lookup"><span data-stu-id="98092-144">Do you need to manage access for individual devices and be able to revoke access to a specific device?</span></span> <span data-ttu-id="98092-145">Si es así, elija IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="98092-145">If yes, choose IoT Hub.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="98092-146">Matriz de funcionalidades</span><span class="sxs-lookup"><span data-stu-id="98092-146">Capability matrix</span></span>

<span data-ttu-id="98092-147">En las tablas siguientes se resumen las diferencias clave en cuanto a funcionalidades.</span><span class="sxs-lookup"><span data-stu-id="98092-147">The following tables summarize the key differences in capabilities.</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="98092-148">IoT Hub</span><span class="sxs-lookup"><span data-stu-id="98092-148">IoT Hub</span></span> | <span data-ttu-id="98092-149">Event Hubs</span><span class="sxs-lookup"><span data-stu-id="98092-149">Event Hubs</span></span> | <span data-ttu-id="98092-150">Kafka en HDInsight</span><span class="sxs-lookup"><span data-stu-id="98092-150">Kafka on HDInsight</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="98092-151">Comunicaciones de nube a dispositivo</span><span class="sxs-lookup"><span data-stu-id="98092-151">Cloud-to-device communications</span></span> | <span data-ttu-id="98092-152">SÍ</span><span class="sxs-lookup"><span data-stu-id="98092-152">Yes</span></span> | <span data-ttu-id="98092-153">No</span><span class="sxs-lookup"><span data-stu-id="98092-153">No</span></span> | <span data-ttu-id="98092-154">Sin </span><span class="sxs-lookup"><span data-stu-id="98092-154">No</span></span> |
| <span data-ttu-id="98092-155">Carga de archivos iniciada por dispositivo</span><span class="sxs-lookup"><span data-stu-id="98092-155">Device-initiated file upload</span></span> | <span data-ttu-id="98092-156">SÍ</span><span class="sxs-lookup"><span data-stu-id="98092-156">Yes</span></span> | <span data-ttu-id="98092-157">No</span><span class="sxs-lookup"><span data-stu-id="98092-157">No</span></span> | <span data-ttu-id="98092-158">Sin </span><span class="sxs-lookup"><span data-stu-id="98092-158">No</span></span> |
| <span data-ttu-id="98092-159">Información de estado de dispositivo</span><span class="sxs-lookup"><span data-stu-id="98092-159">Device state information</span></span> | [<span data-ttu-id="98092-160">Dispositivos gemelos</span><span class="sxs-lookup"><span data-stu-id="98092-160">Device twins</span></span>](/azure/iot-hub/iot-hub-devguide-device-twins) | <span data-ttu-id="98092-161">Sin </span><span class="sxs-lookup"><span data-stu-id="98092-161">No</span></span> | <span data-ttu-id="98092-162">Sin </span><span class="sxs-lookup"><span data-stu-id="98092-162">No</span></span> |
| <span data-ttu-id="98092-163">Compatibilidad con protocolos</span><span class="sxs-lookup"><span data-stu-id="98092-163">Protocol support</span></span> | <span data-ttu-id="98092-164">MQTT, AMQP, HTTPS <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="98092-164">MQTT, AMQP, HTTPS <sup>1</sup></span></span> | <span data-ttu-id="98092-165">AMQP, HTTPS</span><span class="sxs-lookup"><span data-stu-id="98092-165">AMQP, HTTPS</span></span> | [<span data-ttu-id="98092-166">Kafka Protocol</span><span class="sxs-lookup"><span data-stu-id="98092-166">Kafka Protocol</span></span>](https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol) |
| <span data-ttu-id="98092-167">Seguridad</span><span class="sxs-lookup"><span data-stu-id="98092-167">Security</span></span> | <span data-ttu-id="98092-168">Identidad por dispositivo y control de acceso revocable.</span><span class="sxs-lookup"><span data-stu-id="98092-168">Per-device identity; revocable access control.</span></span> | <span data-ttu-id="98092-169">Directivas de acceso compartido, revocación limitada a través de las directivas de publicador.</span><span class="sxs-lookup"><span data-stu-id="98092-169">Shared access policies; limited revocation through publisher policies.</span></span> | <span data-ttu-id="98092-170">Compatible con la autenticación mediante SASL, autorización conectable, integración con servicios de autenticación externos.</span><span class="sxs-lookup"><span data-stu-id="98092-170">Authentication using SASL; pluggable authorization; integration with external authentication services supported.</span></span> |

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="98092-171">[1] Puede usar la [Puerta de enlace de protocolos de Azure IoT](/azure/iot-hub/iot-hub-protocol-gateway) como puerta de enlace personalizada para permitir la adaptación de protocolos para IoT Hub.</span><span class="sxs-lookup"><span data-stu-id="98092-171">[1] You can also use [Azure IoT protocol gateway](/azure/iot-hub/iot-hub-protocol-gateway) as a custom gateway to enable protocol adaptation for IoT Hub.</span></span>

<span data-ttu-id="98092-172">Para más información, consulte [Comparación entre Azure IoT Hub y Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="98092-172">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>
