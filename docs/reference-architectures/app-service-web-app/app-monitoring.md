---
title: Supervisión de aplicaciones web en Azure
description: Supervise una aplicación web hospedada en Azure App Service.
author: adamboeglin
ms.date: 12/12/2018
ms.custom: azcat
ms.openlocfilehash: 2333ab0884e37354dc00113c8c40b6184fdf6ff1
ms.sourcegitcommit: 8d951fd7e9534054b160be48a1881ae0857561ef
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/13/2018
ms.locfileid: "53329490"
---
# <a name="web-application-monitoring-on-azure"></a><span data-ttu-id="077fe-103">Supervisión de aplicaciones web en Azure</span><span class="sxs-lookup"><span data-stu-id="077fe-103">Web application monitoring on Azure</span></span>

<span data-ttu-id="077fe-104">Las ofertas de Plataforma como servicio (PaaS) de Azure administran automáticamente los recursos de proceso y afectan a la forma de supervisar las implementaciones.</span><span class="sxs-lookup"><span data-stu-id="077fe-104">Azure platform as a service (PaaS) offerings manage compute resources for you and affect how you monitor deployments.</span></span> <span data-ttu-id="077fe-105">Azure incluye varios servicios de supervisión, cada uno de los cuales realiza una función específica.</span><span class="sxs-lookup"><span data-stu-id="077fe-105">Azure includes multiple monitoring services, each of which performs a specific role.</span></span> <span data-ttu-id="077fe-106">Juntos, estos servicios ofrecen una solución completa para recopilar, analizar y actuar sobre los datos de telemetría de las aplicaciones y los recursos de Azure que consumen.</span><span class="sxs-lookup"><span data-stu-id="077fe-106">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your applications and the Azure resources they consume.</span></span>

<span data-ttu-id="077fe-107">Este escenario aborda los servicios de supervisión que puede usar y describe un modelo de flujo de datos para su uso con varios orígenes de datos.</span><span class="sxs-lookup"><span data-stu-id="077fe-107">This scenario addresses the monitoring services you can use and describes a dataflow model for use with multiple data sources.</span></span> <span data-ttu-id="077fe-108">Cuando se trata de supervisión, muchas herramientas y servicios funcionan con implementaciones de Azure.</span><span class="sxs-lookup"><span data-stu-id="077fe-108">When it comes to monitoring, many tools and services work with Azure deployments.</span></span> <span data-ttu-id="077fe-109">En este escenario, hemos elegido servicios disponibles precisamente porque son fáciles de consumir.</span><span class="sxs-lookup"><span data-stu-id="077fe-109">In this scenario, we choose readily available services precisely because they are easy to consume.</span></span> <span data-ttu-id="077fe-110">Más adelante en este artículo se tratan otras opciones de supervisión.</span><span class="sxs-lookup"><span data-stu-id="077fe-110">Other monitoring options are discussed later in this article.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="077fe-111">Casos de uso pertinentes</span><span class="sxs-lookup"><span data-stu-id="077fe-111">Relevant use cases</span></span>

<span data-ttu-id="077fe-112">Otros casos de uso pertinentes incluyen:</span><span class="sxs-lookup"><span data-stu-id="077fe-112">Other relevant use cases include:</span></span>

- <span data-ttu-id="077fe-113">Instrumentación de una aplicación web para la supervisión de la telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-113">Instrumenting a web application for monitoring telemetry.</span></span>
- <span data-ttu-id="077fe-114">Recopilación de datos de telemetría de front-end y de back-end de una aplicación implementada en Azure.</span><span class="sxs-lookup"><span data-stu-id="077fe-114">Collecting front-end and back-end telemetry for an application deployed on Azure.</span></span>
- <span data-ttu-id="077fe-115">Supervisión de las métricas y las cuotas asociadas con los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="077fe-115">Monitoring metrics and quotas associated with services on Azure.</span></span>

## <a name="architecture"></a><span data-ttu-id="077fe-116">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="077fe-116">Architecture</span></span>

!["Diagrama de arquitectura"](./images/architecture-diagram-app-monitoring.svg)

<span data-ttu-id="077fe-118">Este escenario usa un entorno administrado de Azure para hospedar una aplicación y la capa de datos.</span><span class="sxs-lookup"><span data-stu-id="077fe-118">This scenario uses a managed Azure environment to host an application and data tier.</span></span> <span data-ttu-id="077fe-119">Los datos fluyen por el escenario de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="077fe-119">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="077fe-120">Un usuario interactúa con la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-120">A user interacts with the application.</span></span>
2. <span data-ttu-id="077fe-121">El explorador y el servicio de aplicaciones emiten datos de telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-121">The browser and app service emit telemetry.</span></span>
3. <span data-ttu-id="077fe-122">Application Insights recopila y analiza datos de mantenimiento, rendimiento y uso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-122">Application Insights collects and analyzes application health, performance, and usage data.</span></span>
4. <span data-ttu-id="077fe-123">Los desarrolladores y los administradores pueden revisar la información de mantenimiento, rendimiento y uso.</span><span class="sxs-lookup"><span data-stu-id="077fe-123">Developers and administrators can review health, performance, and usage information.</span></span>
5. <span data-ttu-id="077fe-124">Azure SQL Database emite datos de telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-124">Azure SQL Database emits telemetry.</span></span>
6. <span data-ttu-id="077fe-125">Azure Monitor recopila y analiza las cuotas y métricas de la infraestructura.</span><span class="sxs-lookup"><span data-stu-id="077fe-125">Azure Monitor collects and analyzes infrastructure metrics and quotas.</span></span>
7. <span data-ttu-id="077fe-126">Log Analytics recopila y analiza registros y métricas.</span><span class="sxs-lookup"><span data-stu-id="077fe-126">Log Analytics collects and analyzes logs and metrics.</span></span>
8. <span data-ttu-id="077fe-127">Los desarrolladores y los administradores pueden revisar la información de mantenimiento, rendimiento y uso.</span><span class="sxs-lookup"><span data-stu-id="077fe-127">Developers and administrators can review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="077fe-128">Componentes</span><span class="sxs-lookup"><span data-stu-id="077fe-128">Components</span></span>

- <span data-ttu-id="077fe-129">[Azure App Service](/azure/app-service/) es un servicio de PaaS para crear y hospedar aplicaciones en máquinas virtuales administradas.</span><span class="sxs-lookup"><span data-stu-id="077fe-129">[Azure App Service](/azure/app-service/) is a PaaS service for building and hosting apps in managed virtual machines.</span></span> <span data-ttu-id="077fe-130">La infraestructura de proceso subyacente en la que se ejecutan las aplicaciones se administra automáticamente.</span><span class="sxs-lookup"><span data-stu-id="077fe-130">The underlying compute infrastructures on which your apps run is managed for you.</span></span> <span data-ttu-id="077fe-131">App Service proporciona supervisión de las cuotas de uso de los recursos y las métricas de la aplicación, registro de la información de diagnóstico y alertas basadas en métricas.</span><span class="sxs-lookup"><span data-stu-id="077fe-131">App Service provides monitoring of resource usage quotas and app metrics, logging of diagnostic information, and alerts based on metrics.</span></span> <span data-ttu-id="077fe-132">Mejor aún, puede usar Application Insights para crear [pruebas de disponibilidad][availability-tests] para probar la aplicación desde distintas regiones.</span><span class="sxs-lookup"><span data-stu-id="077fe-132">Even better, you can use Application Insights to create [availability tests][availability-tests] for testing your application from different regions.</span></span>
- <span data-ttu-id="077fe-133">[Application Insights][application-insights] es un servicio de administración del rendimiento de las aplicaciones (APM) extensible para desarrolladores y admite varias plataformas.</span><span class="sxs-lookup"><span data-stu-id="077fe-133">[Application Insights][application-insights] is an extensible Application Performance Management (APM) service for developers and supports multiple platforms.</span></span> <span data-ttu-id="077fe-134">Supervisa la aplicación, detecta anomalías de la aplicación como un rendimiento deficiente o errores y envía datos de telemetría a Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="077fe-134">It monitors the application, detects application anomalies such as poor performance and failures, and sends telemetry to the Azure portal.</span></span> <span data-ttu-id="077fe-135">Application Insights se puede utilizar también para el registro, el seguimiento distribuido y las métricas de aplicación personalizadas.</span><span class="sxs-lookup"><span data-stu-id="077fe-135">Application Insights can also be used for logging, distributed tracing, and custom application metrics.</span></span>
- <span data-ttu-id="077fe-136">[Azure Monitor][azure-monitor] ofrece [métricas y registros][metrics] de las infraestructuras de base para la mayoría de los servicios de Azure.</span><span class="sxs-lookup"><span data-stu-id="077fe-136">[Azure Monitor][azure-monitor] provides base-level infrastructure [metrics and logs][metrics] for most services in Azure.</span></span> <span data-ttu-id="077fe-137">Puede interactuar con las métricas de varias maneras, como la representación en gráficos en Azure Portal, el acceso a ellas mediante la API REST o consultarlas con PowerShell o la CLI.</span><span class="sxs-lookup"><span data-stu-id="077fe-137">You can interact with the metrics in several ways, including charting them in Azure portal, accessing them through the REST API, or querying them using PowerShell or CLI.</span></span> <span data-ttu-id="077fe-138">Azure Monitor también ofrece sus datos directamente en [Log Analytics y otros servicios], donde los puede consultar y combinar con datos de otros orígenes del entorno local o la nube.</span><span class="sxs-lookup"><span data-stu-id="077fe-138">Azure Monitor also offers its data directly into [Log Analytics and other services], where you can query and combine it with data from other sources on premises or in the cloud.</span></span>
- <span data-ttu-id="077fe-139">[Log Analytics][log-analytics] ayuda a poner en correlación los datos de uso y rendimiento recopilados por Application Insights con los datos de configuración y rendimiento de los recursos de Azure que respaldan la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-139">[Log Analytics][log-analytics] helps correlate the usage and performance data collected by Application Insights with configuration and performance data across the Azure resources that support the app.</span></span> <span data-ttu-id="077fe-140">Este escenario utiliza el [agente de Azure Log Analytics][Azure Log Analytics agent] para insertar los registros de auditoría de SQL Server en Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="077fe-140">This scenario uses the [Azure Log Analytics agent][Azure Log Analytics agent] to push SQL Server audit logs into Log Analytics.</span></span> <span data-ttu-id="077fe-141">Puede escribir consultas y visualizar los datos en la hoja Log Analytics de Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="077fe-141">You can write queries and view data in the Log Analytics blade of the Azure portal.</span></span>

## <a name="considerations"></a><span data-ttu-id="077fe-142">Consideraciones</span><span class="sxs-lookup"><span data-stu-id="077fe-142">Considerations</span></span>

<span data-ttu-id="077fe-143">Un procedimiento recomendado consiste en agregar Application Insights al código durante la etapa de desarrollo mediante los [SDK de Application Insights][Application Insights SDKs] y realizar la personalización pertinente por aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-143">A recommended practice is adding Application Insights to your code during development using the [Application Insights SDKs][Application Insights SDKs], and customizing per application.</span></span> <span data-ttu-id="077fe-144">Estos SDK de código abierto están disponibles para la mayoría de los marcos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-144">These open-source SDKs are available for most application frameworks.</span></span> <span data-ttu-id="077fe-145">Para enriquecer y controlar los datos recopilados, incorpore el uso de los SDK para las implementaciones de pruebas y de producción en el proceso de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="077fe-145">To enrich and control the data you collect, incorporate the use of the SDKs both for testing and production deployments into your development process.</span></span> <span data-ttu-id="077fe-146">El requisito principal es que la aplicación tenga una línea de visión directa o indirecta al punto de conexión de ingesta de Application Insights hospedado con una dirección con conexión a Internet.</span><span class="sxs-lookup"><span data-stu-id="077fe-146">The main requirement is for the app to have a direct or indirect line of sight to the Applications Insights ingestion endpoint hosted with an Internet-facing address.</span></span> <span data-ttu-id="077fe-147">A continuación, puede agregar datos de telemetría o enriquecer una colección de telemetría existente.</span><span class="sxs-lookup"><span data-stu-id="077fe-147">You can then add telemetry or enrich an existing telemetry collection.</span></span>

<span data-ttu-id="077fe-148">La supervisión en tiempo de ejecución es otra manera fácil de empezar a trabajar.</span><span class="sxs-lookup"><span data-stu-id="077fe-148">Runtime monitoring is another easy way to get started.</span></span> <span data-ttu-id="077fe-149">Los datos de telemetría recopilados se deben controlar mediante archivos de configuración.</span><span class="sxs-lookup"><span data-stu-id="077fe-149">The telemetry that is collected must be controlled through configuration files.</span></span> <span data-ttu-id="077fe-150">Por ejemplo, puede incluir métodos en tiempo de ejecución que habiliten herramientas como el [Monitor de estado de Application Insights][Application Insights Status Monitor] para implementar los SDK en la carpeta correcta y agregar las configuraciones adecuadas para comenzar la supervisión.</span><span class="sxs-lookup"><span data-stu-id="077fe-150">For example, you can include runtime methods that enable tools such as [Application Insights Status Monitor][Application Insights Status Monitor] to deploy the SDKs into the correct folder and add the right configurations to begin monitoring.</span></span>

<span data-ttu-id="077fe-151">Al igual que Application Insights, Log Analytics proporciona herramientas para [analizar datos en orígenes][analyzing data across sources], crear consultas complejas y [enviar alertas proactivas][sending proactive alerts] sobre condiciones especificadas.</span><span class="sxs-lookup"><span data-stu-id="077fe-151">Like Application Insights, Log Analytics provides tools for [analyzing data across sources][analyzing data across sources], creating complex queries, and [sending proactive alerts][sending proactive alerts] on specified conditions.</span></span> <span data-ttu-id="077fe-152">También puede visualizar los datos de telemetría en [Azure Portal][the Azure portal].</span><span class="sxs-lookup"><span data-stu-id="077fe-152">You can also view telemetry in [the Azure portal][the Azure portal].</span></span> <span data-ttu-id="077fe-153">Log Analytics agrega valor a servicios de supervisión existentes como [Azure Monitor][azure-monitor] y también puede supervisar entornos locales.</span><span class="sxs-lookup"><span data-stu-id="077fe-153">Log Analytics adds value to existing monitoring services such as [Azure Monitor][azure-monitor] and can also monitor on-premises environments.</span></span>

<span data-ttu-id="077fe-154">Tanto Application Insights como Log Analytics utilizan el [lenguaje de consulta de Azure Log Analytics][Azure Log Analytics Query Language].</span><span class="sxs-lookup"><span data-stu-id="077fe-154">Both Application Insights and Log Analytics use [Azure Log Analytics Query Language][Azure Log Analytics Query Language].</span></span> <span data-ttu-id="077fe-155">También puede usar [consultas entre recursos](https://azure.microsoft.com/blog/query-across-resources) para analizar los datos de telemetría recopilados por Application Insights y Log Analytics en una sola consulta.</span><span class="sxs-lookup"><span data-stu-id="077fe-155">You can also use [cross-resource queries](https://azure.microsoft.com/blog/query-across-resources) to analyze the telemetry gathered by Application Insights and Log Analytics in a single query.</span></span>

<span data-ttu-id="077fe-156">Azure Monitor, Application Insights y Log Analytics envían [alertas](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span><span class="sxs-lookup"><span data-stu-id="077fe-156">Azure Monitor, Application Insights, and Log Analytics all send [alerts](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span></span> <span data-ttu-id="077fe-157">Por ejemplo, Azure Monitor alerta sobre métricas de nivel de plataforma como el uso de CPU, mientras que Application Insights alerta sobre métricas de nivel de aplicación como el tiempo de respuesta del servidor.</span><span class="sxs-lookup"><span data-stu-id="077fe-157">For example, Azure Monitor alerts on platform-level metrics such as CPU utilization, while Application Insights alerts on application-level metrics such as server response time.</span></span> <span data-ttu-id="077fe-158">Azure Monitor alerta sobre nuevos eventos en el registro de actividad de Azure, mientras que Log Analytics puede emitir alertas sobre datos de métricas o eventos de los servicios configurados para usarlo.</span><span class="sxs-lookup"><span data-stu-id="077fe-158">Azure Monitor alerts on new events in the Azure Activity Log, while Log Analytics can issue alerts about metrics or event data for the services configured to use it.</span></span> <span data-ttu-id="077fe-159">Las [alertas unificadas de Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) son una nueva experiencia unificada de alertas de Azure que usa una taxonomía diferente.</span><span class="sxs-lookup"><span data-stu-id="077fe-159">[Unified alerts in Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) is a new, unified alerting experience in Azure that uses a different taxonomy.</span></span>

### <a name="alternatives"></a><span data-ttu-id="077fe-160">Alternativas</span><span class="sxs-lookup"><span data-stu-id="077fe-160">Alternatives</span></span>

<span data-ttu-id="077fe-161">En este artículo se describen las opciones de supervisión disponibles con características populares, pero dispone de muchas opciones, incluida la opción de crear sus propios mecanismos de registro.</span><span class="sxs-lookup"><span data-stu-id="077fe-161">This article describes conveniently available monitoring options with popular features, but you have many choices, including the option to create your own logging mechanisms.</span></span> <span data-ttu-id="077fe-162">Un procedimiento recomendado consiste en agregar servicios de supervisión a medida que crean las capas de una solución.</span><span class="sxs-lookup"><span data-stu-id="077fe-162">A recommended practice is to add monitoring services as you build out tiers in a solution.</span></span> <span data-ttu-id="077fe-163">Estas son algunas posibles extensiones y alternativas:</span><span class="sxs-lookup"><span data-stu-id="077fe-163">Here are some possible extensions and alternatives:</span></span>

- <span data-ttu-id="077fe-164">Consolidar las métricas de Azure Monitor y Application Insights en Grafana mediante el uso del [origen de datos de Azure Monitor para Grafana][Azure Monitor Data Source For Grafana].</span><span class="sxs-lookup"><span data-stu-id="077fe-164">Consolidate Azure Monitor and Application Insights metrics in Grafana using the [Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana].</span></span>
- <span data-ttu-id="077fe-165">[Data Dog][data-dog] incluye un conector para Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="077fe-165">[Data Dog][data-dog] features a connector for Azure Monitor</span></span>
- <span data-ttu-id="077fe-166">Automatizar las funciones de supervisión mediante [Azure Automation][Azure Automation].</span><span class="sxs-lookup"><span data-stu-id="077fe-166">Automate monitoring functions using [Azure Automation][Azure Automation].</span></span>
- <span data-ttu-id="077fe-167">Agregar comunicación con [soluciones de ITSM][ITSM solutions].</span><span class="sxs-lookup"><span data-stu-id="077fe-167">Add communication with [ITSM solutions][ITSM solutions].</span></span>
- <span data-ttu-id="077fe-168">Ampliar Log Analytics con una [solución de administración][management solution].</span><span class="sxs-lookup"><span data-stu-id="077fe-168">Extend Log Analytics with a [management solution][management solution].</span></span>

### <a name="scalability-and-availability"></a><span data-ttu-id="077fe-169">Escalabilidad y disponibilidad</span><span class="sxs-lookup"><span data-stu-id="077fe-169">Scalability and availability</span></span>

<span data-ttu-id="077fe-170">Este escenario se centra en soluciones de PaaS para la supervisión en gran parte porque administran adecuadamente la disponibilidad y la escalabilidad y están respaldadas por contratos de nivel de servicio (SLA).</span><span class="sxs-lookup"><span data-stu-id="077fe-170">This scenario focuses on PaaS solutions for monitoring in large part because they conveniently handle availability and scalability for you and are backed by service-level agreements (SLAs).</span></span> <span data-ttu-id="077fe-171">Por ejemplo, App Services proporciona un [SLA][SLA] garantizado para su disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="077fe-171">For example, App Services provides a guaranteed [SLA][SLA] for its availability.</span></span>

<span data-ttu-id="077fe-172">Application Insights tiene [límites][app-insights-limits] en cuanto al número de solicitudes que se pueden procesar por segundo.</span><span class="sxs-lookup"><span data-stu-id="077fe-172">Application Insights has [limits][app-insights-limits] on how many requests can be processed per second.</span></span> <span data-ttu-id="077fe-173">Si se supera el límite de solicitudes, puede experimentar limitación de mensajes.</span><span class="sxs-lookup"><span data-stu-id="077fe-173">If you exceed the request limit, you may experience message throttling.</span></span> <span data-ttu-id="077fe-174">Para evitar dicha limitación, implemente el [filtrado][message-filtering] o el [muestreo][message-sampling] para reducir la velocidad de los datos</span><span class="sxs-lookup"><span data-stu-id="077fe-174">To prevent throttling, implement [filtering][message-filtering] or [sampling][message-sampling] to reduce the data rate</span></span>

<span data-ttu-id="077fe-175">Sin embargo, las consideraciones sobre alta disponibilidad para la aplicación que se va a ejecutar son responsabilidad del desarrollador.</span><span class="sxs-lookup"><span data-stu-id="077fe-175">High availability considerations for the app you run, however, are the developer's responsibility.</span></span> <span data-ttu-id="077fe-176">Para obtener información sobre la escala, por ejemplo, consulte la sección [Consideraciones sobre escalabilidad](#scalability-considerations) de la arquitectura de referencia de una aplicación web básica.</span><span class="sxs-lookup"><span data-stu-id="077fe-176">For information about scale, for example, see the [Scalability considerations](#scalability-considerations) section in the basic web application reference architecture.</span></span> <span data-ttu-id="077fe-177">Después de implementar una aplicación, puede configurar pruebas para [supervisar su disponibilidad][monitor its availability] con Application Insights.</span><span class="sxs-lookup"><span data-stu-id="077fe-177">After an app is deployed, you can set up tests to [monitor its availability][monitor its availability] using Application Insights.</span></span>

### <a name="security"></a><span data-ttu-id="077fe-178">Seguridad</span><span class="sxs-lookup"><span data-stu-id="077fe-178">Security</span></span>

<span data-ttu-id="077fe-179">La información confidencial y los requisitos de cumplimiento afectan a la recopilación, retención y almacenamiento de los datos.</span><span class="sxs-lookup"><span data-stu-id="077fe-179">Sensitive information and compliance requirements affect data collection, retention, and storage.</span></span> <span data-ttu-id="077fe-180">Más información acerca de cómo controlan [Application Insights][application-insights] y [Log Analytics][log-analytics] los datos de telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-180">Learn more about how [Application Insights][application-insights] and [Log Analytics][log-analytics] handle telemetry.</span></span>

<span data-ttu-id="077fe-181">También se pueden aplicar las siguientes consideraciones de seguridad:</span><span class="sxs-lookup"><span data-stu-id="077fe-181">The following security considerations may also apply:</span></span>

- <span data-ttu-id="077fe-182">Desarrolle un plan para controlar la información personal si se permite a los desarrolladores recopilar sus propios datos o enriquecer los datos de telemetría existentes.</span><span class="sxs-lookup"><span data-stu-id="077fe-182">Develop a plan to handle personal information if developers are allowed to collect their own data or enrich existing telemetry.</span></span>
- <span data-ttu-id="077fe-183">Tenga en cuenta la retención de datos.</span><span class="sxs-lookup"><span data-stu-id="077fe-183">Consider data retention.</span></span> <span data-ttu-id="077fe-184">Por ejemplo, Application Insights conserva los datos de telemetría durante 90 días.</span><span class="sxs-lookup"><span data-stu-id="077fe-184">For example, Application Insights retains telemetry data for 90 days.</span></span> <span data-ttu-id="077fe-185">Archive los datos a los que desea tener acceso durante períodos más largos con Microsoft Power BI, la exportación continua o la API REST.</span><span class="sxs-lookup"><span data-stu-id="077fe-185">Archive data you want access to for longer periods using Microsoft Power BI, Continuous Export, or the REST API.</span></span> <span data-ttu-id="077fe-186">Se aplican tarifas de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="077fe-186">Storage rates apply.</span></span>
- <span data-ttu-id="077fe-187">Limite el acceso a los recursos de Azure para controlar el acceso a los datos y quién puede ver los datos de telemetría de una aplicación específica.</span><span class="sxs-lookup"><span data-stu-id="077fe-187">Limit access to Azure resources to control access to data and who can view telemetry from a specific application.</span></span> <span data-ttu-id="077fe-188">Para ayudar a bloquear el acceso a los datos de telemetría de supervisión, consulte [Recursos, roles y control de acceso en Application Insights][Resources, roles, and access control in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="077fe-188">To help lock down access to monitoring telemetry, see [Resources, roles, and access control in Application Insights][Resources, roles, and access control in Application Insights].</span></span>
- <span data-ttu-id="077fe-189">Considere la posibilidad de controlar el acceso de lectura y escritura al código de la aplicación para impedir que los usuarios puedan agregar marcadores de versión o de etiqueta que limiten la ingesta de datos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-189">Consider whether to control read/write access in application code to prevent users from adding version or tag markers that limit data ingestion from the application.</span></span> <span data-ttu-id="077fe-190">Con Application Insights, no hay control sobre los elementos individuales de datos una vez que se envían a un recurso, por lo que si un usuario tiene acceso a algún dato, tendrá acceso a todos los datos de un recurso individual.</span><span class="sxs-lookup"><span data-stu-id="077fe-190">With Application Insights, there is no control over individual data items once they are sent to a resource, so if a user has access to any data, they have access to all data in an individual resource.</span></span>
- <span data-ttu-id="077fe-191">Si es necesario, agregue mecanismos de [gobierno](/azure/security/governance-in-azure) para aplicar controles de directivas y costos a los recursos de Azure.</span><span class="sxs-lookup"><span data-stu-id="077fe-191">Add [governance](/azure/security/governance-in-azure) mechanisms to enforce policy or cost controls over Azure resources if needed.</span></span> <span data-ttu-id="077fe-192">Por ejemplo, puede utilizar Log Analytics para la supervisión relacionada con la seguridad como las directivas y el control de acceso basado en rol o usar [Azure Policy](/azure/azure-policy/azure-policy-introduction) para crear, asignar y administrar definiciones de directivas.</span><span class="sxs-lookup"><span data-stu-id="077fe-192">For example, use Log Analytics for security-related monitoring such as policies and role-based access control, or use [Azure Policy](/azure/azure-policy/azure-policy-introduction) to create, assign and, manage policy definitions.</span></span>
- <span data-ttu-id="077fe-193">Para supervisar posibles problemas de seguridad y obtener una visión centralizada del estado de seguridad de los recursos de Azure, considere el uso de [Azure Security Center](/azure/security-center/security-center-intro).</span><span class="sxs-lookup"><span data-stu-id="077fe-193">To monitor potential security issues and get a central view of the security state of your Azure resources, consider using [Azure Security Center](/azure/security-center/security-center-intro).</span></span>

## <a name="pricing"></a><span data-ttu-id="077fe-194">Precios</span><span class="sxs-lookup"><span data-stu-id="077fe-194">Pricing</span></span>

<span data-ttu-id="077fe-195">Los cargos de supervisión pueden incrementarse rápidamente, por lo que puede considerar la posibilidad de los pagos por adelantado, comprobar lo que se va a supervisar y comprobar las cuotas asociadas a cada servicio.</span><span class="sxs-lookup"><span data-stu-id="077fe-195">Monitoring charges can add up quickly, so consider pricing up front, understand what you are monitoring, and check the associated fees for each service.</span></span> <span data-ttu-id="077fe-196">Azure Monitor proporciona [métricas básicas][basic metrics] sin costo alguno, en tanto que la supervisión de los costos de [Application Insights][application-insights-pricing] y [Log Analytics][log-analytics] se basa en la cantidad de datos ingeridos y el número de pruebas ejecutadas.</span><span class="sxs-lookup"><span data-stu-id="077fe-196">Azure Monitor provides [basic metrics][basic metrics] at no cost, while monitoring costs for [Application Insights][application-insights-pricing] and [Log Analytics][log-analytics] are based on the amount of data ingested and the number of tests you run.</span></span>

<span data-ttu-id="077fe-197">Para comenzar, utilice la [calculadora de precios][pricing] para estimar los costos.</span><span class="sxs-lookup"><span data-stu-id="077fe-197">To help you get started, use the [pricing calculator][pricing] to estimate costs.</span></span> <span data-ttu-id="077fe-198">Para ver cómo cambiarían los precios en su caso particular, cambie las distintas opciones para hacerlas coincidir con la implementación esperada.</span><span class="sxs-lookup"><span data-stu-id="077fe-198">To see how the pricing would change for your particular use case, change the various options to match your expected deployment.</span></span>

<span data-ttu-id="077fe-199">Los datos de telemetría de Application Insights se envían a Azure Portal durante la depuración y después de que se haya publicado la aplicación.</span><span class="sxs-lookup"><span data-stu-id="077fe-199">Telemetry from Application Insights is sent to the Azure portal during debugging and after you have published your app.</span></span> <span data-ttu-id="077fe-200">Con fines de prueba y para evitar cargos, se instrumenta un volumen limitado de datos de telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-200">For testing purposes and to avoid charges, a limited volume of telemetry is instrumented.</span></span> <span data-ttu-id="077fe-201">Para agregar más indicadores, puede aumentar el límite de datos de telemetría.</span><span class="sxs-lookup"><span data-stu-id="077fe-201">To add more indicators, you can raise the telemetry limit.</span></span> <span data-ttu-id="077fe-202">Para un control más granular, consulte [Muestreo en Application Insights][Sampling in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="077fe-202">For more granular control, see [Sampling in Application Insights][Sampling in Application Insights].</span></span>

<span data-ttu-id="077fe-203">Después de la implementación, puede ver un [Live Metrics Stream][Live Metrics Stream] de indicadores de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="077fe-203">After deployment, you can watch a [Live Metrics Stream][Live Metrics Stream] of performance indicators.</span></span> <span data-ttu-id="077fe-204">Estos datos no se almacenan datos (está viendo métricas en tiempo real), pero los datos de telemetría se pueden recopilar y analizar posteriormente.</span><span class="sxs-lookup"><span data-stu-id="077fe-204">This data is not stored &mdash; you are viewing real-time metrics &mdash; but the telemetry can be collected and analyzed later.</span></span> <span data-ttu-id="077fe-205">No se efectúa ningún cargo por los datos de Live Stream.</span><span class="sxs-lookup"><span data-stu-id="077fe-205">There is no charge for Live Stream data.</span></span>

<span data-ttu-id="077fe-206">Log Analytics se factura por gigabyte (GB) de datos ingeridos en el servicio.</span><span class="sxs-lookup"><span data-stu-id="077fe-206">Log Analytics is billed per gigabyte (GB) of data ingested into the service.</span></span> <span data-ttu-id="077fe-207">Los primeros 5 GB de datos ingeridos en el servicio Azure Log Analytics cada mes se ofrecen de forma gratuita y los datos se conservan sin ningún costo los primeros 31 días en el área de trabajo de Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="077fe-207">The first 5 GB of data ingested to the Azure Log Analytics service every month is offered free, and the data is retained at no charge for first 31 days in your Log Analytics workspace.</span></span>

## <a name="next-steps"></a><span data-ttu-id="077fe-208">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="077fe-208">Next steps</span></span>

<span data-ttu-id="077fe-209">Consulte estos recursos diseñados para ayudarle a empezar a trabajar con su propia solución de supervisión:</span><span class="sxs-lookup"><span data-stu-id="077fe-209">Check out these resources designed to help you get started with your own monitoring solution:</span></span>

<span data-ttu-id="077fe-210">[Arquitectura de referencia de una aplicación web básica][Basic web application reference architecture]</span><span class="sxs-lookup"><span data-stu-id="077fe-210">[Basic web application reference architecture][Basic web application reference architecture]</span></span>

<span data-ttu-id="077fe-211">[Inicio de la supervisión de la aplicación web ASP.NET][Start monitoring your ASP.NET Web Application]</span><span class="sxs-lookup"><span data-stu-id="077fe-211">[Start monitoring your ASP.NET Web Application][Start monitoring your ASP.NET Web Application]</span></span>

<span data-ttu-id="077fe-212">[Recopilación de datos acerca de las máquinas virtuales de Azure][Collect data about Azure Virtual Machines]</span><span class="sxs-lookup"><span data-stu-id="077fe-212">[Collect data about Azure Virtual Machines][Collect data about Azure Virtual Machines]</span></span>

## <a name="related-resources"></a><span data-ttu-id="077fe-213">Recursos relacionados</span><span class="sxs-lookup"><span data-stu-id="077fe-213">Related resources</span></span>

<span data-ttu-id="077fe-214">[Supervisión de aplicaciones y recursos de Azure][Monitoring Azure applications and resources]</span><span class="sxs-lookup"><span data-stu-id="077fe-214">[Monitoring Azure applications and resources][Monitoring Azure applications and resources]</span></span>

<span data-ttu-id="077fe-215">[Búsqueda y diagnóstico de excepciones en tiempo de ejecución con Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span><span class="sxs-lookup"><span data-stu-id="077fe-215">[Find and diagnose run-time exceptions with Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span></span>

<!-- links -->
[architecture]: ./images/architecture-diagram-app-monitoring.svg
[availability-tests]: /azure/application-insights/app-insights-monitor-web-app-availability
[application-insights]: /azure/application-insights/app-insights-overview
[azure-monitor]: /azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor
[metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[Log Analytics y otros servicios]: /azure/log-analytics/log-analytics-azure-storage
[Log Analytics and other services]: /azure/log-analytics/log-analytics-azure-storage
[log-analytics]: /azure/log-analytics/log-analytics-overview
[Azure Log Analytics agent]: https://blogs.msdn.microsoft.com/sqlsecurity/2017/12/28/azure-log-analytics-oms-agent-now-collects-sql-server-audit-logs/
[application-insights-pricing]: https://azure.microsoft.com/pricing/details/application-insights/
[Application Insights SDKs]: /azure/application-insights/app-insights-asp-net
[Application Insights Status Monitor]: https://azure.microsoft.com/updates/application-insights-status-monitor-and-sdk-updated/
[analyzing data across sources]: /azure/log-analytics/log-analytics-dashboards
[sending proactive alerts]: /azure/log-analytics/log-analytics-alerts
[the Azure portal]: /azure/log-analytics/log-analytics-tutorial-dashboards
[Azure Log Analytics Query Language]: https://docs.loganalytics.io/docs/Learn
[cross-resource queries]: https://azure.microsoft.com/blog/query-across-resources/
[alerts]: /azure/monitoring-and-diagnostics/monitoring-overview-alerts
[Alerts (Preview)]: /azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts
[Azure Monitor Data Source For Grafana]: https://grafana.com/plugins/grafana-azure-monitor-datasource
[Azure Automation]: /azure/automation/automation-intro
[ITSM solutions]: https://azure.microsoft.com/blog/itsm-connector-for-azure-is-now-generally-available/
[management solution]: /azure/monitoring/monitoring-solutions
[SLA]: https://azure.microsoft.com/support/legal/sla/app-service/v1_4/
[monitor its availability]: /azure/application-insights/app-insights-monitor-web-app-availability
[Resources, roles, and access control in Application Insights]: /azure/application-insights/app-insights-resources-roles-access-control
[basic metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[pricing]: https://azure.microsoft.com/pricing/calculator/#log-analyticsc126d8c1-ec9c-4e5b-9b51-4db95d06a9b1
[Sampling in Application Insights]: /azure/application-insights/app-insights-sampling
[Live Metrics Stream]: /azure/application-insights/app-insights-live-stream
[Basic web application reference architecture]: /azure/architecture/reference-architectures/app-service-web-app/basic-web-app#scalability-considerations
[Start monitoring your ASP.NET Web Application]: /azure/application-insights/quick-monitor-portal
[Collect data about Azure Virtual Machines]: /azure/log-analytics/log-analytics-quick-collect-azurevm
[Monitoring Azure applications and resources]: /azure/monitoring-and-diagnostics/monitoring-overview
[Find and diagnose run-time exceptions with Azure Application Insights]: /azure/application-insights/app-insights-tutorial-runtime-exceptions
[data-dog]: https://www.datadoghq.com/blog/azure-monitoring-enhancements/
[app-insights-limits]: /azure/azure-subscription-service-limits#application-insights-limits
[message-filtering]: /azure/application-insights/app-insights-api-filtering-sampling
[message-sampling]: /azure/application-insights/app-insights-sampling
