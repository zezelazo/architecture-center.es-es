---
title: "Implementación de una arquitectura de red híbrida segura en Azure"
description: "Proceso para implementar una arquitectura de red híbrida segura en Azure."
author: telmosampaio
ms.date: 11/23/2016
pnp.series.title: Network DMZ
pnp.series.prev: ./index
pnp.series.next: secure-vnet-dmz
cardTitle: DMZ between Azure and on-premises
ms.openlocfilehash: 778d5ef6967a09b03bb6b5aca67e3e0c170ad016
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/14/2017
---
# <a name="dmz-between-azure-and-your-on-premises-datacenter"></a><span data-ttu-id="e47c4-103">Red perimetral entre Azure y el centro de datos local</span><span class="sxs-lookup"><span data-stu-id="e47c4-103">DMZ between Azure and your on-premises datacenter</span></span>

<span data-ttu-id="e47c4-104">Esta arquitectura de referencia muestra una red híbrida segura que extiende una red local a Azure.</span><span class="sxs-lookup"><span data-stu-id="e47c4-104">This reference architecture shows a secure hybrid network that extends an on-premises network to Azure.</span></span> <span data-ttu-id="e47c4-105">La arquitectura implementa una zona DMZ, también conocida como *red perimetral*, entre la red local y una red virtual (VNet).</span><span class="sxs-lookup"><span data-stu-id="e47c4-105">The architecture implements a DMZ, also called a *perimeter network*, between the on-premises network and an Azure virtual network (VNet).</span></span> <span data-ttu-id="e47c4-106">La red perimetral incluye aplicaciones virtuales de red (NVA) que implementan la funcionalidad de seguridad, como firewalls e inspección de paquetes.</span><span class="sxs-lookup"><span data-stu-id="e47c4-106">The DMZ includes network virtual appliances (NVAs) that implement security functionality such as firewalls and packet inspection.</span></span> <span data-ttu-id="e47c4-107">Todo el tráfico saliente de la red virtual se realiza mediante tunelización forzada a Internet a través de la red local, por lo que se puede auditar.</span><span class="sxs-lookup"><span data-stu-id="e47c4-107">All outgoing traffic from the VNet is force-tunneled to the Internet through the on-premises network, so that it can be audited.</span></span>

<span data-ttu-id="e47c4-108">[![0]][0]</span><span class="sxs-lookup"><span data-stu-id="e47c4-108">[![0]][0]</span></span> 

<span data-ttu-id="e47c4-109">*Descargue un [archivo Visio][visio-download] de esta arquitectura.*</span><span class="sxs-lookup"><span data-stu-id="e47c4-109">*Download a [Visio file][visio-download] of this architecture.*</span></span>

<span data-ttu-id="e47c4-110">Esta arquitectura requiere una conexión a su centro de datos local, mediante una [puerta de enlace VPN][ra-vpn] o una conexión [ExpressRoute][ra-expressroute].</span><span class="sxs-lookup"><span data-stu-id="e47c4-110">This architecture requires a connection to your on-premises datacenter, using either a [VPN gateway][ra-vpn] or an [ExpressRoute][ra-expressroute] connection.</span></span> <span data-ttu-id="e47c4-111">Los usos habituales de esta arquitectura incluyen:</span><span class="sxs-lookup"><span data-stu-id="e47c4-111">Typical uses for this architecture include:</span></span>

* <span data-ttu-id="e47c4-112">Aplicaciones híbridas donde una parte de las cargas de trabajo se ejecutan de forma local y otra parte en Azure.</span><span class="sxs-lookup"><span data-stu-id="e47c4-112">Hybrid applications where workloads run partly on-premises and partly in Azure.</span></span>
* <span data-ttu-id="e47c4-113">Infraestructura que requiere un control específico sobre el tráfico que entra en una red virtual de Azure desde un centro de datos local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-113">Infrastructure that requires granular control over traffic entering an Azure VNet from an on-premises datacenter.</span></span>
* <span data-ttu-id="e47c4-114">Aplicaciones que deben auditar el tráfico saliente.</span><span class="sxs-lookup"><span data-stu-id="e47c4-114">Applications that must audit outgoing traffic.</span></span> <span data-ttu-id="e47c4-115">Esto suele ser un requisito de regulación de muchos sistemas comerciales y puede ayudar a evitar la revelación de información privada.</span><span class="sxs-lookup"><span data-stu-id="e47c4-115">This is often a regulatory requirement of many commercial systems and can help to prevent public disclosure of private information.</span></span>

## <a name="architecture"></a><span data-ttu-id="e47c4-116">Arquitectura</span><span class="sxs-lookup"><span data-stu-id="e47c4-116">Architecture</span></span>

<span data-ttu-id="e47c4-117">La arquitectura consta de los siguientes componentes:</span><span class="sxs-lookup"><span data-stu-id="e47c4-117">The architecture consists of the following components.</span></span>

* <span data-ttu-id="e47c4-118">**Red local**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-118">**On-premises network**.</span></span> <span data-ttu-id="e47c4-119">Una red de área local privada implementada dentro de una organización.</span><span class="sxs-lookup"><span data-stu-id="e47c4-119">A  private local-area network implemented in an organization.</span></span>
* <span data-ttu-id="e47c4-120">**Azure Virtual Network (VNet)**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-120">**Azure virtual network (VNet)**.</span></span> <span data-ttu-id="e47c4-121">La red virtual hospeda la aplicación y otros recursos que se ejecutan en Azure.</span><span class="sxs-lookup"><span data-stu-id="e47c4-121">The VNet hosts the application and other resources running in Azure.</span></span>
* <span data-ttu-id="e47c4-122">**Puerta de enlace**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-122">**Gateway**.</span></span> <span data-ttu-id="e47c4-123">Proporciona conectividad entre los enrutadores de la red local y la red virtual.</span><span class="sxs-lookup"><span data-stu-id="e47c4-123">The gateway provides connectivity between the routers in the on-premises network and the VNet.</span></span>
* <span data-ttu-id="e47c4-124">**Aplicación virtual de red (NVA)**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-124">**Network virtual appliance (NVA)**.</span></span> <span data-ttu-id="e47c4-125">NVA es un término genérico que describe una máquina virtual para realizar tareas tales como permitir o denegar el acceso como un firewall; optimizar las operaciones de red de área extensa (WAN), incluida la compresión de red; la distribución personalizada; u otra funcionalidad de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-125">NVA is a generic term that describes a VM performing tasks such as allowing or denying access as a firewall, optimizing wide area network (WAN) operations (including network compression), custom routing, or other network functionality.</span></span>
* <span data-ttu-id="e47c4-126">**Subredes del nivel de datos, nivel empresarial y nivel web**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-126">**Web tier, business tier, and data tier subnets**.</span></span> <span data-ttu-id="e47c4-127">Las subredes hospedan las máquinas virtuales y los servicios que implementan una aplicación de ejemplo de tres niveles que se ejecuta en la nube.</span><span class="sxs-lookup"><span data-stu-id="e47c4-127">Subnets hosting the VMs and services that implement an example 3-tier application running in the cloud.</span></span> <span data-ttu-id="e47c4-128">Para más información, consulte [Ejecución de máquinas virtuales Windows para una arquitectura de n niveles][ra-n-tier].</span><span class="sxs-lookup"><span data-stu-id="e47c4-128">See [Running Windows VMs for an N-tier architecture on Azure][ra-n-tier] for more information.</span></span>
* <span data-ttu-id="e47c4-129">**Rutas definidas por el usuario (UDR)**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-129">**User defined routes (UDR)**.</span></span> <span data-ttu-id="e47c4-130">[Las rutas definidas por el usuario][udr-overview] definen el flujo de tráfico IP en las redes virtuales Azure.</span><span class="sxs-lookup"><span data-stu-id="e47c4-130">[User defined routes][udr-overview] define the flow of IP traffic within Azure VNets.</span></span>

    > [!NOTE]
    > <span data-ttu-id="e47c4-131">Según los requisitos de la conexión VPN, puede configurar las rutas del Protocolo de puerta de enlace fronteriza (BGP) en lugar de usar UDR para implementar las reglas de reenvío que dirigen el tráfico a través de la red local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-131">Depending on the requirements of your VPN connection, you can configure Border Gateway Protocol (BGP) routes instead of using UDRs to implement the forwarding rules that direct traffic back through the on-premises network.</span></span>
    > 
    > 

* <span data-ttu-id="e47c4-132">**Subred de administración.**</span><span class="sxs-lookup"><span data-stu-id="e47c4-132">**Management subnet.**</span></span> <span data-ttu-id="e47c4-133">Esta subred contiene máquinas virtuales que implementan las funcionalidades de administración y supervisión de los componentes que se ejecutan en la red virtual.</span><span class="sxs-lookup"><span data-stu-id="e47c4-133">This subnet contains VMs that implement management and monitoring capabilities for the components running in the VNet.</span></span>

## <a name="recommendations"></a><span data-ttu-id="e47c4-134">Recomendaciones</span><span class="sxs-lookup"><span data-stu-id="e47c4-134">Recommendations</span></span>

<span data-ttu-id="e47c4-135">Las siguientes recomendaciones sirven para la mayoría de los escenarios.</span><span class="sxs-lookup"><span data-stu-id="e47c4-135">The following recommendations apply for most scenarios.</span></span> <span data-ttu-id="e47c4-136">Sígalas a menos que tenga un requisito concreto que las invalide.</span><span class="sxs-lookup"><span data-stu-id="e47c4-136">Follow these recommendations unless you have a specific requirement that overrides them.</span></span> 

### <a name="access-control-recommendations"></a><span data-ttu-id="e47c4-137">Recomendaciones de control de acceso</span><span class="sxs-lookup"><span data-stu-id="e47c4-137">Access control recommendations</span></span>

<span data-ttu-id="e47c4-138">Use [control de acceso basado en rol][ rbac] (RBAC) para administrar los recursos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="e47c4-138">Use [Role-Based Access Control ][rbac] (RBAC) to manage the resources in your application.</span></span> <span data-ttu-id="e47c4-139">Considere la posibilidad de crear los siguientes [roles personalizados][rbac-custom-roles]:</span><span class="sxs-lookup"><span data-stu-id="e47c4-139">Consider creating the following [custom roles][rbac-custom-roles]:</span></span>

- <span data-ttu-id="e47c4-140">Un rol de DevOps con permisos para administrar la infraestructura de la aplicación, implementar los componentes de las aplicaciones y supervisar y reiniciar las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e47c4-140">A DevOps role with permissions to administer the infrastructure for the application, deploy the application components, and monitor and restart VMs.</span></span>  

- <span data-ttu-id="e47c4-141">Un rol de administrador de TI centralizado para administrar y supervisar los recursos de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-141">A centralized IT administrator role to manage and monitor network resources.</span></span>

- <span data-ttu-id="e47c4-142">Un rol de administrador de TI de seguridad para administrar los recursos de red seguros, como las aplicaciones virtuales de red (NVA) de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-142">A security IT administrator role to manage secure network resources such as the NVAs.</span></span> 

<span data-ttu-id="e47c4-143">Los roles de DevOps y administrador de TI no deberían tener acceso a los recursos de las aplicaciones virtuales de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-143">The DevOps and IT administrator roles should not have access to the NVA resources.</span></span> <span data-ttu-id="e47c4-144">Debería limitarse al rol de administrador de TI de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-144">This should be restricted to the security IT administrator role.</span></span>

### <a name="resource-group-recommendations"></a><span data-ttu-id="e47c4-145">Recomendaciones para grupos de recursos</span><span class="sxs-lookup"><span data-stu-id="e47c4-145">Resource group recommendations</span></span>

<span data-ttu-id="e47c4-146">Los recursos de Azure, como las máquinas virtuales, las redes virtuales y los equilibradores de carga, se pueden administrar fácilmente agrupándolos en grupos de recursos.</span><span class="sxs-lookup"><span data-stu-id="e47c4-146">Azure resources such as VMs, VNets, and load balancers can be easily managed by grouping them together into resource groups.</span></span> <span data-ttu-id="e47c4-147">Asigne roles RBAC a cada grupo de recursos para restringir el acceso.</span><span class="sxs-lookup"><span data-stu-id="e47c4-147">Assign RBAC roles to each resource group to restrict access.</span></span>

<span data-ttu-id="e47c4-148">Se recomienda crear los grupos de recursos siguientes:</span><span class="sxs-lookup"><span data-stu-id="e47c4-148">We recommend creating the following resource groups:</span></span>

* <span data-ttu-id="e47c4-149">Un grupo de recursos que contenga la red virtual (excepto las máquinas virtuales), los grupos de seguridad de red y los recursos de puerta de enlace para conectarse a la red local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-149">A resource group containing the VNet (excluding the VMs), NSGs, and the gateway resources for connecting to the on-premises network.</span></span> <span data-ttu-id="e47c4-150">Asigne el rol de administrador de TI centralizado a este grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e47c4-150">Assign the centralized IT administrator role to this resource group.</span></span>
* <span data-ttu-id="e47c4-151">Un grupo de recursos que contenga las máquinas virtuales para las aplicaciones virtuales de red (NVA) (incluido el equilibrador de carga), el JumpBox y otras máquinas virtuales de administración y el UDR para la subred de puerta de enlace que obliga a todo el tráfico a pasar a través de las NVA.</span><span class="sxs-lookup"><span data-stu-id="e47c4-151">A resource group containing the VMs for the NVAs (including the load balancer), the jumpbox and other management VMs, and the UDR for the gateway subnet that forces all traffic through the NVAs.</span></span> <span data-ttu-id="e47c4-152">Asigne el rol de administrador de TI de seguridad a este grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e47c4-152">Assign the security IT administrator role to this resource group.</span></span>
* <span data-ttu-id="e47c4-153">Separe los grupos de recursos para cada nivel de aplicación que contenga el equilibrador de carga y las máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e47c4-153">Separate resource groups for each application tier that contain the load balancer and VMs.</span></span> <span data-ttu-id="e47c4-154">Tenga en cuenta que este grupo de recursos no debe incluir las subredes de cada nivel.</span><span class="sxs-lookup"><span data-stu-id="e47c4-154">Note that this resource group shouldn't include the subnets for each tier.</span></span> <span data-ttu-id="e47c4-155">Asigne el rol de DevOps a este grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="e47c4-155">Assign the DevOps role to this resource group.</span></span>

### <a name="virtual-network-gateway-recommendations"></a><span data-ttu-id="e47c4-156">Recomendaciones para las puertas de enlace de red virtual</span><span class="sxs-lookup"><span data-stu-id="e47c4-156">Virtual network gateway recommendations</span></span>

<span data-ttu-id="e47c4-157">El tráfico local pasa a la red virtual a través de una puerta de enlace de red virtual.</span><span class="sxs-lookup"><span data-stu-id="e47c4-157">On-premises traffic passes to the VNet through a virtual network gateway.</span></span> <span data-ttu-id="e47c4-158">Se recomienda una [puerta de enlace Azure VPN][ guidance-vpn-gateway] o una [puerta de enlace Azure ExpressRoute][guidance-expressroute].</span><span class="sxs-lookup"><span data-stu-id="e47c4-158">We recommend an [Azure VPN gateway][guidance-vpn-gateway] or an [Azure ExpressRoute gateway][guidance-expressroute].</span></span>

### <a name="nva-recommendations"></a><span data-ttu-id="e47c4-159">Recomendaciones para aplicaciones virtuales de red</span><span class="sxs-lookup"><span data-stu-id="e47c4-159">NVA recommendations</span></span>

<span data-ttu-id="e47c4-160">Las aplicaciones virtuales de red proporcionan servicios diferentes para administrar y supervisar el tráfico de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-160">NVAs provide different services for managing and monitoring network traffic.</span></span> <span data-ttu-id="e47c4-161">[Azure Marketplace][ azure-marketplace-nva] ofrece varias aplicaciones virtuales de red de otros proveedores que puede usar.</span><span class="sxs-lookup"><span data-stu-id="e47c4-161">The [Azure Marketplace][azure-marketplace-nva] offers several third-party vendor NVAs that you can use.</span></span> <span data-ttu-id="e47c4-162">Si ninguna de ellas cumple sus requisitos, puede crear una aplicación virtual de red personalizada usando máquinas virtuales.</span><span class="sxs-lookup"><span data-stu-id="e47c4-162">If none of these third-party NVAs meet your requirements, you can create a custom NVA using VMs.</span></span> 

<span data-ttu-id="e47c4-163">Por ejemplo, la implementación de la solución para esta arquitectura de referencia implementa una aplicación virtual de red personalizada con la funcionalidad siguiente en una máquina virtual:</span><span class="sxs-lookup"><span data-stu-id="e47c4-163">For example, the solution deployment for this reference architecture implements an NVA with the following functionality on a VM:</span></span>

* <span data-ttu-id="e47c4-164">El tráfico se enruta mediante [reenvío IP][ip-forwarding] en las interfaces de red NVA personalizadas (NIC).</span><span class="sxs-lookup"><span data-stu-id="e47c4-164">Traffic is routed using [IP forwarding][ip-forwarding] on the NVA network interfaces (NICs).</span></span>
* <span data-ttu-id="e47c4-165">Solo se permite pasar el tráfico a través de la aplicación virtual de red personalizada si es apropiado.</span><span class="sxs-lookup"><span data-stu-id="e47c4-165">Traffic is permitted to pass through the NVA only if it is appropriate to do so.</span></span> <span data-ttu-id="e47c4-166">Cada máquina virtual NVA de la arquitectura de referencia es un simple enrutador Linux.</span><span class="sxs-lookup"><span data-stu-id="e47c4-166">Each NVA VM in the reference architecture is a simple Linux router.</span></span> <span data-ttu-id="e47c4-167">El tráfico entrante llega a la interfaz de red *eth0* y el tráfico de salida hace coincidir las reglas definidas por scripts personalizados que se envían a través de la interfaz de red *eth1*.</span><span class="sxs-lookup"><span data-stu-id="e47c4-167">Inbound traffic arrives on network interface *eth0*, and outbound traffic matches rules defined by custom scripts dispatched through network interface *eth1*.</span></span>
* <span data-ttu-id="e47c4-168">Las aplicaciones virtuales de red personalizadas solo se pueden configurar desde la subred de administración.</span><span class="sxs-lookup"><span data-stu-id="e47c4-168">The NVAs can only be configured from the management subnet.</span></span> 
* <span data-ttu-id="e47c4-169">El tráfico enrutado a la subred de administración no pasa por ellas.</span><span class="sxs-lookup"><span data-stu-id="e47c4-169">Traffic routed to the management subnet does not pass through the NVAs.</span></span> <span data-ttu-id="e47c4-170">En caso contrario, si se produjera un error en ellas, no habría ninguna ruta a la subred de administración para corregirlo.</span><span class="sxs-lookup"><span data-stu-id="e47c4-170">Otherwise, if the NVAs fail, there would be no route to the management subnet to fix them.</span></span>  
* <span data-ttu-id="e47c4-171">Las máquinas virtuales para la aplicación virtual de red personalizada se colocan en un [conjunto de disponibilidad][availability-set] detrás de un equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="e47c4-171">The VMs for the NVA are placed in an [availability set][availability-set] behind a load balancer.</span></span> <span data-ttu-id="e47c4-172">El UDR de la subred de puerta de enlace dirige las solicitudes de aplicación virtual de red al equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="e47c4-172">The UDR in the gateway subnet directs NVA requests to the load balancer.</span></span>

<span data-ttu-id="e47c4-173">Incluya una aplicación virtual de red de nivel 7 para terminar las conexiones de aplicación en el nivel de NVA y mantener la afinidad con los niveles de back-end.</span><span class="sxs-lookup"><span data-stu-id="e47c4-173">Include a layer-7 NVA to terminate application connections at the NVA level and maintain affinity with the backend tiers.</span></span> <span data-ttu-id="e47c4-174">Así se garantiza una conectividad simétrica en la que el tráfico de respuesta de los niveles de back-end se devuelve a través de la aplicación virtual de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-174">This guarantees symmetric connectivity, in which response traffic from the backend tiers returns through the NVA.</span></span>

<span data-ttu-id="e47c4-175">Otra opción que tener en cuenta conecta varias aplicaciones virtuales de red en serie, y cada una realiza una tarea de seguridad especializada.</span><span class="sxs-lookup"><span data-stu-id="e47c4-175">Another option to consider is connecting multiple NVAs in series, with each NVA performing a specialized security task.</span></span> <span data-ttu-id="e47c4-176">Así se permite que cada función de seguridad se administre en función de cada aplicación virtual de red.</span><span class="sxs-lookup"><span data-stu-id="e47c4-176">This allows each security function to be managed on a per-NVA basis.</span></span> <span data-ttu-id="e47c4-177">Por ejemplo, una aplicación virtual de red que implemente un servidor de seguridad podría colocarse en serie con otra que ejecute los servicios de identidad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-177">For example, an NVA implementing a firewall could be placed in series with an NVA running identity services.</span></span> <span data-ttu-id="e47c4-178">El inconveniente con respecto a la facilidad de administración es la adición de saltos de red adicionales que pueden aumentar la latencia, por tanto, asegúrese de que esto no afecta al rendimiento de su aplicación.</span><span class="sxs-lookup"><span data-stu-id="e47c4-178">The tradeoff for ease of management is the addition of extra network hops that may increase latency, so ensure that this doesn't affect your application's performance.</span></span>


### <a name="nsg-recommendations"></a><span data-ttu-id="e47c4-179">Recomendaciones para las aplicaciones virtuales de red</span><span class="sxs-lookup"><span data-stu-id="e47c4-179">NSG recommendations</span></span>

<span data-ttu-id="e47c4-180">La puerta de enlace VPN expone una dirección IP pública para la conexión a la red local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-180">The VPN gateway exposes a public IP address for the connection to the on-premises network.</span></span> <span data-ttu-id="e47c4-181">Se recomienda crear un grupo de seguridad de red (NSG) para cada subred de aplicación virtual de red entrante, con reglas para bloquear todo el tráfico que no se origine en la red local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-181">We recommend creating a network security group (NSG) for the inbound NVA subnet, with rules to block all traffic not originating from the on-premises network.</span></span>

<span data-ttu-id="e47c4-182">También se recomienda usar grupos de seguridad de red para que cada subred proporcione un segundo nivel de protección contra el tráfico entrante a omitir una puerta de enlace configurada incorrectamente o deshabilitada.</span><span class="sxs-lookup"><span data-stu-id="e47c4-182">We also recommend NSGs for each subnet to provide a second level of protection against inbound traffic bypassing an incorrectly configured or disabled NVA.</span></span> <span data-ttu-id="e47c4-183">Por ejemplo, la subred de nivel web en la arquitectura de referencia implementa un grupo de seguridad de red con una regla para pasar por alto todas las solicitudes que no sean de las recibidas desde la red local (192.168.0.0/16) o la red virtual, y otra regla que pasa por alto todas las solicitudes que no se realizan en el puerto 80.</span><span class="sxs-lookup"><span data-stu-id="e47c4-183">For example, the web tier subnet in the reference architecture implements an NSG with a rule to ignore all requests other than those received from the on-premises network (192.168.0.0/16) or the VNet, and another rule that ignores all requests not made on port 80.</span></span>

### <a name="internet-access-recommendations"></a><span data-ttu-id="e47c4-184">Recomendaciones de acceso a Internet</span><span class="sxs-lookup"><span data-stu-id="e47c4-184">Internet access recommendations</span></span>

<span data-ttu-id="e47c4-185">[Aplique tunelización forzada][azure-forced-tunneling] a todo el tráfico saliente de Internet a través de la red local mediante el túnel VPN de sitio a sitio para enrutar a Internet con la traducción de direcciones de red (NAT).</span><span class="sxs-lookup"><span data-stu-id="e47c4-185">[Force-tunnel][azure-forced-tunneling] all outbound Internet traffic through your on-premises network using the site-to-site VPN tunnel, and route to the Internet using network address translation (NAT).</span></span> <span data-ttu-id="e47c4-186">Así se evita la pérdida accidental de la información confidencial almacenada en el nivel de datos y se permite la inspección y auditoría de todo el tráfico saliente.</span><span class="sxs-lookup"><span data-stu-id="e47c4-186">This prevents accidental leakage of any confidential information stored in your data tier and allows inspection and auditing of all outgoing traffic.</span></span>

> [!NOTE]
> <span data-ttu-id="e47c4-187">No bloquee por completo el tráfico de Internet de los niveles de aplicación, ya que esto evitará que estos niveles usen los servicios PaaS de Azure que se basan en direcciones IP públicas, como el registro de diagnóstico de máquina virtual, la descarga de extensiones de máquina virtual y otras funciones.</span><span class="sxs-lookup"><span data-stu-id="e47c4-187">Don't completely block Internet traffic from the application tiers, as this will prevent these tiers from using Azure PaaS services that rely on public IP addresses, such as VM diagnostics logging, downloading of VM extensions, and other functionality.</span></span> <span data-ttu-id="e47c4-188">Los diagnósticos de Azure también requieren que los componentes puedan leer y escribir en una cuenta de Azure Storage.</span><span class="sxs-lookup"><span data-stu-id="e47c4-188">Azure diagnostics also requires that components can read and write to an Azure Storage account.</span></span>
> 
> 

<span data-ttu-id="e47c4-189">Compruebe que el tráfico saliente de Internet se realiza correctamente a través de tunelización forzada.</span><span class="sxs-lookup"><span data-stu-id="e47c4-189">Verify that outbound internet traffic is force-tunneled correctly.</span></span> <span data-ttu-id="e47c4-190">Si utiliza una conexión VPN con el [servicio de acceso remoto y enrutamiento] [ routing-and-remote-access-service] en un servidor local, use una herramienta como [WireShark][wireshark] o [Microsoft Message Analyzer](https://www.microsoft.com/download/details.aspx?id=44226).</span><span class="sxs-lookup"><span data-stu-id="e47c4-190">If you're using a VPN connection with the [routing and remote access service][routing-and-remote-access-service] on an on-premises server, use a tool such as [WireShark][wireshark] or [Microsoft Message Analyzer](https://www.microsoft.com/download/details.aspx?id=44226).</span></span>

### <a name="management-subnet-recommendations"></a><span data-ttu-id="e47c4-191">Recomendaciones para la subred de administración</span><span class="sxs-lookup"><span data-stu-id="e47c4-191">Management subnet recommendations</span></span>

<span data-ttu-id="e47c4-192">La subred de administración contiene un JumpBox que realiza la funcionalidad de supervisión y administración.</span><span class="sxs-lookup"><span data-stu-id="e47c4-192">The management subnet contains a jumpbox that performs management and monitoring functionality.</span></span> <span data-ttu-id="e47c4-193">Restrinja la ejecución de todas las tareas de administración segura al JumpBox.</span><span class="sxs-lookup"><span data-stu-id="e47c4-193">Restrict execution of all secure management tasks to the jumpbox.</span></span>
 
<span data-ttu-id="e47c4-194">No cree una dirección IP pública para el JumpBox.</span><span class="sxs-lookup"><span data-stu-id="e47c4-194">Do not create a public IP address for the jumpbox.</span></span> <span data-ttu-id="e47c4-195">En su lugar, cree una ruta para tener acceso al JumpBox a través de la puerta de enlace entrante.</span><span class="sxs-lookup"><span data-stu-id="e47c4-195">Instead, create one route to access the jumpbox through the incoming gateway.</span></span> <span data-ttu-id="e47c4-196">Cree reglas NSG para que la subred de administración solo responda a las solicitudes desde la ruta de acceso permitida.</span><span class="sxs-lookup"><span data-stu-id="e47c4-196">Create NSG rules so the management subnet only responds to requests from the allowed route.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="e47c4-197">Consideraciones sobre escalabilidad</span><span class="sxs-lookup"><span data-stu-id="e47c4-197">Scalability considerations</span></span>

<span data-ttu-id="e47c4-198">La arquitectura de referencia utiliza un equilibrador de carga para dirigir el tráfico de red local a un grupo de dispositivos de aplicaciones virtuales de red, lo que enruta el tráfico.</span><span class="sxs-lookup"><span data-stu-id="e47c4-198">The reference architecture uses a load balancer to direct on-premises network traffic to a pool of NVA devices, which route the traffic.</span></span> <span data-ttu-id="e47c4-199">Las aplicaciones virtuales de red se colocan en un [conjunto de disponibilidad][availability-set].</span><span class="sxs-lookup"><span data-stu-id="e47c4-199">The NVAs are placed in an [availability set][availability-set].</span></span> <span data-ttu-id="e47c4-200">Este diseño permite supervisar el rendimiento de las aplicaciones virtuales de red a lo largo del tiempo y agregar dispositivos NVA en respuesta a los aumentos de carga.</span><span class="sxs-lookup"><span data-stu-id="e47c4-200">This design allows you to monitor the throughput of the NVAs over time and add NVA devices in response to increases in load.</span></span>

<span data-ttu-id="e47c4-201">La puerta de enlace VPN de SKU estándar admite un rendimiento sostenido de hasta 100 Mbps.</span><span class="sxs-lookup"><span data-stu-id="e47c4-201">The standard SKU VPN gateway supports sustained throughput of up to 100 Mbps.</span></span> <span data-ttu-id="e47c4-202">La SKU de alto rendimiento proporciona hasta 200 Mbps.</span><span class="sxs-lookup"><span data-stu-id="e47c4-202">The High Performance SKU provides up to 200 Mbps.</span></span> <span data-ttu-id="e47c4-203">Para anchos de banda mayores, considere la posibilidad de actualizar a una puerta de enlace de ExpressRoute.</span><span class="sxs-lookup"><span data-stu-id="e47c4-203">For higher bandwidths, consider upgrading to an ExpressRoute gateway.</span></span> <span data-ttu-id="e47c4-204">ExpressRoute proporciona hasta 10 GB/s de ancho de banda con una latencia inferior que una conexión VPN.</span><span class="sxs-lookup"><span data-stu-id="e47c4-204">ExpressRoute provides up to 10 Gbps bandwidth with lower latency than a VPN connection.</span></span>

<span data-ttu-id="e47c4-205">Para más información acerca de la escalabilidad de las puertas de enlace de Azure, vea la sección sobre la consideración de la escalabilidad en [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-scalability] (Implementación de una arquitectura de red híbrida con Azure y VPN local) e [Implementación de una arquitectura de red híbrida con Azure y VPN local][guidance-expressroute-scalability] (Implementación de una arquitectura de red híbrida con Azure ExpressRoute).</span><span class="sxs-lookup"><span data-stu-id="e47c4-205">For more information about the scalability of Azure gateways, see the scalability consideration section in [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-scalability] and [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-scalability].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="e47c4-206">Consideraciones sobre disponibilidad</span><span class="sxs-lookup"><span data-stu-id="e47c4-206">Availability considerations</span></span>

<span data-ttu-id="e47c4-207">Como se mencionó, la arquitectura de referencia utiliza un grupo de dispositivos NVA detrás de un equilibrador de carga.</span><span class="sxs-lookup"><span data-stu-id="e47c4-207">As mentioned, the reference architecture uses a pool of NVA devices behind a load balancer.</span></span> <span data-ttu-id="e47c4-208">El equilibrador de carga utiliza un sondeo de estado para supervisar cada aplicación virtual de red y quitará la que no responda del grupo.</span><span class="sxs-lookup"><span data-stu-id="e47c4-208">The load balancer uses a health probe to monitor each NVA and will remove any unresponsive NVAs from the pool.</span></span>

<span data-ttu-id="e47c4-209">Si usa Azure ExpressRoute para proporcionar conectividad entre la red local y la red virtual, [configure una puerta de enlace VPN para proporcionar conmutación por error] [ra-vpn-failover] si la conexión ExpressRoute no está disponible.</span><span class="sxs-lookup"><span data-stu-id="e47c4-209">If you're using Azure ExpressRoute to provide connectivity between the VNet and on-premises network, [configure a VPN gateway to provide failover][ra-vpn-failover] if the ExpressRoute connection becomes unavailable.</span></span>

<span data-ttu-id="e47c4-210">Para obtener información específica sobre el mantenimiento de la disponibilidad para conexiones VPN y ExpressRoute, consulte las consideraciones de disponibilidad en [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-availability] (Implementación de una arquitectura de red híbrida con Azure y VPN local) e [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-availability] (Implementación de una arquitectura de red híbrida con Azure ExpressRoute).</span><span class="sxs-lookup"><span data-stu-id="e47c4-210">For specific information on maintaining availability for VPN and ExpressRoute connections, see the availability considerations in [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-availability] and [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-availability].</span></span> 

## <a name="manageability-considerations"></a><span data-ttu-id="e47c4-211">Consideraciones sobre la manejabilidad</span><span class="sxs-lookup"><span data-stu-id="e47c4-211">Manageability considerations</span></span>

<span data-ttu-id="e47c4-212">La supervisión de todos los recursos y aplicaciones debería realizarla el JumpBox en la subred de administración.</span><span class="sxs-lookup"><span data-stu-id="e47c4-212">All application and resource monitoring should be performed by the jumpbox in the management subnet.</span></span> <span data-ttu-id="e47c4-213">Dependiendo de los requisitos de la aplicación, puede que necesite recursos adicionales de supervisión en dicha subred.</span><span class="sxs-lookup"><span data-stu-id="e47c4-213">Depending on your application requirements, you may need additional monitoring resources in the management subnet.</span></span> <span data-ttu-id="e47c4-214">Si es así, se debe tener acceso a estos recursos a través del JumpBox.</span><span class="sxs-lookup"><span data-stu-id="e47c4-214">If so, these resources should be accessed through the jumpbox.</span></span>

<span data-ttu-id="e47c4-215">Aunque la conectividad de puerta de enlace de la red local a Azure esté fuera de servicio, todavía puede comunicarse con el JumpBox; para ello, implemente una dirección IP pública, agréguela al JumpBox y conéctese de forma remota desde Internet.</span><span class="sxs-lookup"><span data-stu-id="e47c4-215">If gateway connectivity from your on-premises network to Azure is down, you can still reach the jumpbox by deploying a public IP address, adding it to the jumpbox, and remoting in from the internet.</span></span>

<span data-ttu-id="e47c4-216">La subred de cada nivel de la arquitectura de referencia está protegido por las reglas de NSG.</span><span class="sxs-lookup"><span data-stu-id="e47c4-216">Each tier's subnet in the reference architecture is protected by NSG rules.</span></span> <span data-ttu-id="e47c4-217">Debe crear una regla para abrir el puerto 3389 para el acceso del Protocolo de escritorio remoto (RDP) en las máquinas virtuales Windows o el puerto 22 para el acceso de shell seguro (SSH) en las máquinas virtuales Linux.</span><span class="sxs-lookup"><span data-stu-id="e47c4-217">You may need to create a rule to open port 3389 for remote desktop protocol (RDP) access on Windows VMs or port 22 for secure shell (SSH) access on Linux VMs.</span></span> <span data-ttu-id="e47c4-218">Otras herramientas de supervisión y administración pueden requerir reglas para abrir puertos adicionales.</span><span class="sxs-lookup"><span data-stu-id="e47c4-218">Other management and monitoring tools may require rules to open additional ports.</span></span>

<span data-ttu-id="e47c4-219">Si está usando ExpressRoute para proporcionar conectividad entre el centro de datos local y Azure, use [Azure Connectivity Toolkit (AzureCT)][azurect] para supervisar y solucionar problemas de conexión.</span><span class="sxs-lookup"><span data-stu-id="e47c4-219">If you're using ExpressRoute to provide the connectivity between your on-premises datacenter and Azure, use the [Azure Connectivity Toolkit (AzureCT)][azurect] to monitor and troubleshoot connection issues.</span></span>

<span data-ttu-id="e47c4-220">Puede obtener información adicional destinada en concreto a la supervisión y administración de las conexiones VPN y ExpressRoute en los artículos [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-manageability] (Implementación de una arquitectura de red híbrida con Azure y VPN local) e [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-manageability] (Implementación de una arquitectura de red híbrida con Azure ExpressRoute).</span><span class="sxs-lookup"><span data-stu-id="e47c4-220">You can find additional information specifically aimed at monitoring and managing VPN and ExpressRoute connections in the articles [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-manageability] and [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-manageability].</span></span>

## <a name="security-considerations"></a><span data-ttu-id="e47c4-221">Consideraciones sobre la seguridad</span><span class="sxs-lookup"><span data-stu-id="e47c4-221">Security considerations</span></span>

<span data-ttu-id="e47c4-222">Esta arquitectura de referencia implementa varios niveles de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-222">This reference architecture implements multiple levels of security.</span></span>

### <a name="routing-all-on-premises-user-requests-through-the-nva"></a><span data-ttu-id="e47c4-223">Enrutamiento de todas las solicitudes de usuario local a través de la aplicación virtual de red</span><span class="sxs-lookup"><span data-stu-id="e47c4-223">Routing all on-premises user requests through the NVA</span></span>
<span data-ttu-id="e47c4-224">El UDR en la subred de puerta de enlace bloquea todas las solicitudes de usuario distintas de las recibidas desde el entorno local.</span><span class="sxs-lookup"><span data-stu-id="e47c4-224">The UDR in the gateway subnet blocks all user requests other than those received from on-premises.</span></span> <span data-ttu-id="e47c4-225">El UDR pasa las solicitudes permitidas a las aplicaciones virtuales de red en la subred privada de la red perimetral, y estas solicitudes se pasan a la aplicación, si se permiten las reglas de NVA.</span><span class="sxs-lookup"><span data-stu-id="e47c4-225">The UDR passes allowed requests to the NVAs in the private DMZ subnet, and these requests are passed on to the application if they are allowed by the NVA rules.</span></span> <span data-ttu-id="e47c4-226">Puede agregar otras rutas al UDR, pero debe asegurarse de que no omiten accidentalmente las aplicaciones virtuales de red ni bloquean el tráfico administrativo destinado a la subred de administración.</span><span class="sxs-lookup"><span data-stu-id="e47c4-226">You can add other routes to the UDR, but make sure they don't inadvertently bypass the NVAs or block administrative traffic intended for the management subnet.</span></span>

<span data-ttu-id="e47c4-227">El equilibrador de carga delante de las aplicaciones virtuales de red también actúa como un dispositivo de seguridad al pasar por alto el tráfico en los puertos que no estén abiertos en las reglas de equilibrio de carga.</span><span class="sxs-lookup"><span data-stu-id="e47c4-227">The load balancer in front of the NVAs also acts as a security device by ignoring traffic on ports that are not open in the load balancing rules.</span></span> <span data-ttu-id="e47c4-228">Los equilibradores de carga en la arquitectura de referencia solo escuchan las solicitudes HTTP en el puerto 80 y las solicitudes HTTPS en el puerto 443.</span><span class="sxs-lookup"><span data-stu-id="e47c4-228">The load balancers in the reference architecture only listen for HTTP requests on port 80 and HTTPS requests on port 443.</span></span> <span data-ttu-id="e47c4-229">Documente las reglas adicionales que agregue a los equilibradores de carga y supervise el tráfico para asegurarse de que no hay ningún problema de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-229">Document any additional rules that you add to the load balancers, and monitor traffic to ensure there are no security issues.</span></span>

### <a name="using-nsgs-to-blockpass-traffic-between-application-tiers"></a><span data-ttu-id="e47c4-230">Grupos de seguridad de red para bloquear o permitir el tráfico entre los niveles de aplicación</span><span class="sxs-lookup"><span data-stu-id="e47c4-230">Using NSGs to block/pass traffic between application tiers</span></span>
<span data-ttu-id="e47c4-231">El tráfico entre niveles se restringe mediante grupos de seguridad de red (NSG).</span><span class="sxs-lookup"><span data-stu-id="e47c4-231">Traffic between tiers is restricted by using NSGs.</span></span> <span data-ttu-id="e47c4-232">El nivel empresarial bloquea todo el tráfico que no se origina en el nivel web y el de datos bloquea todo el tráfico que no se origina en el nivel empresarial.</span><span class="sxs-lookup"><span data-stu-id="e47c4-232">The business tier blocks all traffic that doesn't originate in the web tier, and the data tier blocks all traffic that doesn't originate in the business tier.</span></span> <span data-ttu-id="e47c4-233">Si necesita expandir las reglas de NSG a fin de permitir un mayor acceso a estos niveles, sopese estos requisitos con respecto a los riesgos de seguridad.</span><span class="sxs-lookup"><span data-stu-id="e47c4-233">If you have a requirement to expand the NSG rules to allow broader access to these tiers, weigh these requirements against the security risks.</span></span> <span data-ttu-id="e47c4-234">Cada nueva ruta de entrada representa una oportunidad para que se produzca la pérdida accidental o intencionada de datos o la aplicación resulte dañada.</span><span class="sxs-lookup"><span data-stu-id="e47c4-234">Each new inbound pathway represents an opportunity for accidental or purposeful data leakage or application damage.</span></span>

### <a name="devops-access"></a><span data-ttu-id="e47c4-235">Acceso de DevOps</span><span class="sxs-lookup"><span data-stu-id="e47c4-235">DevOps access</span></span>
<span data-ttu-id="e47c4-236">Use [RBAC][rbac] para restringir las operaciones que DevOps puede realizar en cada nivel.</span><span class="sxs-lookup"><span data-stu-id="e47c4-236">Use [RBAC][rbac] to restrict the operations that DevOps can perform on each tier.</span></span> <span data-ttu-id="e47c4-237">Al conceder permisos, use el [principio de los privilegios mínimos][security-principle-of-least-privilege].</span><span class="sxs-lookup"><span data-stu-id="e47c4-237">When granting permissions, use the [principle of least privilege][security-principle-of-least-privilege].</span></span> <span data-ttu-id="e47c4-238">Registre todas las operaciones administrativas y realice auditorías periódicas para asegurarse de que los cambios de configuración se habían planeado.</span><span class="sxs-lookup"><span data-stu-id="e47c4-238">Log all administrative operations and perform regular audits to ensure any configuration changes were planned.</span></span>

## <a name="solution-deployment"></a><span data-ttu-id="e47c4-239">Implementación de la solución</span><span class="sxs-lookup"><span data-stu-id="e47c4-239">Solution deployment</span></span>

<span data-ttu-id="e47c4-240">Se puede encontrar una implementación de una arquitectura de referencia que implementa estas recomendaciones en [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="e47c4-240">A deployment for a reference architecture that implements these recommendations is available on [GitHub][github-folder].</span></span> <span data-ttu-id="e47c4-241">La arquitectura de referencia se puede implementar siguiendo estas instrucciones:</span><span class="sxs-lookup"><span data-stu-id="e47c4-241">The reference architecture can be deployed by following the directions below:</span></span>

1. <span data-ttu-id="e47c4-242">Haga clic en el botón a continuación:</span><span class="sxs-lookup"><span data-stu-id="e47c4-242">Click the button below:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Freference-architectures%2Fmaster%2Fdmz%2Fsecure-vnet-hybrid%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
2. <span data-ttu-id="e47c4-243">Una vez abierto el vínculo en Azure Portal, debe especificar los valores de algunas de las opciones:</span><span class="sxs-lookup"><span data-stu-id="e47c4-243">Once the link has opened in the Azure portal, you must enter values for some of the settings:</span></span>   
   * <span data-ttu-id="e47c4-244">El nombre del **Grupo de recursos** ya está definido en el archivo de parámetros, así que seleccione **Crear nuevo** y escriba `ra-private-dmz-rg` en el cuadro de texto.</span><span class="sxs-lookup"><span data-stu-id="e47c4-244">The **Resource group** name is already defined in the parameter file, so select **Create New** and enter `ra-private-dmz-rg` in the text box.</span></span>
   * <span data-ttu-id="e47c4-245">Seleccione la región en el cuadro de lista desplegable **Ubicación**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-245">Select the region from the **Location** drop down box.</span></span>
   * <span data-ttu-id="e47c4-246">No modifique los cuadros de texto **URI raíz de plantilla** o **URI raíz de parámetro**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-246">Do not edit the **Template Root Uri** or the **Parameter Root Uri** text boxes.</span></span>
   * <span data-ttu-id="e47c4-247">Revise los términos y condiciones, y haga clic en la casilla **Acepto los términos y condiciones indicados anteriormente**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-247">Review the terms and conditions, then click the **I agree to the terms and conditions stated above** checkbox.</span></span>
   * <span data-ttu-id="e47c4-248">Haga clic en el botón **Comprar**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-248">Click the **Purchase** button.</span></span>
3. <span data-ttu-id="e47c4-249">Espere a que la implementación se complete.</span><span class="sxs-lookup"><span data-stu-id="e47c4-249">Wait for the deployment to complete.</span></span>
4. <span data-ttu-id="e47c4-250">Los archivos de parámetros incluyen un nombre de usuario y una contraseña de administrador codificados de forma rígida para todas las máquinas virtuales, y es muy recomendable cambiarlos inmediatamente.</span><span class="sxs-lookup"><span data-stu-id="e47c4-250">The parameter files include hard-coded administrator user name and password for all VMs, and it is strongly recommended that you immediately change both.</span></span> <span data-ttu-id="e47c4-251">Para cada máquina virtual de la implementación, selecciónela en Azure Portal y haga clic en **Restablecer contraseña** en la hoja **Soporte técnico y solución de problemas**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-251">For each VM in the deployment, select it in the Azure portal and then click **Reset password** in the **Support + troubleshooting** blade.</span></span> <span data-ttu-id="e47c4-252">Seleccione **Restablecer contraseña** en el cuadro desplegable **Modo**, seleccione un nuevo valor de **Nombre de usuario** y de **Contraseña**.</span><span class="sxs-lookup"><span data-stu-id="e47c4-252">Select **Reset password** in the **Mode** drop down box, then select a new **User name** and **Password**.</span></span> <span data-ttu-id="e47c4-253">Haga clic en el botón **Actualizar** para guardar.</span><span class="sxs-lookup"><span data-stu-id="e47c4-253">Click the **Update** button to save.</span></span>

## <a name="next-steps"></a><span data-ttu-id="e47c4-254">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="e47c4-254">Next steps</span></span>

* <span data-ttu-id="e47c4-255">Aprenda a implementar una [red perimetral entre Azure e Internet](secure-vnet-dmz.md).</span><span class="sxs-lookup"><span data-stu-id="e47c4-255">Learn how to implement a [DMZ between Azure and the Internet](secure-vnet-dmz.md).</span></span>
* <span data-ttu-id="e47c4-256">Aprenda a implementar una [arquitectura de red híbrida de alta disponibilidad][ra-vpn-failover].</span><span class="sxs-lookup"><span data-stu-id="e47c4-256">Learn how to implement a [highly available hybrid network architecture][ra-vpn-failover].</span></span>
* <span data-ttu-id="e47c4-257">Para más información acerca de cómo administrar la seguridad de red con Azure, consulte [Servicios en la nube de Microsoft y seguridad de red][cloud-services-network-security].</span><span class="sxs-lookup"><span data-stu-id="e47c4-257">For more information about managing network security with Azure, see [Microsoft cloud services and network security][cloud-services-network-security].</span></span>
* <span data-ttu-id="e47c4-258">Para información detallada sobre cómo proteger los recursos de Azure, consulte [Introducción a la seguridad de Microsoft Azure][getting-started-with-azure-security].</span><span class="sxs-lookup"><span data-stu-id="e47c4-258">For detailed information about protecting resources in Azure, see [Getting started with Microsoft Azure security][getting-started-with-azure-security].</span></span> 
* <span data-ttu-id="e47c4-259">Para detalles adicionales acerca de cómo tratar problemas de seguridad en la conexión de puertas de enlace de Azure, vea [Implementación de una arquitectura de red híbrida con Azure y VPN local][guidance-vpn-gateway-security] e [Implementación de una arquitectura de red híbrida con Azure ExpressRoute][guidance-expressroute-security].</span><span class="sxs-lookup"><span data-stu-id="e47c4-259">For additional details on addressing security concerns across an Azure gateway connection, see [Implementing a hybrid network architecture with Azure and on-premises VPN][guidance-vpn-gateway-security] and [Implementing a hybrid network architecture with Azure ExpressRoute][guidance-expressroute-security].</span></span>
> 

<!-- links -->

[availability-set]: /azure/virtual-machines/virtual-machines-windows-create-availability-set
[azurect]: https://github.com/Azure/NetworkMonitoring/tree/master/AzureCT
[azure-forced-tunneling]: https://azure.microsoft.com/en-gb/documentation/articles/vpn-gateway-forced-tunneling-rm/
[azure-marketplace-nva]: https://azuremarketplace.microsoft.com/marketplace/apps/category/networking
[cloud-services-network-security]: https://azure.microsoft.com/documentation/articles/best-practices-network-security/
[getting-started-with-azure-security]: /azure/security/azure-security-getting-started
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/dmz/secure-vnet-hybrid
[guidance-expressroute]: ../hybrid-networking/expressroute.md
[guidance-expressroute-availability]: ../hybrid-networking/expressroute.md#availability-considerations
[guidance-expressroute-manageability]: ../hybrid-networking/expressroute.md#manageability-considerations
[guidance-expressroute-security]: ../hybrid-networking/expressroute.md#security-considerations
[guidance-expressroute-scalability]: ../hybrid-networking/expressroute.md#scalability-considerations
[guidance-vpn-gateway]: ../hybrid-networking/vpn.md
[guidance-vpn-gateway-availability]: ../hybrid-networking/vpn.md#availability-considerations
[guidance-vpn-gateway-manageability]: ../hybrid-networking/vpn.md#manageability-considerations
[guidance-vpn-gateway-scalability]: ../hybrid-networking/vpn.md#scalability-considerations
[guidance-vpn-gateway-security]: ../hybrid-networking/vpn.md#security-considerations
[ip-forwarding]: /azure/virtual-network/virtual-networks-udr-overview#ip-forwarding
[ra-expressroute]: ../hybrid-networking/expressroute.md
[ra-n-tier]: ../virtual-machines-windows/n-tier.md
[ra-vpn]: ../hybrid-networking/vpn.md
[ra-vpn-failover]: ../hybrid-networking/expressroute-vpn-failover.md
[rbac]: /azure/active-directory/role-based-access-control-configure
[rbac-custom-roles]: /azure/active-directory/role-based-access-control-custom-roles
[routing-and-remote-access-service]: https://technet.microsoft.com/library/dd469790(v=ws.11).aspx
[security-principle-of-least-privilege]: https://msdn.microsoft.com/library/hdb58b2f(v=vs.110).aspx#Anchor_1
[udr-overview]: /azure/virtual-network/virtual-networks-udr-overview
[visio-download]: https://archcenter.azureedge.net/cdn/dmz-reference-architectures.vsdx
[wireshark]: https://www.wireshark.org/
[0]: ./images/dmz-private.png "Arquitectura de red híbrida segura"
