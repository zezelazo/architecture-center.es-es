---
title: Guía de creación de particiones de datos
description: Orientaciones sobre cómo separar las particiones para administrarlas y tener acceso a ellas por separado.
author: dragon119
ms.date: 11/04/2018
ms.openlocfilehash: e86f98bc753035ce4216096a6e9bace58f0e614d
ms.sourcegitcommit: 949b9d3e5a9cdee1051e6be700ed169113e914ae
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 11/05/2018
ms.locfileid: "50983454"
---
# <a name="data-partitioning"></a><span data-ttu-id="0d2a5-103">Creación de particiones de datos</span><span class="sxs-lookup"><span data-stu-id="0d2a5-103">Data partitioning</span></span>

<span data-ttu-id="0d2a5-104">En muchas soluciones a gran escala, los datos se dividen en *particiones* que se pueden administrar y a las que se puede acceder por separado.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-104">In many large-scale solutions, data is divided into *partitions* that can be managed and accessed separately.</span></span> <span data-ttu-id="0d2a5-105">La creación de particiones puede mejorar la escalabilidad, reducir la contención y optimizar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-105">Partitioning can improve scalability, reduce contention, and optimize performance.</span></span> <span data-ttu-id="0d2a5-106">También puede proporcionar un mecanismo para dividir los datos mediante un patrón de uso.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-106">It can also provide a mechanism for dividing data by usage pattern.</span></span> <span data-ttu-id="0d2a5-107">Por ejemplo, puede archivar los datos más antiguos en un nivel de almacenamiento de datos más barato.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-107">For example, you can archive older data in cheaper data storage.</span></span>

<span data-ttu-id="0d2a5-108">Sin embargo, la estrategia de creación de particiones se debe elegir concienzudamente para maximizar los beneficios y minimizar los efectos adversos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-108">However, the partitioning strategy must be chosen carefully to maximize the benefits while minimizing adverse effects.</span></span>

> [!NOTE]
> <span data-ttu-id="0d2a5-109">En este artículo, el término *creación de particiones* hace referencia al proceso de dividir físicamente los datos en almacenes de datos independientes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-109">In this article, the term *partitioning* means the process of physically dividing data into separate data stores.</span></span> <span data-ttu-id="0d2a5-110">No es lo mismo que la creación de particiones de tabla de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-110">It is not the same as SQL Server table partitioning.</span></span>

## <a name="why-partition-data"></a><span data-ttu-id="0d2a5-111">¿Por qué es recomendable crear particiones de datos?</span><span class="sxs-lookup"><span data-stu-id="0d2a5-111">Why partition data?</span></span>

* <span data-ttu-id="0d2a5-112">**Mejorar la escalabilidad**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-112">**Improve scalability**.</span></span> <span data-ttu-id="0d2a5-113">Al escalar verticalmente un sistema de base de datos única, este podría alcanzar un límite de hardware físico.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-113">When you scale up a single database system, it will eventually reach a physical hardware limit.</span></span> <span data-ttu-id="0d2a5-114">Si divide los datos en varias particiones, cada una de ellas hospedada en un servidor independiente, puede escalar horizontalmente el sistema de forma casi indefinida.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-114">If you divide data across multiple partitions, each hosted on a separate server, you can scale out the system almost indefinitely.</span></span>

* <span data-ttu-id="0d2a5-115">**Mejorar el rendimiento**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-115">**Improve performance**.</span></span> <span data-ttu-id="0d2a5-116">Las operaciones de acceso a datos en cada partición se realizan en un volumen de datos menor.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-116">Data access operations on each partition take place over a smaller volume of data.</span></span> <span data-ttu-id="0d2a5-117">Si se realiza correctamente, la creación de particiones puede aumentar la eficiencia del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-117">Correctly done, partitioning can make your system more efficient.</span></span> <span data-ttu-id="0d2a5-118">Las operaciones que afectan a más de una partición pueden ejecutarse en paralelo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-118">Operations that affect more than one partition can run in parallel.</span></span>

* <span data-ttu-id="0d2a5-119">**Mejorar la seguridad**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-119">**Improve security**.</span></span> <span data-ttu-id="0d2a5-120">En algunos casos, puede separar los datos confidenciales y no confidenciales en particiones distintas y aplicar controles de seguridad distintos a los primeros.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-120">In some cases, you can separate sensitive and non-sensitive data into different partitions and apply different security controls to the sensitive data.</span></span>

* <span data-ttu-id="0d2a5-121">**Proporcionan flexibilidad operativa**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-121">**Provide operational flexibility**.</span></span> <span data-ttu-id="0d2a5-122">La creación de particiones ofrece muchas oportunidades para ajustar con precisión las operaciones, maximizar la eficacia administrativa y minimizar los costes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-122">Partitioning offers many opportunities for fine tuning operations, maximizing administrative efficiency, and minimizing cost.</span></span> <span data-ttu-id="0d2a5-123">Por ejemplo, puede definir diferentes estrategias para la administración, la supervisión, la creación de copias de seguridad y la restauración, así como otras tareas administrativas, en función de la importancia de los datos de cada partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-123">For example, you can define different strategies for management, monitoring, backup and restore, and other administrative tasks based on the importance of the data in each partition.</span></span>

* <span data-ttu-id="0d2a5-124">**Adaptación del almacén de datos al patrón de uso**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-124">**Match the data store to the pattern of use**.</span></span> <span data-ttu-id="0d2a5-125">La creación de particiones permite la implementación de cada partición en un tipo de almacén de datos diferente en función de costo y las características integradas que ofrece el almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-125">Partitioning allows each partition to be deployed on a different type of data store, based on cost and the built-in features that data store offers.</span></span> <span data-ttu-id="0d2a5-126">Por ejemplo, los datos grandes se pueden almacenar en Blob Storage, mientras que los datos más estructurados se pueden conservar en una base de datos de documentos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-126">For example, large binary data can be stored in  blob storage, while more structured data can be held in a document database.</span></span> <span data-ttu-id="0d2a5-127">Consulte [Elección del almacén de datos apropiado](../guide/technology-choices/data-store-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-127">See [Choose the right data store](../guide/technology-choices/data-store-overview.md).</span></span>

* <span data-ttu-id="0d2a5-128">**Mejorar la disponibilidad**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-128">**Improve availability**.</span></span> <span data-ttu-id="0d2a5-129">Separar los datos en varios servidores evita un punto único de error.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-129">Separating data across multiple servers avoids a single point of failure.</span></span> <span data-ttu-id="0d2a5-130">Si se produce un error en una instancia, solo dejarán de estar disponibles los datos de esa partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-130">If one instance fails, only the data in that partition is unavailable.</span></span> <span data-ttu-id="0d2a5-131">Las operaciones en otras particiones pueden continuar.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-131">Operations on other partitions can continue.</span></span> <span data-ttu-id="0d2a5-132">En el caso de los almacenes de datos PaaS administrados, esta consideración es menos pertinente, ya que estos servicios están diseñados con redundancia integrada.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-132">For managed PaaS data stores, this consideration is less relevant, because these services are designed with built-in redundancy.</span></span> 

## <a name="designing-partitions"></a><span data-ttu-id="0d2a5-133">Diseño de particiones</span><span class="sxs-lookup"><span data-stu-id="0d2a5-133">Designing partitions</span></span>

<span data-ttu-id="0d2a5-134">Hay tres estrategias típicas para crear particiones de datos:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-134">There are three typical strategies for partitioning data:</span></span>

* <span data-ttu-id="0d2a5-135">**Particiones horizontales** (a menudo denominadas *particionamiento*).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-135">**Horizontal partitioning** (often called *sharding*).</span></span> <span data-ttu-id="0d2a5-136">En esta estrategia, cada partición es un almacén de datos independiente, pero todas las particiones tienen el mismo esquema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-136">In this strategy, each partition is a separate data store, but all partitions have the same schema.</span></span> <span data-ttu-id="0d2a5-137">Cada división se conoce como *partición* y contiene un subconjunto específico de los datos, como todos los pedidos de un conjunto específico de clientes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-137">Each partition is known as a *shard* and holds a specific subset of the data, such as all the orders for a specific set of customers.</span></span>
* <span data-ttu-id="0d2a5-138">**Particiones verticales**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-138">**Vertical partitioning**.</span></span> <span data-ttu-id="0d2a5-139">En esta estrategia, cada partición contiene un subconjunto de los campos de elementos del almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-139">In this strategy, each partition holds a subset of the fields for items in the data store.</span></span> <span data-ttu-id="0d2a5-140">Los campos se dividen según su patrón de uso.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-140">The fields are divided according to their pattern of use.</span></span> <span data-ttu-id="0d2a5-141">Por ejemplo, los campos a los que se accede con frecuencia pueden colocarse en una partición vertical y los campos que se utilizan más raramente en otra.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-141">For example, frequently accessed fields might be placed in one vertical partition and less frequently accessed fields in another.</span></span>
* <span data-ttu-id="0d2a5-142">**Creación de particiones funcional**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-142">**Functional partitioning**.</span></span> <span data-ttu-id="0d2a5-143">En esta estrategia, los datos se agregan en función de cómo los usa cada contexto limitado en el sistema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-143">In this strategy, data is aggregated according to how it is used by each bounded context in the system.</span></span> <span data-ttu-id="0d2a5-144">Por ejemplo, un sistema de comercio electrónico puede almacenar los datos de facturas en una partición y los del inventario de productos en otra.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-144">For example, an e-commerce system might store invoice data in one partition and product inventory data in another.</span></span>

<span data-ttu-id="0d2a5-145">Estas estrategias se pueden combinar y es aconsejable tener todas en cuenta al diseñar un esquema de creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-145">These strategies can be combined, and we recommend that you consider them all when you design a partitioning scheme.</span></span> <span data-ttu-id="0d2a5-146">Por ejemplo, puede dividir los datos en particiones y, a continuación, usar particiones verticales para subdividir todavía más los datos de cada partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-146">For example, you might divide data into shards and then use vertical partitioning to further subdivide the data in each shard.</span></span> 

### <a name="horizontal-partitioning-sharding"></a><span data-ttu-id="0d2a5-147">Creación de particiones horizontales (particionamiento)</span><span class="sxs-lookup"><span data-stu-id="0d2a5-147">Horizontal partitioning (sharding)</span></span>

<span data-ttu-id="0d2a5-148">En la figura 1 se muestra la creación de particiones horizontales o particionamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-148">Figure 1 shows horizontal partitioning or sharding.</span></span> <span data-ttu-id="0d2a5-149">En este ejemplo, los datos del inventario de productos se dividen en particiones según la clave del producto.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-149">In this example, product inventory data is divided into shards based on the product key.</span></span> <span data-ttu-id="0d2a5-150">Cada partición contiene los datos de un intervalo contiguo de claves de partición (A-G y H-Z), organizadas alfabéticamente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-150">Each shard holds the data for a contiguous range of shard keys (A-G and H-Z), organized alphabetically.</span></span>
<span data-ttu-id="0d2a5-151">El particionamiento distribuye la carga entre más equipos, lo que reduce la contención y mejora el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-151">Sharding spreads the load over more computers, which reduces contention and improves performance.</span></span> 

![Creación de particiones horizontales de datos basadas en una clave de partición](./images/data-partitioning/DataPartitioning01.png)

<span data-ttu-id="0d2a5-153">*Ilustración 1. Creación de particiones horizontales de datos basadas en una clave de partición*</span><span class="sxs-lookup"><span data-stu-id="0d2a5-153">*Figure 1. Horizontally partitioning (sharding) data based on a partition key*</span></span>

<span data-ttu-id="0d2a5-154">El factor más importante es la elección de una clave de particionamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-154">The most important factor is the choice of a sharding key.</span></span> <span data-ttu-id="0d2a5-155">Puede resultar difícil cambiar la clave después de que el sistema está en funcionamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-155">It can be difficult to change the key after the system is in operation.</span></span> <span data-ttu-id="0d2a5-156">La clave debe garantizar que se crean particiones de datos para distribuir la carga de trabajo lo más uniforme posible entre las particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-156">The key must ensure that data is partitioned to spread the workload as evenly as possible across the shards.</span></span>

<span data-ttu-id="0d2a5-157">Las particiones no tienen que tener necesariamente el mismo tamaño.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-157">The shards don't have to be the same size.</span></span> <span data-ttu-id="0d2a5-158">Es más importante equilibrar el número de solicitudes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-158">It's more important to balance the number of requests.</span></span> <span data-ttu-id="0d2a5-159">Algunas particiones pueden ser muy grandes, pero cada elemento tener un número bajo de operaciones de acceso.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-159">Some shards might be very large, but each item has a low number of access operations.</span></span> <span data-ttu-id="0d2a5-160">En el caso opuesto, otras particiones podrían ser más pequeñas pero contener un número de elementos a los que se accede con mayor frecuencia.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-160">Other shards might be smaller, but each item is accessed much more frequently.</span></span> <span data-ttu-id="0d2a5-161">También es importante asegurarse de que una sola partición no supere los límites de escala (en términos de capacidad y recursos de procesamiento) del almacén de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-161">It's also important to ensure that a single shard does not exceed the scale limits (in terms of capacity and processing resources) of the data store.</span></span>

<span data-ttu-id="0d2a5-162">Evite la creación de particiones "calientes" que puedan afectar al rendimiento y a la disponibilidad.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-162">Avoid creating "hot" partitions that can affect performance and availability.</span></span> <span data-ttu-id="0d2a5-163">Por ejemplo, el uso de la primera letra del nombre de un cliente provoca una distribución desequilibrada, ya que algunas letras son más comunes. En su lugar, use el código hash del identificador de un cliente para distribuir los datos más uniformemente entre las particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-163">For example, using the first letter of a customer’s name causes an unbalanced distribution, because some letters are more common Instead, use a hash of a customer identifier to distribute data more evenly across partitions.</span></span>

<span data-ttu-id="0d2a5-164">Elija una clave de particionamiento que reduzca al mínimo cualquier necesidad futura de dividir particiones grandes, fusionar particiones pequeñas para formar otras mayores o cambiar el esquema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-164">Choose a sharding key that minimizes any future requirements to split large shards, coalesce small shards into larger partitions, or change the schema.</span></span> <span data-ttu-id="0d2a5-165">Estas operaciones pueden llevar mucho tiempo y pueden requerir desconectar una o más particiones sin conexión mientras se llevan a cabo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-165">These operations can be very time consuming, and might require taking one or more shards offline while they are performed.</span></span>

<span data-ttu-id="0d2a5-166">Si se replican las particiones, debería ser posible conservar algunas de las réplicas en línea mientras otras se dividen, se combinan o se vuelven a configurar.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-166">If shards are replicated, it might be possible to keep some of the replicas online while others are split, merged, or reconfigured.</span></span> <span data-ttu-id="0d2a5-167">Sin embargo, el sistema podría requerir que se limitaran las operaciones que se pueden realizar durante la reconfiguración.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-167">However, the system might need to limit the operations that can be performed during the reconfiguration.</span></span> <span data-ttu-id="0d2a5-168">Por ejemplo, los datos de las réplicas podrían marcarse como de solo lectura para evitar incoherencias de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-168">For example, the data in the replicas might be marked as read-only to prevent data inconsistences.</span></span>

<span data-ttu-id="0d2a5-169">Para más información acerca de la creación de particiones horizontales, consulte [Sharding pattern].</span><span class="sxs-lookup"><span data-stu-id="0d2a5-169">For more information about horizontal partitioning, see [Sharding pattern].</span></span>

### <a name="vertical-partitioning"></a><span data-ttu-id="0d2a5-170">Particiones verticales</span><span class="sxs-lookup"><span data-stu-id="0d2a5-170">Vertical partitioning</span></span>

<span data-ttu-id="0d2a5-171">El uso más común del particionamiento vertical es reducir los costes de E/S y de rendimiento asociados a la recopilación de elementos a los que se accede con más frecuencia.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-171">The most common use for vertical partitioning is to reduce the I/O and performance costs associated with fetching items that are frequently accessed.</span></span> <span data-ttu-id="0d2a5-172">La ilustración 2 muestra un ejemplo de creación de particiones verticales.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-172">Figure 2 shows an example of vertical partitioning.</span></span> <span data-ttu-id="0d2a5-173">En este ejemplo, las diferentes propiedades de un elemento se almacenan en particiones distintas.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-173">In this example, different properties of an item are stored in different partitions.</span></span> <span data-ttu-id="0d2a5-174">Una partición contiene los datos a los que se accede con mayor frecuencia, lo que incluye el nombre, la descripción y el precio de los productos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-174">One partition holds data that is accessed more frequently, including product name, description, and price.</span></span> <span data-ttu-id="0d2a5-175">Otra contiene los datos de inventario: la cantidad en stock y la fecha del último pedido.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-175">Another partition holds inventory data: the stock count and last-ordered date.</span></span>

![Creación de particiones verticales de datos por su patrón de uso](./images/data-partitioning/DataPartitioning02.png)

<span data-ttu-id="0d2a5-177">*Ilustración 2. Creación de particiones verticales de datos por su patrón de uso*</span><span class="sxs-lookup"><span data-stu-id="0d2a5-177">*Figure 2. Vertically partitioning data by its pattern of use*</span></span>

<span data-ttu-id="0d2a5-178">En este ejemplo, la aplicación consulta periódicamente el nombre del producto, la descripción y el precio al mostrar los detalles de los productos a los clientes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-178">In this example, the application regularly queries the product name, description, and price when displaying the product details to customers.</span></span> <span data-ttu-id="0d2a5-179">Tanto la cantidad en stock como la fecha del último pedido se almacenan en una partición independiente porque estos dos elementos se suelen utilizar conjuntamente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-179">Stock count and last- ordered date are held in a separate partition because these two items are commonly used together.</span></span>

<span data-ttu-id="0d2a5-180">Otras ventajas del particionamiento vertical:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-180">Other advantages of vertical partitioning:</span></span>

- <span data-ttu-id="0d2a5-181">Los datos de movimiento relativamente lento (nombre, descripción y precio del producto) se pueden separar de los datos más dinámicos (nivel de existencias y fecha del último pedido).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-181">Relatively slow-moving data (product name, description, and price) can be separated from the more dynamic data (stock level and last ordered date).</span></span> <span data-ttu-id="0d2a5-182">Los datos de movimiento lento son buenos candidatos para que una aplicación se almacene en la memoria caché.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-182">Slow moving data is a good candidate for an application to cache in memory.</span></span>

- <span data-ttu-id="0d2a5-183">La información confidencial se puede almacenar en una partición independiente con controles de seguridad adicionales.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-183">Sensitive data can be stored in a separate partition with additional security controls.</span></span>

- <span data-ttu-id="0d2a5-184">El particionamiento vertical puede reducir la cantidad de acceso simultáneo necesario.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-184">Vertical partitioning can reduce the amount of concurrent access that's needed.</span></span>

<span data-ttu-id="0d2a5-185">La creación de particiones verticales funciona a nivel de entidad dentro de un almacén de datos, normalizando parcialmente una entidad para dividirla de un elemento *amplio* en un conjunto de elementos *reducido*.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-185">Vertical partitioning operates at the entity level within a data store, partially normalizing an entity to break it down from a *wide* item to a set of *narrow* items.</span></span> <span data-ttu-id="0d2a5-186">Es ideal para almacenes de datos orientados a columnas como HBase y Cassandra.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-186">It is ideally suited for column-oriented data stores such as HBase and Cassandra.</span></span> <span data-ttu-id="0d2a5-187">Si es poco probable que los datos de una colección de columnas cambien, también puede considerar el uso de almacenes de columnas en SQL Server.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-187">If the data in a collection of columns is unlikely to change, you can also consider using column stores in SQL Server.</span></span>


### <a name="functional-partitioning"></a><span data-ttu-id="0d2a5-188">Creación de particiones funcional</span><span class="sxs-lookup"><span data-stu-id="0d2a5-188">Functional partitioning</span></span>

<span data-ttu-id="0d2a5-189">Cuando es posible identificar un contexto enlazado para cada área de negocio independiente de una aplicación, la creación de particiones funcional es una forma de mejorar tanto el rendimiento del acceso a los datos como el aislamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-189">When it's possible to identify a bounded context for each distinct business area in an application, functional partitioning is a way to improve isolation and data access performance.</span></span> <span data-ttu-id="0d2a5-190">Otro uso común de la creación de particiones funcional es separar los datos de lectura y escritura de los datos de solo lectura.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-190">Another common use for functional partitioning is to separate read-write data from read-only data.</span></span> <span data-ttu-id="0d2a5-191">En la figura 3 se muestra una visión general de la creación de particiones donde se separan los datos de inventario de los datos del cliente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-191">Figure 3 shows an overview of functional partitioning where inventory data is separated from customer data.</span></span>

![Creación de particiones de datos funcionalmente por contexto o subdominio vinculado](./images/data-partitioning/DataPartitioning03.png)

<span data-ttu-id="0d2a5-193">*Ilustración 3. Creación de particiones de datos funcionalmente por contexto o subdominio vinculado*</span><span class="sxs-lookup"><span data-stu-id="0d2a5-193">*Figure 3. Functionally partitioning data by bounded context or subdomain*</span></span>

<span data-ttu-id="0d2a5-194">Esta estrategia de creación de particiones puede ayudar a reducir la contención de acceso a datos a través de distintas partes de un sistema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-194">This partitioning strategy can help reduce data access contention across different parts of a system.</span></span>

## <a name="designing-partitions-for-scalability"></a><span data-ttu-id="0d2a5-195">Diseño de particiones para obtener escalabilidad</span><span class="sxs-lookup"><span data-stu-id="0d2a5-195">Designing partitions for scalability</span></span>

<span data-ttu-id="0d2a5-196">Es fundamental considerar el tamaño y la carga de trabajo de cada partición y equilibrarlos para que los datos se distribuyan y logren alcanzar una máxima escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-196">It's vital to consider size and workload for each partition and balance them so that data is distributed to achieve maximum scalability.</span></span> <span data-ttu-id="0d2a5-197">Sin embargo, también debe particionar los datos para que no superen los límites de escala de un almacén de una única partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-197">However, you must also partition the data so that it does not exceed the scaling limits of a single partition store.</span></span>

<span data-ttu-id="0d2a5-198">Siga estos pasos durante el diseño de particiones para obtener escalabilidad:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-198">Follow these steps when designing partitions for scalability:</span></span>

1. <span data-ttu-id="0d2a5-199">Analice la aplicación para comprender los patrones de acceso a datos, como el tamaño del conjunto de resultados devuelto por cada consulta, la frecuencia de acceso, la latencia inherente y los requisitos de procesamiento del lado del servidor.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-199">Analyze the application to understand the data access patterns, such as the size of the result set returned by each query, the frequency of access, the inherent latency, and the server-side compute processing requirements.</span></span> <span data-ttu-id="0d2a5-200">En muchos casos, unas cuantas entidades principales exigirán la mayoría de los recursos de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-200">In many cases, a few major entities will demand most of the processing resources.</span></span>
2. <span data-ttu-id="0d2a5-201">Utilice este análisis para determinar los objetivos de escalabilidad actuales y futuros, como el tamaño de los datos y la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-201">Use this analysis to determine the current and future scalability targets, such as data size and workload.</span></span> <span data-ttu-id="0d2a5-202">A continuación, distribuya los datos entre las particiones para cumplir el objetivo de escalabilidad.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-202">Then distribute the data across the partitions to meet the scalability target.</span></span> <span data-ttu-id="0d2a5-203">En el caso de la creación de particiones horizontal, es importante elegir la partición correcta para asegurarse de que la distribución es homogénea.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-203">For horizontal partitioning, choosing the right shard key is important to make sure distribution is even.</span></span> <span data-ttu-id="0d2a5-204">Para más información, consulte el [Sharding pattern](Patrón de particionamiento).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-204">For more information, see the [Sharding pattern].</span></span>
3. <span data-ttu-id="0d2a5-205">Asegúrese de que todas las particiones tienen suficientes recursos para controlar los requisitos de escalabilidad en términos de rendimiento y tamaño de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-205">Make sure each partition has enough resources to handle the scalability requirements, in terms of data size and throughput.</span></span> <span data-ttu-id="0d2a5-206">En función del almacén de datos, puede haber un límite en la cantidad de espacio de almacenamiento, la potencia de procesamiento o el ancho de banda de red por partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-206">Depending on the data store, there might be a limit on the amount of storage space, processing power, or network bandwidth per partition.</span></span> <span data-ttu-id="0d2a5-207">Si existe la posibilidad de que los requisitos superen estos límites, es posible que tenga que refinar la estrategia de creación de particiones o dividir aún más los datos, con la posibilidad de combinar dos o más estrategias.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-207">If the requirements are likely to exceed these limits, you may need to refine your partitioning strategy or split data out further, possibly combining two or more strategies.</span></span>
4. <span data-ttu-id="0d2a5-208">Supervise el sistema para comprobar que los datos se distribuyen según lo previsto y que las particiones pueden controlar la carga.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-208">Monitor the system to verify that data is distributed as expected and that the partitions can handle the load.</span></span> <span data-ttu-id="0d2a5-209">El uso real no siempre coincide con lo que predice un análisis.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-209">Actual usage does not always match what an analysis predicts.</span></span> <span data-ttu-id="0d2a5-210">En ese caso, se pueden volver a equilibrar las particiones, o bien rediseñar algunas partes del sistema para obtener el equilibrio necesario.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-210">If so, it might be possible to rebalance the partitions, or else redesign some parts of the system to gain the required balance.</span></span>

<span data-ttu-id="0d2a5-211">Algunos entornos en la nube asignan recursos en términos de límites de infraestructura.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-211">Some cloud environments allocate resources in terms of infrastructure boundaries.</span></span> <span data-ttu-id="0d2a5-212">Asegúrese de que los límites seleccionados proporcionen suficiente espacio para cualquier crecimiento previsto en el volumen de datos, en términos de ancho de banda, potencia de procesamiento y almacenamiento de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-212">Ensure that the limits of your selected boundary provide enough room for any anticipated growth in the volume of data, in terms of data storage, processing power, and bandwidth.</span></span>

<span data-ttu-id="0d2a5-213">Por ejemplo, si usa una tabla de almacenamiento de Azure, existe un límite en el volumen de solicitudes que puede controlar una sola partición en un período de tiempo concreto</span><span class="sxs-lookup"><span data-stu-id="0d2a5-213">For example, if you use Azure table storage, there is a limit to the volume of requests that can be handled by a single partition in a particular period of time.</span></span> <span data-ttu-id="0d2a5-214">(consulte [Objetivos de escalabilidad y rendimiento de Azure Storage]). Una partición ocupada puede requerir más recursos de los que una sola partición puede controlar.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-214">(See [Azure storage scalability and performance targets].) A busy shard might require more resources than a single partition can handle.</span></span> <span data-ttu-id="0d2a5-215">En ese caso, es posible que haya que cambiar las particiones para distribuir la carga.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-215">If so, the shard might need to be repartitioned to spread the load.</span></span> <span data-ttu-id="0d2a5-216">Si el tamaño total o el rendimiento de estas tablas supera la capacidad de una cuenta de almacenamiento, es posible que haya que crear más cuentas de almacenamiento y distribuir las tablas entre ellas.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-216">If the total size or throughput of these tables exceeds the capacity of a storage account, you might need to create additional storage accounts and spread the tables across these accounts.</span></span> 

## <a name="designing-partitions-for-query-performance"></a><span data-ttu-id="0d2a5-217">Diseño de particiones para aumentar el rendimiento de las consultas</span><span class="sxs-lookup"><span data-stu-id="0d2a5-217">Designing partitions for query performance</span></span>

<span data-ttu-id="0d2a5-218">El rendimiento de las consultas a menudo puede ampliarse mediante el uso de conjuntos de datos más pequeños y la ejecución de consultas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-218">Query performance can often be boosted by using smaller data sets and by running parallel queries.</span></span> <span data-ttu-id="0d2a5-219">Cada partición debe contener una pequeña proporción de todo el conjunto de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-219">Each partition should contain a small proportion of the entire data set.</span></span> <span data-ttu-id="0d2a5-220">Esta reducción en el volumen puede mejorar el rendimiento de las consultas.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-220">This reduction in volume can improve the performance of queries.</span></span> <span data-ttu-id="0d2a5-221">Sin embargo, la partición no es una alternativa para diseñar y configurar una base de datos de forma adecuada.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-221">However, partitioning is not an alternative for designing and configuring a database appropriately.</span></span> <span data-ttu-id="0d2a5-222">Por ejemplo, asegúrese de que tiene los índices necesarios establecidos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-222">For example, make sure that you have the necessary indexes in place.</span></span>

<span data-ttu-id="0d2a5-223">Al diseñar las particiones para aumentar el rendimiento de las consultas, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-223">Follow these steps when designing partitions for query performance:</span></span>

1. <span data-ttu-id="0d2a5-224">Examine los requisitos de la aplicación y el rendimiento:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-224">Examine the application requirements and performance:</span></span>
   * <span data-ttu-id="0d2a5-225">Use requisitos empresariales para determinar las consultas más importantes que siempre deben ejecutarse rápidamente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-225">Use business requirements to determine the critical queries that must always perform quickly.</span></span>
   * <span data-ttu-id="0d2a5-226">Supervise el sistema para identificar las consultas que se ejecutan lentamente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-226">Monitor the system to identify any queries that perform slowly.</span></span>
   * <span data-ttu-id="0d2a5-227">Busque las consultas que se realizan con mayor frecuencia.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-227">Find which queries are performed most frequently.</span></span> <span data-ttu-id="0d2a5-228">Aunque una sola consulta tenga un costo mínimo, el consumo acumulado de recursos puede llegar a ser significativo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-228">Even if a single query has a minimal cost, the cumulative resource consumption could be significant.</span></span> 

2. <span data-ttu-id="0d2a5-229">Para crear una partición en los datos que están provocando un rendimiento lento, haga lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-229">Partition the data that is causing slow performance:</span></span>
   * <span data-ttu-id="0d2a5-230">Limitar el tamaño de cada partición para que el tiempo de respuesta de la consulta se encuentre dentro del objetivo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-230">Limit the size of each partition so that the query response time is within target.</span></span>
   * <span data-ttu-id="0d2a5-231">Si usa la creación de particiones horizontales, diseñe la clave de partición de manera que la aplicación pueda seleccionar fácilmente la partición correcta.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-231">If you use horizontal partitioning, design the shard key so that the application can easily select the right partition.</span></span> <span data-ttu-id="0d2a5-232">Esto evita que la consulta tenga que examinar cada partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-232">This prevents the query from having to scan through every partition.</span></span>
   * <span data-ttu-id="0d2a5-233">Considerar la ubicación de una partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-233">Consider the location of a partition.</span></span> <span data-ttu-id="0d2a5-234">Si es posible, intente mantener los datos en particiones que estén geográficamente cerca de las aplicaciones y los usuarios que acceden a ellos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-234">If possible, try to keep data in partitions that are geographically close to the applications and users that access it.</span></span>

3. <span data-ttu-id="0d2a5-235">Si una entidad tiene requisitos de rendimiento y de rendimiento de consultas, use la creación de particiones funcional basada en esa entidad.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-235">If an entity has throughput and query performance requirements, use functional partitioning based on that entity.</span></span> <span data-ttu-id="0d2a5-236">Si esto todavía no logra satisfacer los requisitos, aplique también la creación de particiones horizontal.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-236">If this still doesn't satisfy the requirements, apply horizontal partitioning as well.</span></span> <span data-ttu-id="0d2a5-237">En la mayoría de los casos bastará una estrategia de partición única, pero en algunos casos, resulta más eficaz combinar ambas estrategias.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-237">In most cases a single partitioning strategy will suffice, but in some cases it is more efficient to combine both strategies.</span></span>

4. <span data-ttu-id="0d2a5-238">Considere la posibilidad de ejecutar consultas en paralelo entre las particiones para mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-238">Consider running queries in parallel across partitions to improve performance.</span></span>

## <a name="designing-partitions-for-availability"></a><span data-ttu-id="0d2a5-239">Diseño de particiones para obtener disponibilidad</span><span class="sxs-lookup"><span data-stu-id="0d2a5-239">Designing partitions for availability</span></span>
<span data-ttu-id="0d2a5-240">Crear particiones de datos puede mejorar la disponibilidad de aplicaciones asegurándose de que todo el conjunto de datos no constituye un punto de error único y que subconjuntos individuales del conjunto de datos pueden administrarse de forma independiente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-240">Partitioning data can improve the availability of applications by ensuring that the entire dataset does not constitute a single point of failure and that individual subsets of the dataset can be managed independently.</span></span> 

<span data-ttu-id="0d2a5-241">Tenga en cuenta los siguientes factores que afectan a la disponibilidad:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-241">Consider the following factors that affect availability:</span></span>

<span data-ttu-id="0d2a5-242">**Lo importante que son los datos para las operaciones empresariales**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-242">**How critical the data is to business operations**.</span></span> <span data-ttu-id="0d2a5-243">Identifique qué datos son información empresarial crítica, como las transacciones, y cuáles son datos operativos menos importantes, como los archivos de registro.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-243">Identify which data is critical business information, such as transactions, and which data is less critical operational data, such as log files.</span></span>

* <span data-ttu-id="0d2a5-244">Considere la posibilidad de almacenar los datos críticos en particiones de alta disponibilidad con un plan de copia de seguridad adecuado.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-244">Consider storing critical data in highly-available partitions with an appropriate backup plan.</span></span>
* <span data-ttu-id="0d2a5-245">Establezca procedimientos de supervisión y administración separados para los diferentes conjuntos de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-245">Establish separate management and monitoring procedures for the different datasets.</span></span> 
* <span data-ttu-id="0d2a5-246">Coloque los datos con el mismo nivel de importancia en la misma partición para que pueda efectuar una copia de seguridad de estos conjuntamente con una frecuencia adecuada.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-246">Place data that has the same level of criticality in the same partition so that it can be backed up together at an appropriate frequency.</span></span> <span data-ttu-id="0d2a5-247">Por ejemplo, es posible que las particiones que contienen datos de transacciones bancarias necesiten copias de seguridad con más frecuencia que las que contienen información de seguimiento o de registro.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-247">For example, partitions that hold transaction data might need to be backed up more frequently than partitions that hold logging or trace information.</span></span>

<span data-ttu-id="0d2a5-248">**La manera de administrar particiones individuales**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-248">**How individual partitions can be managed**.</span></span> <span data-ttu-id="0d2a5-249">Diseñar particiones para admitir el mantenimiento y administración independientes ofrece varias ventajas.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-249">Designing partitions to support independent management and maintenance provides several advantages.</span></span> <span data-ttu-id="0d2a5-250">Por ejemplo: </span><span class="sxs-lookup"><span data-stu-id="0d2a5-250">For example:</span></span>

* <span data-ttu-id="0d2a5-251">Si se produce un error en una partición, puede recuperarse de forma independiente sin aplicaciones que accedan a los datos de otras particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-251">If a partition fails, it can be recovered independently without applications that access data in other partitions.</span></span>
* <span data-ttu-id="0d2a5-252">Es posible que la creación de particiones de datos por área geográfica permita la realización de tareas de mantenimiento programadas en horas de poco tráfico para cada ubicación.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-252">Partitioning data by geographical area allows scheduled maintenance tasks to occur at off-peak hours for each location.</span></span> <span data-ttu-id="0d2a5-253">Asegúrese de que las particiones no sean demasiado grandes para evitar que se complete cualquier tarea de mantenimiento planeada durante este período.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-253">Ensure that partitions are not too big to prevent any planned maintenance from being completed during this period.</span></span>

<span data-ttu-id="0d2a5-254">**Si va a replicar datos críticos en particiones**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-254">**Whether to replicate critical data across partitions**.</span></span> <span data-ttu-id="0d2a5-255">Esta estrategia puede mejorar la disponibilidad y el rendimiento, pero también puede originar problemas de coherencia.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-255">This strategy can improve availability and performance, but can also introduce consistency issues.</span></span> <span data-ttu-id="0d2a5-256">Se tarda un tiempo en sincronizar los cambios con cada réplica.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-256">It takes time to synchronize changes with every replica.</span></span> <span data-ttu-id="0d2a5-257">Durante este período, diferentes particiones contendrán diferentes valores de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-257">During this period, different partitions will contain different data values.</span></span>

## <a name="application-design-considerations"></a><span data-ttu-id="0d2a5-258">Consideraciones sobre el diseño de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="0d2a5-258">Application design considerations</span></span>

<span data-ttu-id="0d2a5-259">La creación de particiones agrega complejidad al diseño y desarrollo del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-259">Partitioning adds complexity to the design and development of your system.</span></span> <span data-ttu-id="0d2a5-260">Considere la creación de particiones como una parte fundamental del diseño del sistema, incluso si el sistema contiene una única partición inicialmente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-260">Consider partitioning as a fundamental part of system design even if the system initially only contains a single partition.</span></span> <span data-ttu-id="0d2a5-261">Si realiza la creación de particiones a posteriori, será más difícil porque ya tiene un sistema activo que mantener:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-261">If you address partitioning as an afterthought, it will be more challenging because you already have a live system to maintain:</span></span>

- <span data-ttu-id="0d2a5-262">La lógica de acceso a los datos tendrá que modificarse.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-262">Data access logic will need to be modified.</span></span> 
- <span data-ttu-id="0d2a5-263">Es posible que deban migrarse, grandes cantidades de datos para distribuirlas entre las particiones</span><span class="sxs-lookup"><span data-stu-id="0d2a5-263">Large quantities of existing data may need to be migrated, to distribute it across partitions</span></span>
- <span data-ttu-id="0d2a5-264">Los usuarios esperan poder seguir usando el sistema durante la migración.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-264">Users expect to be able to continue using the system during the migration.</span></span>

<span data-ttu-id="0d2a5-265">En algunos casos, la creación de particiones no se considera importante porque el conjunto de datos inicial es pequeño y puede controlarse fácilmente mediante un solo servidor.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-265">In some cases, partitioning is not considered important because the initial dataset is small and can be easily handled by a single server.</span></span> <span data-ttu-id="0d2a5-266">Esto puede suceder en algunas cargas de trabajo, pero muchos sistemas comerciales necesitan expandirse a medida que aumenta el número de usuarios.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-266">This might be true for some workloads, but many commercial systems need to expand as the number of users increases.</span></span> 

<span data-ttu-id="0d2a5-267">Además, los almacenes de datos grandes no son los únicos que se benefician de la creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-267">Moreover, it's not only large data stores that benefit from partitioning.</span></span> <span data-ttu-id="0d2a5-268">Por ejemplo, es posible que cientos de clientes accedan de manera intensa a un almacén de datos pequeño a la vez.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-268">For example, a small data store might be heavily accessed by hundreds of concurrent clients.</span></span> <span data-ttu-id="0d2a5-269">Crear particiones de los datos en esta situación puede ayudar a reducir la contención y a mejorar el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-269">Partitioning the data in this situation can help to reduce contention and improve throughput.</span></span>

<span data-ttu-id="0d2a5-270">Tenga en cuenta los siguientes puntos cuando se diseña un esquema de partición de datos:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-270">Consider the following points when you design a data partitioning scheme:</span></span>

<span data-ttu-id="0d2a5-271">**Minimice las operaciones de acceso de datos entre particiones**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-271">**Minimize cross-partition data access operations**.</span></span> <span data-ttu-id="0d2a5-272">Siempre que sea posible, conserve los datos de las operaciones de base de datos más habituales juntos en cada partición para minimizar las operaciones de acceso a datos entre particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-272">Where possible, keep data for the most common database operations together in each partition to minimize cross-partition data access operations.</span></span> <span data-ttu-id="0d2a5-273">La realización de consultas en varias particiones puede ser un proceso más largo que hacerlo en una sola partición, pero la optimización de particiones para un conjunto de consultas puede afectar negativamente a otros conjuntos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-273">Querying across partitions can be more time-consuming than querying within a single partition, but optimizing partitions for one set of queries might adversely affect other sets of queries.</span></span> <span data-ttu-id="0d2a5-274">Si debe realizar consultas en varias particiones, reduzca el tiempo de consulta mediante la ejecución de consultas en paralelo y la adición de los resultados en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-274">If you must query across partitions, minimize query time by running parallel queries and aggregating the results within the application.</span></span> <span data-ttu-id="0d2a5-275">(puede que este enfoque podría no sea posible en algunos casos, como cuando el resultado de una consulta se usa en la siguiente).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-275">(This approach might not be possible in some cases, such as when the result from one query is used in the next query.)</span></span>

<span data-ttu-id="0d2a5-276">**Considere la posibilidad de replicar los datos de referencia estáticos.**</span><span class="sxs-lookup"><span data-stu-id="0d2a5-276">**Consider replicating static reference data.**</span></span> <span data-ttu-id="0d2a5-277">Si las consultas usan datos de referencia relativamente estáticos, como tablas de códigos postales o listas de productos, considere la posibilidad de replicarlos en todas las particiones para reducir la realización de diferentes operaciones de búsqueda en las distintas particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-277">If queries use relatively static reference data, such as postal code tables or product lists, consider replicating this data in all of the partitions to reduce separate lookup operations in different partitions.</span></span> <span data-ttu-id="0d2a5-278">Este enfoque también puede reducir la probabilidad de que los datos de referencia se conviertan en un conjunto de datos excesivamente activo con un tráfico intenso desde las diferentes partes del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-278">This approach can also reduce the likelihood of the reference data becoming a "hot" dataset, with heavy traffic from across the entire system.</span></span> <span data-ttu-id="0d2a5-279">Sin embargo, la sincronización de cualquier cambio en los datos de referencia supone un costo adicional.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-279">However, there is an additional cost associated with synchronizing any changes to the reference data.</span></span>

<span data-ttu-id="0d2a5-280">**Minimice las combinaciones entre particiones.**</span><span class="sxs-lookup"><span data-stu-id="0d2a5-280">**Minimize cross-partition joins.**</span></span> <span data-ttu-id="0d2a5-281">Siempre que sea posible, minimice los requisitos de integridad referencial en las particiones verticales y funcionales.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-281">Where possible, minimize requirements for referential integrity across vertical and functional partitions.</span></span> <span data-ttu-id="0d2a5-282">En estos esquemas, la aplicación es responsable de mantener la integridad referencial entre las particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-282">In these schemes, the application is responsible for maintaining referential integrity across partitions.</span></span> <span data-ttu-id="0d2a5-283">Las consultas que combinan no son eficaces, ya que la aplicación normalmente necesita realizar consultas consecutivas basadas en una clave y, luego, en una clave externa.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-283">Queries that join data across multiple partitions are inefficient because the application typically needs to perform consecutive queries based on a key and then a foreign key.</span></span> <span data-ttu-id="0d2a5-284">En su lugar, considere la posibilidad de replicar o anular la normalización de los datos pertinentes.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-284">Instead, consider replicating or de-normalizing the relevant data.</span></span> <span data-ttu-id="0d2a5-285">Si las combinaciones entre particiones son necesarias, ejecute consultas en paralelo en las particiones y combine los datos dentro de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-285">If cross-partition joins are necessary, run parallel queries over the partitions and join the data within the application.</span></span>

<span data-ttu-id="0d2a5-286">**Adoptar coherencia definitiva**</span><span class="sxs-lookup"><span data-stu-id="0d2a5-286">**Embrace eventual consistency**.</span></span> <span data-ttu-id="0d2a5-287">Evalúe si realmente es necesaria una alta coherencia.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-287">Evaluate whether strong consistency is actually a requirement.</span></span> <span data-ttu-id="0d2a5-288">Un enfoque común en los sistemas distribuidos es implementar la coherencia eventual.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-288">A common approach in distributed systems is to implement eventual consistency.</span></span> <span data-ttu-id="0d2a5-289">Los datos de cada partición se actualizan por separado, y la lógica de aplicación garantiza que todas las actualizaciones se completen correctamente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-289">The data in each partition is updated separately, and the application logic ensures that the updates are all completed successfully.</span></span> <span data-ttu-id="0d2a5-290">También controla las incoherencias que pueden surgir de la consulta de datos mientras se esté ejecutando una operación finalmente coherente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-290">It also handles the inconsistencies that can arise from querying data while an eventually consistent operation is running.</span></span> 

<span data-ttu-id="0d2a5-291">**Tenga en cuenta cómo buscan las consultas la partición correcta**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-291">**Consider how queries locate the correct partition**.</span></span> <span data-ttu-id="0d2a5-292">Si una consulta debe analizar todas las particiones para localizar los datos necesarios, habrá un impacto significativo en el rendimiento, incluso cuando se ejecuten varias consultas en paralelo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-292">If a query must scan all partitions to locate the required data, there is a significant impact on performance, even when multiple parallel queries are running.</span></span> <span data-ttu-id="0d2a5-293">Con la creación de particiones verticales y funcionales, las consultas pueden especificar la partición de manera natural.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-293">With vertical and functional partitioning, queries can naturally specify the partition.</span></span> <span data-ttu-id="0d2a5-294">Por otra parte, la creación de partición horizontal puede dificultar la búsqueda de elementos, ya que todas las particiones tienen el mismo esquema.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-294">Horizontal partitioning, on the other hand, can make locating an item difficult, because every shard has the same schema.</span></span> <span data-ttu-id="0d2a5-295">Una solución típica para mantener una asignación que se usa para buscar la ubicación de la partición para elementos concretos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-295">A typical solution to maintain a map that is used to look up the shard location for specific items.</span></span> <span data-ttu-id="0d2a5-296">Esta asignación puede implementarse en la lógica de particionamiento de la aplicación o mantenerse por el almacén de datos si admite el particionamiento transparente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-296">This map can be implemented in the sharding logic of the application, or maintained by the data store if it supports transparent sharding.</span></span>

<span data-ttu-id="0d2a5-297">**Considere la posibilidad de reequilibrar periódicamente las particiones**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-297">**Consider periodically rebalancing shards**.</span></span> <span data-ttu-id="0d2a5-298">Con la creación de particiones horizontales, el reequilibrado de particiones puede ayudar a distribuir los datos uniformemente por tamaño y por carga de trabajo para minimizar las zonas excesivamente activas, maximizar el rendimiento de las consultas y evitar las limitaciones de almacenamiento físico.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-298">With horizontal partitioning, rebalancing shards can help distribute the data evenly by size and by workload to minimize hotspots, maximize query performance, and work around physical storage limitations.</span></span> <span data-ttu-id="0d2a5-299">Sin embargo, esta es una tarea compleja que requiere a menudo el uso de una herramienta personalizada o un proceso.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-299">However, this is a complex task that often requires the use of a custom tool or process.</span></span> 

<span data-ttu-id="0d2a5-300">**Replique las particiones.**</span><span class="sxs-lookup"><span data-stu-id="0d2a5-300">**Replicate partitions.**</span></span> <span data-ttu-id="0d2a5-301">Si replica todas las particiones, se proporciona protección adicional frente a errores.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-301">If you replicate each partition, it provides additional protection against failure.</span></span> <span data-ttu-id="0d2a5-302">Si se produce un error en una única réplica, las consultas se pueden dirigir hacia una copia de trabajo.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-302">If a single replica fails, queries can be directed towards a working copy.</span></span>

<span data-ttu-id="0d2a5-303">**Si se alcanzan los límites físicos de una estrategia de creación de particiones, es posible que necesite ampliar la escalabilidad a un nivel diferente**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-303">**If you reach the physical limits of a partitioning strategy, you might need to extend the scalability to a different level**.</span></span> <span data-ttu-id="0d2a5-304">Por ejemplo, si la creación de particiones se produce en el nivel de base de datos, puede que tenga que buscar o replicar las particiones en varias bases de datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-304">For example, if partitioning is at the database level, you might need to locate or replicate partitions in multiple databases.</span></span> <span data-ttu-id="0d2a5-305">Si la creación de particiones ya está al nivel de la base de datos y las limitaciones físicas son un problema, quizá tenga que ubicar o replicar particiones en varias cuentas de hospedaje.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-305">If partitioning is already at the database level, and physical limitations are an issue, it might mean that you need to locate or replicate partitions in multiple hosting accounts.</span></span>

<span data-ttu-id="0d2a5-306">**Evite las transacciones que accedan a datos en varias particiones**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-306">**Avoid transactions that access data in multiple partitions**.</span></span> <span data-ttu-id="0d2a5-307">Algunos almacenes de datos implementan la coherencia transaccional y la integridad de las operaciones que modifican datos, pero solo cuando los datos se encuentran en una sola partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-307">Some data stores implement transactional consistency and integrity for operations that modify data, but only when the data is located in a single partition.</span></span> <span data-ttu-id="0d2a5-308">Si necesita compatibilidad transaccional en varias particiones, probablemente necesitará implementar esto como parte de la lógica de la aplicación, porque la mayoría de los sistemas de creación de particiones no proporcionan compatibilidad nativa.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-308">If you need transactional support across multiple partitions, you will probably need to implement this as part of your application logic because most partitioning systems do not provide native support.</span></span>

<span data-ttu-id="0d2a5-309">Todos los almacenes de datos requieren algunas operaciones de administración operativa y de supervisión de las actividades.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-309">All data stores require some operational management and monitoring activity.</span></span> <span data-ttu-id="0d2a5-310">Las tareas pueden oscilar entre la carga de datos, la realización de copias de seguridad y la restauración de datos, la reorganización de datos y asegurarse de que el sistema funciona de manera correcta y eficaz.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-310">The tasks can range from loading data, backing up and restoring data, reorganizing data, and ensuring that the system is performing correctly and efficiently.</span></span>

<span data-ttu-id="0d2a5-311">Tenga en cuenta los siguientes factores que afectan a la administración operativa:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-311">Consider the following factors that affect operational management:</span></span>

* <span data-ttu-id="0d2a5-312">**Cómo implementar las tareas operativas y de administración adecuadas cuando se crean particiones en los datos**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-312">**How to implement appropriate management and operational tasks when the data is partitioned**.</span></span> <span data-ttu-id="0d2a5-313">Estas tareas pueden incluir la realización de copias de seguridad y su restauración, el archivado de datos, la supervisión del sistema y otras tareas administrativas.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-313">These tasks might include backup and restore, archiving data, monitoring the system, and other administrative tasks.</span></span> <span data-ttu-id="0d2a5-314">Por ejemplo, mantener la coherencia lógica durante las operaciones de copia de seguridad y restauración puede ser un desafío.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-314">For example, maintaining logical consistency during backup and restore operations can be a challenge.</span></span>
* <span data-ttu-id="0d2a5-315">**Cómo cargar los datos en varias particiones y agregar datos nuevos que llegan desde otros orígenes**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-315">**How to load the data into multiple partitions and add new data that's arriving from other sources**.</span></span> <span data-ttu-id="0d2a5-316">Algunas herramientas y utilidades podrían no admitir operaciones de datos con particiones, como la carga de datos en la partición correcta.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-316">Some tools and utilities might not support sharded data operations such as loading data into the correct partition.</span></span> 
* <span data-ttu-id="0d2a5-317">**Cómo archivar y eliminar los datos de forma periódica**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-317">**How to archive and delete the data on a regular basis**.</span></span> <span data-ttu-id="0d2a5-318">Para evitar un aumento excesivo de las particiones, debe archivar y eliminar datos de forma regular (quizás mensualmente).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-318">To prevent the excessive growth of partitions, you need to archive and delete data on a regular basis (perhaps monthly).</span></span> <span data-ttu-id="0d2a5-319">Puede ser necesario transformar los datos para que se adapten a un esquema de almacenamiento diferente.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-319">It might be necessary to transform the data to match a different archive schema.</span></span>
* <span data-ttu-id="0d2a5-320">**Cómo localizar problemas de integridad de datos**.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-320">**How to locate data integrity issues**.</span></span> <span data-ttu-id="0d2a5-321">Considere la posibilidad de ejecutar un proceso periódico para localizar cualquier problema de integridad de datos; por ejemplo, la existencia de datos en una partición que hacen referencia a una información que falta en otra.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-321">Consider running a periodic process to locate any data integrity issues, such as data in one partition that references missing information in another.</span></span> <span data-ttu-id="0d2a5-322">El proceso puede intentar corregir estos problemas automáticamente o simplemente generar un informe para su revisión manual.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-322">The process can either attempt to fix these issues automatically or simply generate a report for manual review.</span></span> 

## <a name="rebalancing-partitions"></a><span data-ttu-id="0d2a5-323">Reequilibrio de particiones</span><span class="sxs-lookup"><span data-stu-id="0d2a5-323">Rebalancing partitions</span></span>

<span data-ttu-id="0d2a5-324">Cuando un sistema madure es posible que tenga que ajustar el esquema de partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-324">As a system matures, you might have to adjust the partitioning scheme.</span></span> <span data-ttu-id="0d2a5-325">Por ejemplo, las particiones individuales pueden empezar a recibir un volumen de tráfico desproporcionado y ser demasiado activas, lo que provocaría una contención excesiva.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-325">For example, individual partitions might start get a disproportionate volume of traffic and become hot, leading to excessive contention.</span></span> <span data-ttu-id="0d2a5-326">O bien, es posible que haya subestimado el volumen de datos de algunas particiones, lo que provoca que varias se aproximen a su límite de capacidad.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-326">Or you might have underestimated the volume of data in some partitions, causing some partitions to approach capacity limits.</span></span> 

<span data-ttu-id="0d2a5-327">Algunos almacenes de datos, como Cosmos DB, pueden reequilibrar automáticamente las particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-327">Some data stores, such as Cosmos DB, can automatically rebalance partitions.</span></span> <span data-ttu-id="0d2a5-328">En otros casos, el reequilibrio es una tarea administrativa que consta de dos fases:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-328">In other cases, rebalancing is an administrative task that consists of two stages:</span></span>

1. <span data-ttu-id="0d2a5-329">Determine una nueva estrategia de creación de particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-329">Determine a new partitioning strategy.</span></span> 

    - <span data-ttu-id="0d2a5-330">¿Qué particiones se deben dividir (o posiblemente combinar)?</span><span class="sxs-lookup"><span data-stu-id="0d2a5-330">Which partitions need to be split (or possibly combined)?</span></span> 
    - <span data-ttu-id="0d2a5-331">¿Cuál es la nueva clave de partición?</span><span class="sxs-lookup"><span data-stu-id="0d2a5-331">What is the new partition key?</span></span>

2. <span data-ttu-id="0d2a5-332">Migre los datos del esquema de partición antiguo al nuevo conjunto de particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-332">Migrate data from the old partitioning scheme to the new set of partitions.</span></span>

<span data-ttu-id="0d2a5-333">En función del almacén de datos, puede migrar datos entre particiones mientras estén en uso.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-333">Depending on the data store, you might be able to migrate data between partitions while they are in use.</span></span> <span data-ttu-id="0d2a5-334">Esto se denomina *migración en línea*.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-334">This is called *online migration*.</span></span> <span data-ttu-id="0d2a5-335">Si esto no es posible, es posible que tenga que anular la disponibilidad de las particiones mientras se cambia la ubicación de los datos (*migración sin conexión*).</span><span class="sxs-lookup"><span data-stu-id="0d2a5-335">If that's not possible, you might need to make partitions unavailable while the data is relocated (*offline migration*).</span></span>

### <a name="offline-migration"></a><span data-ttu-id="0d2a5-336">Migración sin conexión</span><span class="sxs-lookup"><span data-stu-id="0d2a5-336">Offline migration</span></span>

<span data-ttu-id="0d2a5-337">La migración sin conexión suele ser más sencilla, ya que reduce las posibilidades de que se produzca contención.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-337">Offline migration is generally simpler, because it reduces the chances of contention occurring.</span></span> <span data-ttu-id="0d2a5-338">Conceptualmente, la migración sin conexión funciona del siguiente modo:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-338">Conceptually, offline migration works as follows:</span></span>

1. <span data-ttu-id="0d2a5-339">Marcar la partición sin conexión.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-339">Mark the partition offline.</span></span>
2. <span data-ttu-id="0d2a5-340">Dividir, combinar y mover los datos a las nuevas particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-340">Split-merge and move the data to the new partitions.</span></span>
3. <span data-ttu-id="0d2a5-341">Comprobar los datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-341">Verify the data.</span></span>
4. <span data-ttu-id="0d2a5-342">Conectar las nuevas particiones.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-342">Bring the new partitions online.</span></span>
5. <span data-ttu-id="0d2a5-343">Quitar la partición antigua.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-343">Remove the old partition.</span></span>

<span data-ttu-id="0d2a5-344">Si lo desea, puede marcar una partición como de solo lectura en el paso 1, para que las aplicaciones pueden leer los datos mientras se mueven.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-344">Optionally, you can mark a partition as read-only in step 1, so that applications can still read the data while it is being moved.</span></span>

## <a name="online-migration"></a><span data-ttu-id="0d2a5-345">Migración en línea</span><span class="sxs-lookup"><span data-stu-id="0d2a5-345">Online migration</span></span>

<span data-ttu-id="0d2a5-346">La migración en línea es más difícil de realizar, pero menos problemática.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-346">Online migration is more complex to perform but less disruptive.</span></span> <span data-ttu-id="0d2a5-347">El proceso es similar a la migración sin conexión, salvo que la partición original no se marca como sin conexión.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-347">The process is similar to offline migration, except the original partition is not marked offline.</span></span> <span data-ttu-id="0d2a5-348">En función de la granularidad del proceso de migración (por ejemplo, elemento por elemento frente a partición por partición), es posible que el código de acceso a datos de las aplicaciones cliente tenga que controlar la lectura y escritura de los datos que se encuentran en dos ubicaciones, la partición original y la nueva partición.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-348">Depending on the granularity of the migration process (for example, item by item versus shard by shard), the data access code in the client applications might have to handle reading and writing data that's held in two locations, the original partition and the new partition.</span></span>

## <a name="related-patterns"></a><span data-ttu-id="0d2a5-349">Patrones relacionados</span><span class="sxs-lookup"><span data-stu-id="0d2a5-349">Related patterns</span></span> 

<span data-ttu-id="0d2a5-350">Los siguientes patrones de diseño pueden ser importantes para su escenario:</span><span class="sxs-lookup"><span data-stu-id="0d2a5-350">The following design patterns might be relevant to your scenario:</span></span>

* <span data-ttu-id="0d2a5-351">El [Sharding pattern] describe algunas estrategias comunes para los datos de particionamiento.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-351">The [sharding pattern] describes some common strategies for sharding data.</span></span>
* <span data-ttu-id="0d2a5-352">El [patrón de tabla de índice] muestra cómo crear índices secundarios de los datos.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-352">The [index table pattern] shows how to create secondary indexes over data.</span></span> <span data-ttu-id="0d2a5-353">Con este enfoque, una aplicación puede recuperar rápidamente los datos mediante el uso de consultas que no hacen referencia a la clave principal de una colección.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-353">An application can quickly retrieve data with this approach, by using queries that do not reference the primary key of a collection.</span></span>
* <span data-ttu-id="0d2a5-354">El [Materialized View Pattern] describe cómo generar vistas rellenadas previamente que resuman los datos para dar soporte a las operaciones de consulta rápida.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-354">The [materialized view pattern] describes how to generate pre-populated views that summarize data to support fast query operations.</span></span> <span data-ttu-id="0d2a5-355">Este enfoque puede ser útil en un almacén de datos con particiones si las particiones que contienen los datos que se resumen se distribuyen entre varios sitios.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-355">This approach can be useful in a partitioned data store if the partitions that contain the data being summarized are distributed across multiple sites.</span></span>

## <a name="next-steps"></a><span data-ttu-id="0d2a5-356">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="0d2a5-356">Next steps</span></span>

- <span data-ttu-id="0d2a5-357">Obtenga información acerca de las estrategias de creación de particiones de servicios concretos de Azure.</span><span class="sxs-lookup"><span data-stu-id="0d2a5-357">Learn about partitioning strategies for specific Azure services.</span></span> <span data-ttu-id="0d2a5-358">Consulte [Estrategias de creación de particiones de datos](./data-partitioning-strategies.md)</span><span class="sxs-lookup"><span data-stu-id="0d2a5-358">See [Data partitioning strategies](./data-partitioning-strategies.md)</span></span>

[Objetivos de escalabilidad y rendimiento de Azure Storage]: /azure/storage/storage-scalability-targets
[Azure Storage Scalability and Performance Targets]: /azure/storage/storage-scalability-targets
[patrón de tabla de índice]: ../patterns/index-table.md
[Index Table Pattern]: ../patterns/index-table.md
[Materialized View Pattern]: ../patterns/materialized-view.md
[Sharding pattern]: ../patterns/sharding.md
