---
title: Orientación sobre Content Delivery Network
titleSuffix: Best practices for cloud applications
description: Orientación sobre el uso de Content Delivery Network (CDN) para entregar contenido de alto ancho de banda hospedado en Azure.
author: dragon119
ms.date: 02/02/2018
ms.custom: seodec18
ms.openlocfilehash: 5fb3ac17833a2399bb73e9cc7064651090ac7ee1
ms.sourcegitcommit: 4ba3304eebaa8c493c3e5307bdd9d723cd90b655
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/12/2018
ms.locfileid: "53307211"
---
# <a name="content-delivery-networks-cdns"></a><span data-ttu-id="b1f30-103">Redes de entrega de contenido</span><span class="sxs-lookup"><span data-stu-id="b1f30-103">Content delivery networks (CDNs)</span></span>

<span data-ttu-id="b1f30-104">Una red de entrega de contenido (CDN) es una red distribuida de servidores que puede proporcionar contenido web a los usuarios de manera eficaz.</span><span class="sxs-lookup"><span data-stu-id="b1f30-104">A content delivery network (CDN) is a distributed network of servers that can efficiently deliver web content to users.</span></span> <span data-ttu-id="b1f30-105">Las redes CDN guardan contenido almacenado en caché en servidores perimetrales que están cerca de los usuarios finales, para minimizar la latencia.</span><span class="sxs-lookup"><span data-stu-id="b1f30-105">CDNs store cached content on edge servers that are close to end-users, to minimize latency.</span></span>

<span data-ttu-id="b1f30-106">Las redes CDN se suelen usar para proporcionar contenido estático, como imágenes, hojas de estilo, documentos, scripts del lado cliente y páginas HTML.</span><span class="sxs-lookup"><span data-stu-id="b1f30-106">CDNs are typically used to deliver static content such as images, style sheets, documents, client-side scripts, and HTML pages.</span></span> <span data-ttu-id="b1f30-107">Las principales ventajas de usar una red CDN son una menor latencia y una entrega de contenido más rápida a los usuarios, independientemente de su ubicación geográfica en relación con el centro de datos en que se hospeda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-107">The major advantages of using a CDN are lower latency and faster delivery of content to users, regardless of their geographical location in relation to the datacenter where the application is hosted.</span></span> <span data-ttu-id="b1f30-108">Las redes CDN también pueden ayudar a reducir la carga de una aplicación web, ya que la aplicación no tiene que atender las solicitudes para el contenido que se hospeda en la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-108">CDNs can also help to reduce load on a web application, because the application does not have to service requests for the content that is hosted in the CDN.</span></span>

![Diagrama de la red CDN](./images/cdn/CDN.png)

<span data-ttu-id="b1f30-110">En Azure, [Azure Content Delivery Network](/azure/cdn/cdn-overview) es una solución de CDN global que proporciona contenido con un ancho de banda alto hospedado en Azure o en cualquier otra ubicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-110">In Azure, the [Azure Content Delivery Network](/azure/cdn/cdn-overview) is a global CDN solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="b1f30-111">Mediante Azure CDN puede almacenar en caché objetos disponibles públicamente cargados desde Azure Blob Storage, una aplicación web, una máquina virtual o cualquier servidor web accesible de forma pública.</span><span class="sxs-lookup"><span data-stu-id="b1f30-111">Using Azure CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, any publicly accessible web server.</span></span>

<span data-ttu-id="b1f30-112">En este tema se describen algunos procedimientos recomendados y consideraciones generales cuando se usa una red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-112">This topic describes some general best practices and considerations when using a CDN.</span></span> <span data-ttu-id="b1f30-113">Para más información, consulte [Azure CDN](/azure/cdn/).</span><span class="sxs-lookup"><span data-stu-id="b1f30-113">For more information, see [Azure CDN](/azure/cdn/).</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="b1f30-114">Cómo y por qué se usa una red CDN</span><span class="sxs-lookup"><span data-stu-id="b1f30-114">How and why a CDN is used</span></span>

<span data-ttu-id="b1f30-115">Entre los usos típicos de la red CDN se incluyen:</span><span class="sxs-lookup"><span data-stu-id="b1f30-115">Typical uses for a CDN include:</span></span>  

- <span data-ttu-id="b1f30-116">La entrega de recursos estáticos para aplicaciones cliente, a menudo desde un sitio web.</span><span class="sxs-lookup"><span data-stu-id="b1f30-116">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="b1f30-117">Dichos recursos pueden ser imágenes, hojas de estilo, documentos, archivos, scripts de cliente, páginas HTML, fragmentos de HTML o cualquier otro contenido que el servidor no necesite modificar para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="b1f30-117">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="b1f30-118">La aplicación puede crear elementos en tiempo de ejecución y ponerlos a disposición de la red CDN (por ejemplo, mediante la creación de una lista de los titulares más recientes), pero no lo hace para cada solicitud.</span><span class="sxs-lookup"><span data-stu-id="b1f30-118">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>

- <span data-ttu-id="b1f30-119">Entrega de contenido compartido y estático público a dispositivos como teléfonos móviles y Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="b1f30-119">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="b1f30-120">La propia aplicación es un servicio web que ofrece una API a los clientes que se ejecutan en los distintos dispositivos.</span><span class="sxs-lookup"><span data-stu-id="b1f30-120">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="b1f30-121">La red CDN también puede ofrecer conjuntos de datos estáticos (mediante el servicio web) para que los clientes los usen, quizás para generar la interfaz de usuario del cliente.</span><span class="sxs-lookup"><span data-stu-id="b1f30-121">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="b1f30-122">Por ejemplo, la red CDN se puede usar para distribuir documentos JSON o XML.</span><span class="sxs-lookup"><span data-stu-id="b1f30-122">For example, the CDN could be used to distribute JSON or XML documents.</span></span>

- <span data-ttu-id="b1f30-123">La prestación de servicio de sitios web completos que constan únicamente de contenido público estático que se entrega a los clientes, sin necesidad de disponer de recursos de proceso dedicados.</span><span class="sxs-lookup"><span data-stu-id="b1f30-123">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>

- <span data-ttu-id="b1f30-124">El streaming de archivos de vídeo en el cliente a petición.</span><span class="sxs-lookup"><span data-stu-id="b1f30-124">Streaming video files to the client on demand.</span></span> <span data-ttu-id="b1f30-125">El vídeo aprovecha la latencia baja y una conectividad confiable disponible en los centros de datos distribuidos en todo el mundo que ofrecen conexiones de red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-125">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="b1f30-126">Microsoft Azure Media Services (AMS) se integra con Azure CDN para entregar contenido directamente a la red CDN para su distribución posterior.</span><span class="sxs-lookup"><span data-stu-id="b1f30-126">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="b1f30-127">Para obtener más información, consulte [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview) (Información general de puntos de conexión de streaming).</span><span class="sxs-lookup"><span data-stu-id="b1f30-127">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>

- <span data-ttu-id="b1f30-128">Por lo general, esto mejora la experiencia de los usuarios, sobre todo la de los que están lejos del centro de datos que hospeda la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-128">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="b1f30-129">De lo contrario, dichos usuarios podrían sufrir una mayor latencia.</span><span class="sxs-lookup"><span data-stu-id="b1f30-129">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="b1f30-130">Una gran parte del tamaño total del contenido de una aplicación web suele ser estática y el uso de la red CDN puede ayudar a mantener el rendimiento y la experiencia general del usuario al tiempo que elimina la necesidad de implementar la aplicación en varios centros de datos.</span><span class="sxs-lookup"><span data-stu-id="b1f30-130">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span> <span data-ttu-id="b1f30-131">Para una lista de ubicaciones de nodos de Azure CDN, consulte [Ubicaciones POP de Azure CDN](/azure/cdn/cdn-pop-locations/).</span><span class="sxs-lookup"><span data-stu-id="b1f30-131">For a list of Azure CDN node locations, see [Azure CDN POP Locations](/azure/cdn/cdn-pop-locations/).</span></span>

- <span data-ttu-id="b1f30-132">Compatibilidad de soluciones de IoT (Internet de las cosas).</span><span class="sxs-lookup"><span data-stu-id="b1f30-132">Supporting IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="b1f30-133">La enorme cantidad de dispositivos y aparatos que participan en una solución de IoT podría saturar fácilmente una aplicación si tuviera que distribuir actualizaciones de firmware directamente a cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b1f30-133">The huge numbers of devices and appliances involved in an IoT solution could easily overwhelm an application if it had to distribute firmware updates directly to each device.</span></span>

- <span data-ttu-id="b1f30-134">La capacidad de hacer frente a los picos y aumentos repentinos en la demanda sin que se sea preciso realizar ningún tipo de escalado, lo que evitar el consiguiente aumento de los gastos de mantenimiento.</span><span class="sxs-lookup"><span data-stu-id="b1f30-134">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="b1f30-135">Por ejemplo, cuando se publique una actualización del sistema operativo de un dispositivo de hardware (como un modelo específico de enrutador) o de un dispositivo de consumo (por ejemplo, un televisor inteligente), se producirá un importante pico en la demanda, ya que la descargarán millones de usuarios en millones de dispositivos en un breve período de tiempo.</span><span class="sxs-lookup"><span data-stu-id="b1f30-135">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

## <a name="challenges"></a><span data-ttu-id="b1f30-136">Desafíos</span><span class="sxs-lookup"><span data-stu-id="b1f30-136">Challenges</span></span>

<span data-ttu-id="b1f30-137">Hay varios desafíos que se deben tener en cuenta a la hora de usar una red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-137">There are several challenges to take into account when planning to use a CDN.</span></span>

- <span data-ttu-id="b1f30-138">**Implementación**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-138">**Deployment**.</span></span> <span data-ttu-id="b1f30-139">Decida el origen del que la red CDN obtendrá el contenido y si es preciso implementar el contenido en más de un sistema de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="b1f30-139">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system.</span></span> <span data-ttu-id="b1f30-140">Tenga en cuenta el proceso de implementación de contenido y de recursos estáticos.</span><span class="sxs-lookup"><span data-stu-id="b1f30-140">Take into account the process for deploying static content and resources.</span></span> <span data-ttu-id="b1f30-141">Por ejemplo, puede que necesite implementar un paso independiente para cargar el contenido en Almacenamiento de blobs de Azure.</span><span class="sxs-lookup"><span data-stu-id="b1f30-141">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>

- <span data-ttu-id="b1f30-142">**Control de versiones y control de caché**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-142">**Versioning and cache-control**.</span></span> <span data-ttu-id="b1f30-143">Debe tener en cuenta cómo va a actualizar el contenido estático y a implementar las nuevas versiones.</span><span class="sxs-lookup"><span data-stu-id="b1f30-143">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="b1f30-144">Entienda cómo ejecuta la red CDN el almacenamiento en caché y el período de vida (TTL).</span><span class="sxs-lookup"><span data-stu-id="b1f30-144">Understand how the CDN performs caching and time-to-live (TTL).</span></span> <span data-ttu-id="b1f30-145">Para Azure CDN, consulte [Cómo funciona el almacenamiento en caché](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="b1f30-145">For Azure CDN, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

- <span data-ttu-id="b1f30-146">**Prueba**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-146">**Testing**.</span></span> <span data-ttu-id="b1f30-147">Puede resultar difícil realizar pruebas locales de la configuración de la red CDN al desarrollar y probar una aplicación localmente o en un entorno de ensayo.</span><span class="sxs-lookup"><span data-stu-id="b1f30-147">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>

- <span data-ttu-id="b1f30-148">**Optimización del motor de búsqueda (SEO)**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-148">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="b1f30-149">Cierto contenido, como imágenes y documentos, se sirve desde un dominio diferente cuando se usa la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-149">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="b1f30-150">Esto puede tener un efecto en la SEO de dicho contenido.</span><span class="sxs-lookup"><span data-stu-id="b1f30-150">This can have an effect on SEO for this content.</span></span>

- <span data-ttu-id="b1f30-151">**Seguridad de contenido**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-151">**Content security**.</span></span> <span data-ttu-id="b1f30-152">No todas las redes CDN ofrecen formas de control de acceso para el contenido.</span><span class="sxs-lookup"><span data-stu-id="b1f30-152">Not all CDNs offer any form of access control for the content.</span></span> <span data-ttu-id="b1f30-153">Algunos servicios de redes CDN, incluida Azure CDN, admiten la autenticación basada en token para proteger el contenido de las redes CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-153">Some CDN services, including Azure CDN, support token-based authentication to protect CDN content.</span></span> <span data-ttu-id="b1f30-154">Para más información, consulte [Protección de recursos de Azure Content Delivery Network con la autenticación por tokens](/azure/cdn/cdn-token-auth).</span><span class="sxs-lookup"><span data-stu-id="b1f30-154">For more information, see [Securing Azure Content Delivery Network assets with token authentication](/azure/cdn/cdn-token-auth).</span></span>

- <span data-ttu-id="b1f30-155">**Seguridad de los clientes**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-155">**Client security**.</span></span> <span data-ttu-id="b1f30-156">Los clientes se pueden conectar desde un entorno que no permita el acceso a los recursos de la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-156">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="b1f30-157">Podría tratarse de un entorno con restricciones de seguridad que limita el acceso a un conjunto de orígenes conocidos o uno que impide la carga de recursos desde cualquier otra cosa que no sea el origen de la página.</span><span class="sxs-lookup"><span data-stu-id="b1f30-157">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="b1f30-158">Para tratar estos casos se requiere una implementación de reserva.</span><span class="sxs-lookup"><span data-stu-id="b1f30-158">A fallback implementation is required to handle these cases.</span></span>

- <span data-ttu-id="b1f30-159">**Resistencia**.</span><span class="sxs-lookup"><span data-stu-id="b1f30-159">**Resilience**.</span></span> <span data-ttu-id="b1f30-160">La red CDN es un potencial punto único de error de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-160">The CDN is a potential single point of failure for an application.</span></span>

<span data-ttu-id="b1f30-161">Escenarios donde puede resultar útil incluir la red CDN:</span><span class="sxs-lookup"><span data-stu-id="b1f30-161">Scenarios where CDN may be less useful include:</span></span>  

- <span data-ttu-id="b1f30-162">Si el contenido tiene una tasa de aciertos baja, solo se puede acceder a él pocas veces mientras sea válido (esto lo determina su período de vida).</span><span class="sxs-lookup"><span data-stu-id="b1f30-162">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span>

- <span data-ttu-id="b1f30-163">Si los datos son privados, como por ejemplo en grandes empresas o en ecosistemas de la cadena de suministros.</span><span class="sxs-lookup"><span data-stu-id="b1f30-163">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="b1f30-164">Directrices generales y prácticas recomendadas</span><span class="sxs-lookup"><span data-stu-id="b1f30-164">General guidelines and good practices</span></span>

<span data-ttu-id="b1f30-165">El uso de una red CDN es una buena manera de minimizar la carga en la aplicación, y de maximizar la disponibilidad y el rendimiento.</span><span class="sxs-lookup"><span data-stu-id="b1f30-165">Using a CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="b1f30-166">Considere la posibilidad de adoptar esta estrategia para todo el contenido adecuado y los recursos que usa la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-166">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="b1f30-167">Al diseñar la estrategia de uso de una red CDN, tenga en cuenta los puntos de las siguientes secciones.</span><span class="sxs-lookup"><span data-stu-id="b1f30-167">Consider the points in the following sections when designing your strategy to use a CDN.</span></span>

### <a name="deployment"></a><span data-ttu-id="b1f30-168">Implementación</span><span class="sxs-lookup"><span data-stu-id="b1f30-168">Deployment</span></span>

<span data-ttu-id="b1f30-169">Es posible que sea preciso que el contenido estático se aprovisione e implemente de forma independiente de la aplicación si no se incluye en el paquete de implementación o en el proceso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-169">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="b1f30-170">Tenga en cuenta cómo esto afectará al método de control de versiones que se use para administrar tanto los componentes de aplicaciones como el contenido de recursos estáticos.</span><span class="sxs-lookup"><span data-stu-id="b1f30-170">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="b1f30-171">Tenga en cuenta la posibilidad de usar técnicas de unión y minificación para reducir los tiempos de carga para los clientes.</span><span class="sxs-lookup"><span data-stu-id="b1f30-171">Consider using bundling and minification techniques to reduce load times for clients.</span></span> <span data-ttu-id="b1f30-172">La unión combina varios archivos en un único archivo.</span><span class="sxs-lookup"><span data-stu-id="b1f30-172">Bundling combines multiple files into a single file.</span></span> <span data-ttu-id="b1f30-173">La minificación quita caracteres innecesarios de los scripts y archivos CSS sin modificar la funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="b1f30-173">Minification removes unnecessary characters from scripts and CSS files without altering functionality.</span></span>

<span data-ttu-id="b1f30-174">Si necesita implementar el contenido en una ubicación adicional, será un paso adicional en el proceso de implementación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-174">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="b1f30-175">Si la aplicación actualiza el contenido para la red CDN, quizás a intervalos regulares o en respuesta a un evento, debe almacenar el contenido actualizado en las ubicaciones adicionales, así como el extremo de la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-175">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="b1f30-176">Tenga en cuenta cómo va a controlar el desarrollo local y las pruebas cuando se espera que se va a proporcionar contenido estático desde una red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-176">Consider how you will handle local development and testing when some static content is expected to be served from a CDN.</span></span> <span data-ttu-id="b1f30-177">Por ejemplo, puede implementar previamente el contenido en la red CDN como parte del script de compilación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-177">For example, you could pre-deploy the content to the CDN as part of your build script.</span></span> <span data-ttu-id="b1f30-178">También puede usar directivas de compilación o marcas para controlar cómo carga la aplicación los recursos.</span><span class="sxs-lookup"><span data-stu-id="b1f30-178">Alternatively, use compile directives or flags to control how the application loads the resources.</span></span> <span data-ttu-id="b1f30-179">Por ejemplo, en modo de depuración, la aplicación puede cargar recursos estáticos desde una carpeta local.</span><span class="sxs-lookup"><span data-stu-id="b1f30-179">For example, in debug mode, the application could load static resources from a local folder.</span></span> <span data-ttu-id="b1f30-180">En modo de versión, la aplicación utilizaría la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-180">In release mode, the application would use the CDN.</span></span>

<span data-ttu-id="b1f30-181">Tenga en cuenta las opciones para la compresión de archivos, como gzip (GNU zip).</span><span class="sxs-lookup"><span data-stu-id="b1f30-181">Consider the options for file compression, such as gzip (GNU zip).</span></span> <span data-ttu-id="b1f30-182">El hospedaje de aplicaciones web puede realizar la compresión en el servidor de origen o la red CDN la puede realizar directamente en los servidores perimetrales.</span><span class="sxs-lookup"><span data-stu-id="b1f30-182">Compression may be performed on the origin server by the web application hosting or directly on the edge servers by the CDN.</span></span> <span data-ttu-id="b1f30-183">Para más información, consulte [Mejora del rendimiento comprimiendo archivos en Azure CDN](/azure/cdn/cdn-improve-performance).</span><span class="sxs-lookup"><span data-stu-id="b1f30-183">For more information, see [Improve performance by compressing files in Azure CDN](/azure/cdn/cdn-improve-performance).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="b1f30-184">Enrutamiento y control de versiones</span><span class="sxs-lookup"><span data-stu-id="b1f30-184">Routing and versioning</span></span>

<span data-ttu-id="b1f30-185">Es posible que necesite distintas instancias de la red CDN en momentos diferentes.</span><span class="sxs-lookup"><span data-stu-id="b1f30-185">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="b1f30-186">Por ejemplo, al implementar una versión nueva de la aplicación puede usar una red CDN nueva y conservar la red CDN anterior (que tiene el contenido en un formato anterior) para las versiones anteriores.</span><span class="sxs-lookup"><span data-stu-id="b1f30-186">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="b1f30-187">Si usa Azure Blob Storage como origen del contenido, puede crear una cuenta de almacenamiento independiente o un contenedor independiente y elegir el punto de conexión de la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-187">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span>

<span data-ttu-id="b1f30-188">No use la cadena de consulta para indicar versiones diferentes de la aplicación en los vínculos a los recursos de la red CDN porque, al recuperar el contenido de Almacenamiento de blobs de Azure, la cadena de consulta forma parte del nombre del recurso (el nombre del blob).</span><span class="sxs-lookup"><span data-stu-id="b1f30-188">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="b1f30-189">Este enfoque también puede afectar a la manera en que el cliente almacena los recursos en la caché.</span><span class="sxs-lookup"><span data-stu-id="b1f30-189">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="b1f30-190">La implementación de nuevas versiones de contenido estático cuando se actualiza una aplicación puede ser un desafío si los recursos anteriores se almacenan en caché en la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-190">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="b1f30-191">Para más información, consulte la sección sobre control de caché, a continuación.</span><span class="sxs-lookup"><span data-stu-id="b1f30-191">For more information, see the section on cache control, below.</span></span>

<span data-ttu-id="b1f30-192">Considere la posibilidad de restringir el acceso al contenido de la red CDN por país.</span><span class="sxs-lookup"><span data-stu-id="b1f30-192">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="b1f30-193">Azure CDN le permite filtrar las solicitudes en función del país de origen y restringir el contenido que se entrega.</span><span class="sxs-lookup"><span data-stu-id="b1f30-193">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="b1f30-194">Para más información, consulte [Restricción del acceso a contenidos por país](/azure/cdn/cdn-restrict-access-by-country/).</span><span class="sxs-lookup"><span data-stu-id="b1f30-194">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="b1f30-195">Control de caché</span><span class="sxs-lookup"><span data-stu-id="b1f30-195">Cache control</span></span>

<span data-ttu-id="b1f30-196">Considere cómo administrar el almacenamiento en la caché en el sistema.</span><span class="sxs-lookup"><span data-stu-id="b1f30-196">Consider how to manage caching within the system.</span></span> <span data-ttu-id="b1f30-197">Por ejemplo, en Azure CDN, puede establecer reglas de almacenamiento en caché globales y, luego, establecer un almacenamiento en caché personalizado para determinados puntos de conexión de origen.</span><span class="sxs-lookup"><span data-stu-id="b1f30-197">For example, in Azure CDN, you can set global caching rules, and then set custom caching for particular origin endpoints.</span></span> <span data-ttu-id="b1f30-198">Puede controlar igualmente cómo se realiza el almacenamiento en caché en una red CDN mediante el envío de encabezados de directiva de caché en el origen.</span><span class="sxs-lookup"><span data-stu-id="b1f30-198">You can also control how caching is performed in a CDN by sending cache-directive headers at the origin.</span></span>

<span data-ttu-id="b1f30-199">Para más información, consulte [Cómo funciona el almacenamiento en caché](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="b1f30-199">For more information, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

<span data-ttu-id="b1f30-200">Para impedir que los objetos estén disponibles en la red CDN, puede eliminarlos del origen, quitar o eliminar el punto de conexión de la red CDN, o, en el caso de Blob Storage, hacer que el contenedor o el blob sean privados.</span><span class="sxs-lookup"><span data-stu-id="b1f30-200">To prevent objects from being available on the CDN, you can delete them from the origin, remove or delete the CDN endpoint, or in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="b1f30-201">Sin embargo, los elementos no se quitan hasta que expire el período de vida.</span><span class="sxs-lookup"><span data-stu-id="b1f30-201">However, items are not removed from the until the time-to-live expires.</span></span> <span data-ttu-id="b1f30-202">También puede purgar un punto de conexión de CDN de forma manual.</span><span class="sxs-lookup"><span data-stu-id="b1f30-202">You can also manually purge a CDN endpoint.</span></span>

### <a name="security"></a><span data-ttu-id="b1f30-203">Seguridad</span><span class="sxs-lookup"><span data-stu-id="b1f30-203">Security</span></span>

<span data-ttu-id="b1f30-204">La red CDN puede entregar contenido a través de HTTPS (SSL) con el certificado que proporciona la red CDN, así como a través de HTTP estándar.</span><span class="sxs-lookup"><span data-stu-id="b1f30-204">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="b1f30-205">Es posible que tenga que usar HTTPS para solicitar el contenido estático que se muestra en las páginas que se cargan a través de HTTPS para evitar las advertencias del explorador sobre contenido mixto.</span><span class="sxs-lookup"><span data-stu-id="b1f30-205">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="b1f30-206">Si entrega recursos estáticos, tales como archivos de fuentes, mediante la red CDN, pueden surgir problemas de directiva del mismo origen si usa una llamada *XMLHttpRequest* para solicitar estos recursos a un dominio distinto.</span><span class="sxs-lookup"><span data-stu-id="b1f30-206">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="b1f30-207">Muchos exploradores web impiden el uso compartido de recursos entre orígenes (CORS), a menos que el servidor web se haya configurado para establecer los encabezados de respuesta adecuados.</span><span class="sxs-lookup"><span data-stu-id="b1f30-207">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="b1f30-208">Para admitir CORS, puede configurar la red CDN con uno de los métodos siguientes:</span><span class="sxs-lookup"><span data-stu-id="b1f30-208">You can configure the CDN to support CORS by using one of the following methods:</span></span>

- <span data-ttu-id="b1f30-209">Configure la red CDN para agregar encabezados de CORS a las respuestas.</span><span class="sxs-lookup"><span data-stu-id="b1f30-209">Configure the CDN to add CORS headers to the responses.</span></span> <span data-ttu-id="b1f30-210">Para más información, consulte [Uso de Azure CDN con CORS](/azure/cdn/cdn-cors).</span><span class="sxs-lookup"><span data-stu-id="b1f30-210">For more information, see [Using Azure CDN with CORS](/azure/cdn/cdn-cors).</span></span>

- <span data-ttu-id="b1f30-211">Si el origen es Azure Blob Storage, agregue reglas de CORS al punto de conexión de almacenamiento.</span><span class="sxs-lookup"><span data-stu-id="b1f30-211">If the origin is Azure blob storage, add CORS rules to the storage endpoint.</span></span> <span data-ttu-id="b1f30-212">Para más información, consulte [Compatibilidad con Uso compartido de recursos entre orígenes (CORS) para los Servicios de Azure Storage](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="b1f30-212">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span></span>

- <span data-ttu-id="b1f30-213">Configure la aplicación para establecer los encabezados de CORS.</span><span class="sxs-lookup"><span data-stu-id="b1f30-213">Configure the application to set the CORS headers.</span></span> <span data-ttu-id="b1f30-214">Por ejemplo,consulte [Habilitación de solicitudes entre orígenes (CORS)](/aspnet/core/security/cors) en la documentación de ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="b1f30-214">For example, see [Enabling Cross-Origin Requests (CORS)](/aspnet/core/security/cors) in the ASP.NET Core documentation.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="b1f30-215">Reserva de red CDN</span><span class="sxs-lookup"><span data-stu-id="b1f30-215">CDN fallback</span></span>

<span data-ttu-id="b1f30-216">Debe considerar la forma en que la aplicación hará frente a un error o a la no disponibilidad temporal de la red CDN.</span><span class="sxs-lookup"><span data-stu-id="b1f30-216">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="b1f30-217">Las aplicaciones cliente pueden usar copias de los recursos almacenados en la caché local (en el cliente) durante las solicitudes anteriores, o bien, se puede incluir código que detecte errores y, en su lugar, solicite recursos del origen (la carpeta de aplicaciones o el contenedor de blobs de Azure que contiene los recursos) si la red CDN no está disponible.</span><span class="sxs-lookup"><span data-stu-id="b1f30-217">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>
