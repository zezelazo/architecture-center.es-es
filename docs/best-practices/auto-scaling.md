---
title: Instrucciones de escalado automático
titleSuffix: Best practices for cloud applications
description: Orientación sobre cómo usar el escalado automático para asignar dinámicamente los recursos que requiere una aplicación.
author: dragon119
ms.date: 05/17/2017
ms.custom: seodec18
ms.openlocfilehash: cb9707f85df993b08b6a01cae144f84e52a08ed7
ms.sourcegitcommit: 4ba3304eebaa8c493c3e5307bdd9d723cd90b655
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/12/2018
ms.locfileid: "53307136"
---
# <a name="autoscaling"></a><span data-ttu-id="2d5d1-103">Escalado automático</span><span class="sxs-lookup"><span data-stu-id="2d5d1-103">Autoscaling</span></span>

<span data-ttu-id="2d5d1-104">El escalado automático es el proceso por el cual se asignan recursos dinámicamente para satisfacer los requisitos de rendimiento.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-104">Autoscaling is the process of dynamically allocating resources to match performance requirements.</span></span> <span data-ttu-id="2d5d1-105">A medida que aumenta el volumen de trabajo, una aplicación puede necesitar más recursos para mantener los niveles de rendimiento deseados y cumplir los Acuerdos de Nivel de Servicio (SLA).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-105">As the volume of work grows, an application may need additional resources to maintain the desired performance levels and satisfy service-level agreements (SLAs).</span></span> <span data-ttu-id="2d5d1-106">Cuando la demanda se reduce y los recursos adicionales ya no son necesarios, se pueden desasignar para minimizar los costos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-106">As demand slackens and the additional resources are no longer needed, they can be de-allocated to minimize costs.</span></span>

<span data-ttu-id="2d5d1-107">El escalado automático aprovecha la elasticidad de entornos hospedados en la nube mientras alivia la sobrecarga de administración.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-107">Autoscaling takes advantage of the elasticity of cloud-hosted environments while easing management overhead.</span></span> <span data-ttu-id="2d5d1-108">Reduce la necesidad de que un operador tenga que supervisar continuamente el rendimiento de un sistema y tomar decisiones sobre agregar o quitar recursos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-108">It reduces the need for an operator to continually monitor the performance of a system and make decisions about adding or removing resources.</span></span>

<span data-ttu-id="2d5d1-109">Una aplicación se puede escalar fundamentalmente de dos maneras:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-109">There are two main ways that an application can scale:</span></span>

- <span data-ttu-id="2d5d1-110">**Escalado vertical**, que significa cambiar la capacidad de un recurso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-110">**Vertical scaling**, also called scaling up and down, means changing the capacity of a resource.</span></span> <span data-ttu-id="2d5d1-111">Por ejemplo, puede mover una aplicación a un tamaño de máquina virtual mayor.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-111">For example, you could move an application to a larger VM size.</span></span> <span data-ttu-id="2d5d1-112">El escalado vertical suele requerir que el sistema deje de estar disponible temporalmente mientras se vuelve a implementar.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-112">Vertical scaling often requires making the system temporarily unavailable while it is being redeployed.</span></span> <span data-ttu-id="2d5d1-113">Por lo tanto, es menos habitual automatizar el escalado vertical.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-113">Therefore, it's less common to automate vertical scaling.</span></span>

- <span data-ttu-id="2d5d1-114">**Escalado horizontal**, que significa agregar o quitar instancias de un recurso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-114">**Horizontal scaling**, also called scaling out and in, means adding or removing instances of a resource.</span></span> <span data-ttu-id="2d5d1-115">La aplicación puede seguir ejecutándose sin interrupciones mientras se aprovisionan los nuevos recursos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-115">The application continues running without interruption as new resources are provisioned.</span></span> <span data-ttu-id="2d5d1-116">Una vez completado el proceso de aprovisionamiento, la solución se implementa en estos recursos adicionales.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-116">When the provisioning process is complete, the solution is deployed on these additional resources.</span></span> <span data-ttu-id="2d5d1-117">Si cae la demanda, los recursos adicionales pueden cerrarse limpiamente y desasignarse.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-117">If demand drops, the additional resources can be shut down cleanly and deallocated.</span></span>

<span data-ttu-id="2d5d1-118">Muchos sistemas basados en la nube, incluido Microsoft Azure, admiten la automatización del escalado horizontal.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-118">Many cloud-based systems, including Microsoft Azure, support automatic horizontal scaling.</span></span> <span data-ttu-id="2d5d1-119">El resto de este artículo se centra en el escalado horizontal.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-119">The rest of this article focuses on horizontal scaling.</span></span>

> [!NOTE]
> <span data-ttu-id="2d5d1-120">El escalado automático se aplica principalmente a los recursos de proceso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-120">Autoscaling mostly applies to compute resources.</span></span> <span data-ttu-id="2d5d1-121">Aunque es posible escalar horizontalmente una cola de mensajes o una base de datos, normalmente, esto implica [particionar los datos](./data-partitioning.md), que generalmente no se automatiza.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-121">While it's possible to horizontally scale a database or message queue, this usually involves [data partitioning](./data-partitioning.md), which is generally not automated.</span></span>

## <a name="overview"></a><span data-ttu-id="2d5d1-122">Información general</span><span class="sxs-lookup"><span data-stu-id="2d5d1-122">Overview</span></span>

<span data-ttu-id="2d5d1-123">La implementación de una estrategia de escalado automático suele implicar las siguientes partes:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-123">An autoscaling strategy typically involves the following pieces:</span></span>

- <span data-ttu-id="2d5d1-124">Sistemas de instrumentación y supervisión en los niveles de aplicación, servicio e infraestructura.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-124">Instrumentation and monitoring systems at the application, service, and infrastructure levels.</span></span> <span data-ttu-id="2d5d1-125">Estos sistemas capturan métricas clave, como tiempos de respuesta, longitudes de cola, uso de CPU y uso de memoria.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-125">These systems capture key metrics, such as response times, queue lengths, CPU utilization, and memory usage.</span></span>
- <span data-ttu-id="2d5d1-126">La lógica de toma de decisiones que evalúa estas métricas frente a las programaciones o los umbrales predefinidos, y que decide si se debe escalar.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-126">Decision-making logic that evaluates these metrics against predefined thresholds or schedules, and decides whether to scale.</span></span>
- <span data-ttu-id="2d5d1-127">Los componentes que escalan el sistema.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-127">Components that scale the system.</span></span>
- <span data-ttu-id="2d5d1-128">Pruebas, supervisión y ajuste de la estrategia de escalado automático para asegurarse de que funciona según lo esperado.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-128">Testing, monitoring, and tuning of the autoscaling strategy to ensure that it functions as expected.</span></span>

<span data-ttu-id="2d5d1-129">Azure ofrece mecanismos de escalado automático integrados que abordan escenarios comunes.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-129">Azure provides built-in autoscaling mechanisms that address common scenarios.</span></span> <span data-ttu-id="2d5d1-130">Si un servicio o una tecnología determinados no tiene funcionalidad de escala automática integrada, o si tiene requisitos de escalado automático específicos más allá de sus capacidades, puede considerar una implementación personalizada.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-130">If a particular service or technology does not have built-in autoscaling functionality, or if you have specific autoscaling requirements beyond its capabilities, you might consider a custom implementation.</span></span> <span data-ttu-id="2d5d1-131">Una implementación personalizada podría recopilar métricas operativas y del sistema, analizarlas y, luego, escalar los recursos en consecuencia.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-131">A custom implementation would collect operational and system metrics, analyze the metrics, and then scale resources accordingly.</span></span>

## <a name="configure-autoscaling-for-an-azure-solution"></a><span data-ttu-id="2d5d1-132">Configuración de escalado automático para una solución de Azure</span><span class="sxs-lookup"><span data-stu-id="2d5d1-132">Configure autoscaling for an Azure solution</span></span>

<span data-ttu-id="2d5d1-133">Azure proporciona escalado automático integrado para la mayoría de las opciones de proceso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-133">Azure provides built-in autoscaling for most compute options.</span></span>

- <span data-ttu-id="2d5d1-134">**Virtual Machines** admite el escalado automático mediante [VM Scale Sets][vm-scale-sets], que es una forma de administrar un conjunto de máquinas virtuales de Azure como un grupo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-134">**Virtual Machines** support autoscaling through the use of [VM Scale Sets][vm-scale-sets], which are a way to manage a set of Azure virtual machines as a group.</span></span> <span data-ttu-id="2d5d1-135">Consulte [Procedimiento para usar el escalado automático y los conjuntos de escalado de máquinas virtuales][vm-scale-sets-autoscale].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-135">See [How to use automatic scaling and Virtual Machine Scale Sets][vm-scale-sets-autoscale].</span></span>

- <span data-ttu-id="2d5d1-136">**Service Fabric** también admite el escalado automático mediante VM Scale Sets.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-136">**Service Fabric** also supports auto-scaling through VM Scale Sets.</span></span> <span data-ttu-id="2d5d1-137">Cada tipo de nodo en un clúster de Service Fabric está configurado como un conjunto de escalado de máquinas virtuales independiente.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-137">Every node type in a Service Fabric cluster is set up as a separate VM scale set.</span></span> <span data-ttu-id="2d5d1-138">De este modo, cada tipo de nodo se puede escalar horizontalmente por separado.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-138">That way, each node type can be scaled in or out independently.</span></span> <span data-ttu-id="2d5d1-139">Consulte [Escalado o reducción horizontal de un clúster de Service Fabric usando reglas de escalado automático][service-fabric-autoscale].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-139">See [Scale a Service Fabric cluster in or out using auto-scale rules][service-fabric-autoscale].</span></span>

- <span data-ttu-id="2d5d1-140">**Azure App Service** tiene escalado automático integrado.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-140">**Azure App Service** has built-in autoscaling.</span></span> <span data-ttu-id="2d5d1-141">La configuración de escalado automático se aplica a todas las aplicaciones dentro de una instancia de App Service.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-141">Autoscale settings apply to all of the apps within an App Service.</span></span> <span data-ttu-id="2d5d1-142">Consulte [Escalado manual o automático del número de instancias][app-service-autoscale].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-142">See [Scale instance count manually or automatically][app-service-autoscale].</span></span>

- <span data-ttu-id="2d5d1-143">**Azure Cloud Services** tiene escalado automático integrado en el nivel de rol.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-143">**Azure Cloud Services** has built-in autoscaling at the role level.</span></span> <span data-ttu-id="2d5d1-144">Consulte [Procedimiento para configurar el escalado automático para un servicio en la nube en el Portal][cloud-services-autoscale].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-144">See [How to configure auto scaling for a Cloud Service in the portal][cloud-services-autoscale].</span></span>

<span data-ttu-id="2d5d1-145">Todas estas opciones de proceso usan [escalado automático de Azure Monitor][monitoring] para proporcionar un conjunto común de funcionalidad de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-145">These compute options all use [Azure Monitor autoscale][monitoring] to provide a common set of autoscaling functionality.</span></span>

- <span data-ttu-id="2d5d1-146">**Azure Functions** difiere de las opciones de proceso anteriores, porque no es necesario configurar reglas de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-146">**Azure Functions** differs from the previous compute options, because you don't need to configure any autoscale rules.</span></span> <span data-ttu-id="2d5d1-147">En su lugar, Azure Functions asigna automáticamente capacidad de proceso cuando se ejecuta el código, y escala horizontalmente según sea necesario para administrar la carga.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-147">Instead, Azure Functions automatically allocates compute power when your code is running, scaling out as necessary to handle load.</span></span> <span data-ttu-id="2d5d1-148">Para más información, vea [Comparación de los planes de hospedaje de Azure Functions][functions-scale].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-148">For more information, see [Choose the correct hosting plan for Azure Functions][functions-scale].</span></span>

<span data-ttu-id="2d5d1-149">Por último, a veces resulta útil una solución de escalado automático personalizada.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-149">Finally, a custom autoscaling solution can sometimes be useful.</span></span> <span data-ttu-id="2d5d1-150">Por ejemplo, podría usar Azure Diagnostics y métricas de aplicación, además de código personalizado, para supervisar y exportar las métricas de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-150">For example, you could use Azure diagnostics and application-based metrics, along with custom code to monitor and export the application metrics.</span></span> <span data-ttu-id="2d5d1-151">Después, podría definir reglas personalizadas basadas en estas métricas y usar las API de REST de Resource Manager para desencadenar el escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-151">Then you could define custom rules based on these metrics, and use Resource Manager REST APIs to trigger autoscaling.</span></span> <span data-ttu-id="2d5d1-152">Pero una solución personalizada no es fácil de implementar y solo debería contemplarse si ninguno de los métodos anteriores puede satisfacer los requisitos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-152">However, a custom solution is not simple to implement, and should be considered only if none of the previous approaches can fulfill your requirements.</span></span>

<span data-ttu-id="2d5d1-153">Si satisfacen sus requisitos, use las características de escalado automático integradas de la plataforma.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-153">Use the built-in autoscaling features of the platform, if they meet your requirements.</span></span> <span data-ttu-id="2d5d1-154">Si no es así, considere detenidamente si realmente necesita características de escalado más complejas.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-154">If not, carefully consider whether you really need more complex scaling features.</span></span> <span data-ttu-id="2d5d1-155">Algunos ejemplos de requisitos adicionales podrían ser un control más detallado, diferentes maneras de detectar eventos desencadenadores del escalado, escalado en varias suscripciones y escalado de otros tipos de recursos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-155">Examples of additional requirements may include more granularity of control, different ways to detect trigger events for scaling, scaling across subscriptions, and scaling other types of resources.</span></span>

## <a name="use-azure-monitor-autoscale"></a><span data-ttu-id="2d5d1-156">Uso del escalado automático de Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="2d5d1-156">Use Azure Monitor autoscale</span></span>

<span data-ttu-id="2d5d1-157">El [escalado automático de Azure Monitor][monitoring] proporciona un conjunto común de funciones de escalado automático para VM Scale Sets, Azure App Service y Azure Cloud Services.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-157">[Azure Monitor autoscale][monitoring] provide a common set of autoscaling functionality for VM Scale Sets, Azure App Service, and Azure Cloud Service.</span></span> <span data-ttu-id="2d5d1-158">El escalado se puede realizar según una programación o en función de una métrica en tiempo de ejecución, como el uso de CPU o memoria.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-158">Scaling can be performed on a schedule, or based on a runtime metric, such as CPU or memory usage.</span></span> <span data-ttu-id="2d5d1-159">Ejemplos:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-159">Examples:</span></span>

- <span data-ttu-id="2d5d1-160">Aumentar a 10 instancias los días laborables y reducir a 4 instancias el sábado y el domingo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-160">Scale out to 10 instances on weekdays, and scale in to 4 instances on Saturday and Sunday.</span></span>
- <span data-ttu-id="2d5d1-161">Aumentar una instancia si el uso medio de la CPU es superior al 70 % y reducir una instancia si el uso de la CPU cae por debajo del 50 %.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-161">Scale out by one instance if average CPU usage is above 70%, and scale in by one instance if CPU usage falls below 50%.</span></span>
- <span data-ttu-id="2d5d1-162">Aumentar una instancia si el número de mensajes en una cola supera un cierto umbral.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-162">Scale out by one instance if the number of messages in a queue exceeds a certain threshold.</span></span>

<span data-ttu-id="2d5d1-163">Para obtener una lista de las métricas integradas, consulte [Métricas comunes de escalado automático de Azure Monitor][autoscale-metrics].</span><span class="sxs-lookup"><span data-stu-id="2d5d1-163">For a list of built-in metrics, see [Azure Monitor autoscaling common metrics][autoscale-metrics].</span></span> <span data-ttu-id="2d5d1-164">También puede implementar métricas personalizadas mediante Application Insights.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-164">You can also implement custom metrics by using Application Insights.</span></span>

<span data-ttu-id="2d5d1-165">Puede configurar el escalado automático con PowerShell, la CLI de Azure, una plantilla de Azure Resource Manager o Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-165">You can configure autoscaling by using PowerShell, the Azure CLI, an Azure Resource Manager template, or the Azure portal.</span></span> <span data-ttu-id="2d5d1-166">Para obtener más control, use la [API de REST de Azure Resource Manager](https://msdn.microsoft.com//library/azure/dn790568.aspx).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-166">For more detailed control, use the [Azure Resource Manager REST API](https://msdn.microsoft.com//library/azure/dn790568.aspx).</span></span> <span data-ttu-id="2d5d1-167">La [biblioteca de administración de servicios de supervisión de Azure](https://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) y la [biblioteca de Microsoft Insights](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (en versión preliminar) son SDK que permiten recopilar métricas de diferentes recursos y realizar escalado automático haciendo uso de las API de REST.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-167">The [Azure Monitoring Service Management Library](https://www.nuget.org/packages/Microsoft.WindowsAzure.Management.Monitoring) and the [Microsoft Insights Library](https://www.nuget.org/packages/Microsoft.Azure.Insights/) (in preview) are SDKs that allow collecting metrics from different resources, and perform autoscaling by making use of the REST APIs.</span></span> <span data-ttu-id="2d5d1-168">En recursos en los que no existe compatibilidad con el Azure Resource Manager, o si se utiliza Azure Cloud Services, puede usar la API de REST de Administración de servicios para escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-168">For resources where Azure Resource Manager support isn't available, or if you are using Azure Cloud Services, the Service Management REST API can be used for autoscaling.</span></span> <span data-ttu-id="2d5d1-169">En los demás casos, utilice Azure Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-169">In all other cases, use Azure Resource Manager.</span></span>

<span data-ttu-id="2d5d1-170">Al usar el escalado automático de Azure, tenga en cuenta los siguientes puntos:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-170">Consider the following points when using Azure autoscale:</span></span>

- <span data-ttu-id="2d5d1-171">Tenga en cuenta si puede predecir la carga en la aplicación con precisión suficiente como para usar el escalado automático programado (adición y eliminación de instancias para satisfacer los picos de demanda anticipados).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-171">Consider whether you can predict the load on the application well enough to use scheduled autoscaling, adding and removing instances to meet anticipated peaks in demand.</span></span> <span data-ttu-id="2d5d1-172">Si no es posible, use el escalado automático reactivo en función de las métricas recopiladas en tiempo de ejecución para administrar los cambios imprevisibles en la demanda.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-172">If this isn't possible, use reactive autoscaling based on runtime metrics, in order to handle unpredictable changes in demand.</span></span> <span data-ttu-id="2d5d1-173">Normalmente, puede combinar estos métodos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-173">Typically, you can combine these approaches.</span></span> <span data-ttu-id="2d5d1-174">Por ejemplo, cree una estrategia que agregue recursos según una programación de las horas en las que sabe que la aplicación está más ocupada.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-174">For example, create a strategy that adds resources based on a schedule of the times when you know the application is most busy.</span></span> <span data-ttu-id="2d5d1-175">Esto ayuda a garantizar que la capacidad estará disponible cuando se necesite, sin provocar el retraso que se produce al iniciar nuevas instancias.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-175">This helps to ensure that capacity is available when required, without any delay from starting new instances.</span></span> <span data-ttu-id="2d5d1-176">Para cada regla programada, defina métricas que permitan el escalado automático reactivo durante ese período para asegurarse de que la aplicación pueda atender picos sostenidos pero imprevisibles en la demanda.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-176">For each scheduled rule, define metrics that allow reactive autoscaling during that period to ensure that the application can handle sustained but unpredictable peaks in demand.</span></span>

- <span data-ttu-id="2d5d1-177">A menudo, resulta difícil comprender la relación entre las métricas y los requisitos de capacidad, especialmente durante la implementación inicial de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-177">It's often difficult to understand the relationship between metrics and capacity requirements, especially when an application is initially deployed.</span></span> <span data-ttu-id="2d5d1-178">Aprovisione un poco de capacidad adicional al principio y, luego, supervise y optimice las reglas de escalado automático para aproximar la capacidad a la carga real.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-178">Provision a little extra capacity at the beginning, and then monitor and tune the autoscaling rules to bring the capacity closer to the actual load.</span></span>

- <span data-ttu-id="2d5d1-179">Configure reglas de escalado automático y, luego, supervise el rendimiento de la aplicación con el tiempo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-179">Configure the autoscaling rules, and then monitor the performance of your application over time.</span></span> <span data-ttu-id="2d5d1-180">Use los resultados de esta supervisión para ajustar la manera en que se escala el sistema, si fuera necesario.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-180">Use the results of this monitoring to adjust the way in which the system scales if necessary.</span></span> <span data-ttu-id="2d5d1-181">Pero tenga en cuenta que el escalado automático no es un proceso instantáneo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-181">However, keep in mind that autoscaling is not an instantaneous process.</span></span> <span data-ttu-id="2d5d1-182">Se tarda en reaccionar ante una métrica, como, por ejemplo, un uso medio de CPU que supere un umbral especificado o sea inferior a este.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-182">It takes time to react to a metric such as average CPU utilization exceeding (or falling below) a specified threshold.</span></span>

- <span data-ttu-id="2d5d1-183">Las reglas de escalado automático que usan un mecanismo de detección basado en un atributo desencadenador medido (por ejemplo, el uso de CPU o la longitud de cola) usan un valor agregado a lo largo del tiempo, en lugar de valores instantáneos, para desencadenar una acción de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-183">Autoscaling rules that use a detection mechanism based on a measured trigger attribute (such as CPU usage or queue length) use an aggregated value over time, rather than instantaneous values, to trigger an autoscaling action.</span></span> <span data-ttu-id="2d5d1-184">De forma predeterminada, el agregado es un promedio de los valores.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-184">By default, the aggregate is an average of the values.</span></span> <span data-ttu-id="2d5d1-185">Esto impide que el sistema reaccione demasiado rápido o que provoque una oscilación rápida.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-185">This prevents the system from reacting too quickly, or causing rapid oscillation.</span></span> <span data-ttu-id="2d5d1-186">También permite tiempo para que las nuevas instancias de inicio automático entren en modo de ejecución, lo que impide que se produzcan acciones adicionales de escalado automático mientras se inician las nuevas instancias.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-186">It also allows time for new instances that are auto-started to settle into running mode, preventing additional autoscaling actions from occurring while the new instances are starting up.</span></span> <span data-ttu-id="2d5d1-187">En el caso de Azure Cloud Services y Azure Virtual Machines, el período predeterminado para la agregación es de 45 minutos, por lo que la métrica puede tardar hasta este período de tiempo para desencadenar el escalado automático en respuesta a picos de demanda.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-187">For Azure Cloud Services and Azure Virtual Machines, the default period for the aggregation is 45 minutes, so it can take up to this period of time for the metric to trigger autoscaling in response to spikes in demand.</span></span> <span data-ttu-id="2d5d1-188">Puede cambiar el período de agregación mediante el SDK, pero tenga en cuenta que los períodos de menos de 25 minutos pueden producir resultados imprevisibles.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-188">You can change the aggregation period by using the SDK, but be aware that periods of fewer than 25 minutes may cause unpredictable results.</span></span> <span data-ttu-id="2d5d1-189">En el caso de Web Apps, el período medio es mucho más corto, lo que permite que las nuevas instancias estén disponibles en unos cinco minutos después de que se produzca un cambio en la medida de desencadenador media.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-189">For Web Apps, the averaging period is much shorter, allowing new instances to be available in about five minutes after a change to the average trigger measure.</span></span>

- <span data-ttu-id="2d5d1-190">Si configura el escalado automático mediante el SDK en lugar del portal, puede especificar una programación más detallada durante la cuál las reglas estarán activas.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-190">If you configure autoscaling using the SDK rather than the portal, you can specify a more detailed schedule during which the rules are active.</span></span> <span data-ttu-id="2d5d1-191">También puede crear sus propias métricas y usarlas con o sin las métricas existentes en sus reglas de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-191">You can also create your own metrics and use them with or without any of the existing ones in your autoscaling rules.</span></span> <span data-ttu-id="2d5d1-192">Por ejemplo, quizás desee usar contadores alternativos, como, por ejemplo, el número de solicitudes por segundo o la disponibilidad media de memoria, o bien usar contadores personalizados que midan procesos empresariales específicos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-192">For example, you may wish to use alternative counters, such as the number of requests per second or the average memory availability, or use custom counters that measure specific business processes.</span></span>

- <span data-ttu-id="2d5d1-193">Con el escalado de Service Fabric, los tipos de nodo del clúster están formados por conjuntos de escalado de máquinas virtuales en el back-end, por lo que tendrá que configurar reglas de escalado automático para cada tipo de nodo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-193">When autoscaling Service Fabric, the node types in your cluster are made of VM scale sets at the backend, so you need to set up auto-scale rules for each node type.</span></span> <span data-ttu-id="2d5d1-194">Antes de configurar el escalado automático, tenga en cuenta el número de nodos que debe tener.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-194">Take into account the number of nodes that you must have before you set up auto-scaling.</span></span> <span data-ttu-id="2d5d1-195">El número mínimo de nodos que debe tener para el tipo de nodo principal está controlado por el nivel de confiabilidad que haya elegido.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-195">The minimum number of nodes that you must have for the primary node type is driven by the reliability level you have chosen.</span></span> <span data-ttu-id="2d5d1-196">Para más información, consulte [Escalado de un clúster de Service Fabric usando reglas de escalado automático](/azure/service-fabric/service-fabric-cluster-scale-up-down).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-196">For more info, see [scale a Service Fabric cluster in or out using auto-scale rules](/azure/service-fabric/service-fabric-cluster-scale-up-down).</span></span>

- <span data-ttu-id="2d5d1-197">Puede usar el portal para vincular recursos, tales como colas e instancias de SQL Database, a una instancia de un servicio en la nube.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-197">You can use the portal to link resources such as SQL Database instances and queues to a Cloud Service instance.</span></span> <span data-ttu-id="2d5d1-198">Esto permite acceder más fácilmente las opciones separadas de configuración de escalado manual y automático para cada uno de los recursos vinculados.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-198">This allows you to more easily access the separate manual and automatic scaling configuration options for each of the linked resources.</span></span> <span data-ttu-id="2d5d1-199">Para más información, consulte [Vínculo de un recurso a un servicio en la nube](/azure/cloud-services/cloud-services-how-to-manage).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-199">For more information, see [How to: Link a resource to a cloud service](/azure/cloud-services/cloud-services-how-to-manage).</span></span>

- <span data-ttu-id="2d5d1-200">Si configura varias directivas y reglas, podrían producirse conflictos entre ellas.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-200">When you configure multiple policies and rules, they could conflict with each other.</span></span> <span data-ttu-id="2d5d1-201">El escalado automático usa las siguientes reglas de resolución de conflictos para garantizar que siempre haya un número suficiente de instancias en ejecución:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-201">Autoscale uses the following conflict resolution rules to ensure that there is always a sufficient number of instances running:</span></span>
  - <span data-ttu-id="2d5d1-202">Las operaciones de escalar horizontalmente siempre tienen prioridad sobre las operaciones de reducir horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-202">Scale out operations always take precedence over scale in operations.</span></span>
  - <span data-ttu-id="2d5d1-203">Cuando se produce un conflicto en las operaciones de escalar horizontalmente, tiene prioridad la regla que inicia el mayor aumento en el número de instancias.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-203">When scale out operations conflict, the rule that initiates the largest increase in the number of instances takes precedence.</span></span>
  - <span data-ttu-id="2d5d1-204">Cuando se produce un conflicto en las operaciones de reducir horizontalmente, tiene prioridad la regla que inicia la menor reducción en el número de instancias.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-204">When scale in operations conflict, the rule that initiates the smallest decrease in the number of instances takes precedence.</span></span>

- <span data-ttu-id="2d5d1-205">En un entorno de App Service Environment, se puede usar cualquier grupo de trabajo o métrica de front-end para definir las reglas de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-205">In an App Service Environment any worker pool or front-end metrics can be used to define autoscale rules.</span></span> <span data-ttu-id="2d5d1-206">Para más información, consulte [Escalado automático y App Service Environment](/azure/app-service/app-service-environment-auto-scale).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-206">For more information, see [Autoscaling and App Service Environment](/azure/app-service/app-service-environment-auto-scale).</span></span>

## <a name="application-design-considerations"></a><span data-ttu-id="2d5d1-207">Consideraciones sobre el diseño de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="2d5d1-207">Application design considerations</span></span>

<span data-ttu-id="2d5d1-208">El escalado automático no es una solución instantánea.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-208">Autoscaling isn't an instant solution.</span></span> <span data-ttu-id="2d5d1-209">La simple adición de recursos a un sistema o la ejecución de instancias adicionales de un proceso no garantiza que mejorará el rendimiento del sistema.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-209">Simply adding resources to a system or running more instances of a process doesn't guarantee that the performance of the system will improve.</span></span> <span data-ttu-id="2d5d1-210">Tenga en cuenta lo siguiente a la hora de diseñar una estrategia de escalado automático:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-210">Consider the following points when designing an autoscaling strategy:</span></span>

- <span data-ttu-id="2d5d1-211">El sistema debe diseñarse para el escalado horizontal.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-211">The system must be designed to be horizontally scalable.</span></span> <span data-ttu-id="2d5d1-212">Evite hacer suposiciones acerca de la afinidad de la instancia; no diseñe soluciones que requieran la ejecución constante del código en una instancia específica de un proceso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-212">Avoid making assumptions about instance affinity; do not design solutions that require that the code is always running in a specific instance of a process.</span></span> <span data-ttu-id="2d5d1-213">Al escalar horizontalmente un servicio en la nube o sitio web, no presuponga que una serie de solicitudes del mismo origen siempre se enrutará a la misma instancia.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-213">When scaling a cloud service or web site horizontally, don't assume that a series of requests from the same source will always be routed to the same instance.</span></span> <span data-ttu-id="2d5d1-214">Por la misma razón, diseñe los servicios sin estado para evitar la necesidad de disponer de una serie de solicitudes de que una aplicación siempre se dirija a la misma instancia de un servicio.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-214">For the same reason, design services to be stateless to avoid requiring a series of requests from an application to always be routed to the same instance of a service.</span></span> <span data-ttu-id="2d5d1-215">Al diseñar un servicio que lee y procesa mensajes de una cola, no haga ninguna suposición sobre qué instancia de servicio controla un mensaje específico.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-215">When designing a service that reads messages from a queue and processes them, don't make any assumptions about which instance of the service handles a specific message.</span></span> <span data-ttu-id="2d5d1-216">El escalado automático podría iniciar instancias adicionales de un servicio a medida que crezca la longitud de la cola.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-216">Autoscaling could start additional instances of a service as the queue length grows.</span></span> <span data-ttu-id="2d5d1-217">El [patrón de consumidores simultáneos](../patterns/competing-consumers.md) describe cómo administrar este escenario.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-217">The [Competing Consumers pattern](../patterns/competing-consumers.md) describes how to handle this scenario.</span></span>

- <span data-ttu-id="2d5d1-218">Si la solución implementa una tarea de ejecución prolongada, diseñe esta tarea para que admita el escalado horizontal (tanto reducción como ampliación).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-218">If the solution implements a long-running task, design this task to support both scaling out and scaling in.</span></span> <span data-ttu-id="2d5d1-219">Sin la debida atención, este tipo de tarea podría impedir que una instancia de un proceso se cierre correctamente al reducir horizontalmente el sistema, o bien podría perder datos si el proceso finaliza de manera forzada.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-219">Without due care, such a task could prevent an instance of a process from being shut down cleanly when the system scales in, or it could lose data if the process is forcibly terminated.</span></span> <span data-ttu-id="2d5d1-220">De manera ideal, refactorice una tarea de ejecución prolongada y divida el procesamiento que realiza en fragmentos más pequeños y discretos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-220">Ideally, refactor a long-running task and break up the processing that it performs into smaller, discrete chunks.</span></span> <span data-ttu-id="2d5d1-221">El [patrón de canalizaciones y filtros](../patterns/pipes-and-filters.md) ofrece un ejemplo de cómo hacerlo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-221">The [Pipes and Filters pattern](../patterns/pipes-and-filters.md) provides an example of how you can achieve this.</span></span>

- <span data-ttu-id="2d5d1-222">Como alternativa, puede implementar un mecanismo de punto de comprobación que registre información sobre el estado de la tarea en intervalos regulares y que guarde este estado en almacenamiento duradero accesible para cualquier instancia del proceso que ejecute la tarea.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-222">Alternatively, you can implement a checkpoint mechanism that records state information about the task at regular intervals, and save this state in durable storage that can be accessed by any instance of the process running the task.</span></span> <span data-ttu-id="2d5d1-223">De este modo, si el proceso se cierra, el trabajo que estaba realizando puede reanudarse desde el último punto de comprobación con otra instancia.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-223">In this way, if the process is shutdown, the work that it was performing can be resumed from the last checkpoint by using another instance.</span></span>

- <span data-ttu-id="2d5d1-224">Cuando las aplicaciones en segundo plano se ejecutan en instancias de proceso independientes, como es el caso en los roles de trabajo de una aplicación hospedada en los Servicios en la nube, es posible que necesite escalar diferentes partes de la aplicación con distintas directivas de escalado.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-224">When background tasks run on separate compute instances, such as in worker roles of a cloud services hosted application, you may need to scale different parts of the application using different scaling policies.</span></span> <span data-ttu-id="2d5d1-225">Por ejemplo, es posible que tenga que implementar instancias adicionales de proceso de interfaz de usuario sin aumentar el número de instancias de proceso en segundo plano o viceversa.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-225">For example, you may need to deploy additional user interface (UI) compute instances without increasing the number of background compute instances, or the opposite of this.</span></span> <span data-ttu-id="2d5d1-226">Si ofrece diferentes niveles de servicio (por ejemplo, paquetes de servicio básico y premium), es posible que, para cumplir el SLA, tenga que escalar horizontalmente los recursos de proceso para los paquetes de servicio premium de forma más agresiva que aquellos para los paquetes de servicio básico.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-226">If you offer different levels of service (such as basic and premium service packages), you may need to scale out the compute resources for premium service packages more aggressively than those for basic service packages in order to meet SLAs.</span></span>

- <span data-ttu-id="2d5d1-227">Considere la posibilidad de usar la longitud de la cola sobre la que se comunican las instancias de proceso de interfaz de usuario y en segundo plano como criterio para la estrategia de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-227">Consider using the length of the queue over which UI and background compute instances communicate as a criterion for your autoscaling strategy.</span></span> <span data-ttu-id="2d5d1-228">Este es el mejor indicador de la existencia de un desequilibrio o diferencia entre la carga actual y la capacidad de procesamiento de la tarea en segundo plano.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-228">This is the best indicator of an imbalance or difference between the current load and the processing capacity of the background task.</span></span>

- <span data-ttu-id="2d5d1-229">Si basa su estrategia de escalado automático en contadores que miden procesos empresariales, tal como el número de pedidos realizados por hora o el tiempo de ejecución promedio de una transacción compleja, asegúrese de comprender a fondo la relación entre los resultados de estos tipos de contadores y los requisitos reales de capacidad de proceso.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-229">If you base your autoscaling strategy on counters that measure business processes, such as the number of orders placed per hour or the average execution time of a complex transaction, ensure that you fully understand the relationship between the results from these types of counters and the actual compute capacity requirements.</span></span> <span data-ttu-id="2d5d1-230">Es posible que sea necesario escalar más de un componente o unidad de proceso en respuesta a los cambios en los contadores de proceso de negocio.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-230">It may be necessary to scale more than one component or compute unit in response to changes in business process counters.</span></span>

- <span data-ttu-id="2d5d1-231">Para impedir que un sistema intente escalar horizontalmente de manera excesiva y evitar los costos asociados con la ejecución de varios miles de instancias, considere la posibilidad de limitar el número máximo de instancias que se pueden agregar automáticamente.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-231">To prevent a system from attempting to scale out excessively, and to avoid the costs associated with running many thousands of instances, consider limiting the maximum number of instances that can be automatically added.</span></span> <span data-ttu-id="2d5d1-232">La mayoría de los mecanismos de escalado automático le permiten especificar el número mínimo y máximo de instancias de una regla.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-232">Most autoscaling mechanisms allow you to specify the minimum and maximum number of instances for a rule.</span></span> <span data-ttu-id="2d5d1-233">Considere también la posibilidad de degradar correctamente la funcionalidad que brinda el sistema si se implementó el número máximo de instancias y el sistema aún está sobrecargado.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-233">In addition, consider gracefully degrading the functionality that the system provides if the maximum number of instances have been deployed, and the system is still overloaded.</span></span>

- <span data-ttu-id="2d5d1-234">Tenga en cuenta que el escalado automático podría no ser el mecanismo más adecuado para controlar una ráfaga súbita de carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-234">Keep in mind that autoscaling might not be the most appropriate mechanism to handle a sudden burst in workload.</span></span> <span data-ttu-id="2d5d1-235">Se necesita tiempo para aprovisionar e iniciar nuevas instancias de un servicio o agregar recursos a un sistema. Además, es posible que la máxima demanda se haya superado cuando estos recursos adicionales estén disponibles.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-235">It takes time to provision and start new instances of a service or add resources to a system, and the peak demand may have passed by the time these additional resources have been made available.</span></span> <span data-ttu-id="2d5d1-236">En este escenario, es posible que sea mejor limitar el servicio.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-236">In this scenario, it may be better to throttle the service.</span></span> <span data-ttu-id="2d5d1-237">Para más información, consulte el [patrón de limitaciones](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-237">For more information, see the [Throttling pattern](../patterns/throttling.md).</span></span>

- <span data-ttu-id="2d5d1-238">Por el contrario, si necesita la capacidad para procesar todas las solicitudes cuando el volumen fluctúa rápidamente, y el costo no es un factor de impacto principal, considere la posibilidad de usar una estrategia agresiva de escalado automático en la que las instancias adicionales se inicien con mayor rapidez.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-238">Conversely, if you do need the capacity to process all requests when the volume fluctuates rapidly, and cost isn't a major contributing factor, consider using an aggressive autoscaling strategy that starts additional instances more quickly.</span></span> <span data-ttu-id="2d5d1-239">También puede usar una directiva programada que inicie un número suficiente de instancias como para satisfacer la carga máxima antes de que se espere esa carga.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-239">You can also use a scheduled policy that starts a sufficient number of instances to meet the maximum load before that load is expected.</span></span>

- <span data-ttu-id="2d5d1-240">El mecanismo de escalado automático debe supervisar el proceso de escalado automático y registrar los detalles de cada evento de escalado automático (qué lo desencadenó, qué recursos se agregaron o quitaron y cuándo).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-240">The autoscaling mechanism should monitor the autoscaling process, and log the details of each autoscaling event (what triggered it, what resources were added or removed, and when).</span></span> <span data-ttu-id="2d5d1-241">Si crea un mecanismo de escalado automático personalizado, asegúrese de que incorpore esta capacidad.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-241">If you create a custom autoscaling mechanism, ensure that it incorporates this capability.</span></span> <span data-ttu-id="2d5d1-242">Analice la información para ayudar a medir la eficacia de la estrategia de escalado automático y ajustarla según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-242">Analyze the information to help measure the effectiveness of the autoscaling strategy, and tune it if necessary.</span></span> <span data-ttu-id="2d5d1-243">Puede ajustarla tanto a corto plazo, a medida que los patrones de uso se hagan más evidentes, y a largo plazo, a medida que el negocio se expanda o evolucionen los requisitos de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-243">You can tune both in the short term, as the usage patterns become more obvious, and over the long term, as the business expands or the requirements of the application evolve.</span></span> <span data-ttu-id="2d5d1-244">Si una aplicación alcanza el límite superior definido para el escalado automático, el mecanismo también podría alertar a un operador que pueda iniciar manualmente recursos adicionales en caso necesario.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-244">If an application reaches the upper limit defined for autoscaling, the mechanism might also alert an operator who could manually start additional resources if necessary.</span></span> <span data-ttu-id="2d5d1-245">Tenga en cuenta que, en estas circunstancias, el operador también puede ser responsable de quitar manualmente estos recursos una vez que se reduzca la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-245">Note that, under these circumstances, the operator may also be responsible for manually removing these resources after the workload eases.</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="2d5d1-246">Orientación y patrones relacionados</span><span class="sxs-lookup"><span data-stu-id="2d5d1-246">Related patterns and guidance</span></span>

<span data-ttu-id="2d5d1-247">Los siguientes patrones y orientación también pueden ser pertinentes para su escenario al implementar el escalado automático:</span><span class="sxs-lookup"><span data-stu-id="2d5d1-247">The following patterns and guidance may also be relevant to your scenario when implementing autoscaling:</span></span>

- <span data-ttu-id="2d5d1-248">[Patrón de limitación](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-248">[Throttling pattern](../patterns/throttling.md).</span></span> <span data-ttu-id="2d5d1-249">En este patrón se describe cómo una aplicación puede seguir funcionando y cumplir los contratos de nivel de servicio cuando un aumento en la demanda aplica una carga muy elevada en los recursos.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-249">This pattern describes how an application can continue to function and meet SLAs when an increase in demand places an extreme load on resources.</span></span> <span data-ttu-id="2d5d1-250">La limitación se puede usar con la escalado automático para impedir que un sistema se vea superado durante la operación de escalar horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-250">Throttling can be used with autoscaling to prevent a system from being overwhelmed while the system scales out.</span></span>

- <span data-ttu-id="2d5d1-251">[Patrón de consumidores de la competencia](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-251">[Competing Consumers pattern](../patterns/competing-consumers.md).</span></span> <span data-ttu-id="2d5d1-252">En este patrón se describe cómo implementar un grupo de instancias de servicio que puede controlar mensajes de cualquier instancia de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-252">This pattern describes how to implement a pool of service instances that can handle messages from any application instance.</span></span> <span data-ttu-id="2d5d1-253">El escalado automático se puede usar para iniciar y detener las instancias de servicio para que coincidan con la carga de trabajo anticipada.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-253">Autoscaling can be used to start and stop service instances to match the anticipated workload.</span></span> <span data-ttu-id="2d5d1-254">Este método permite que un sistema procese varios mensajes simultáneamente a fin de optimizar el rendimiento, mejorar la escalabilidad y disponibilidad, y equilibrar la carga de trabajo.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-254">This approach enables a system to process multiple messages concurrently to optimize throughput, improve scalability and availability, and balance the workload.</span></span>

- <span data-ttu-id="2d5d1-255">[Supervisión y diagnóstico](./monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="2d5d1-255">[Monitoring and diagnostics](./monitoring.md).</span></span> <span data-ttu-id="2d5d1-256">La instrumentación y telemetría son vitales para la recopilación de información que puede impulsar el proceso de escalado automático.</span><span class="sxs-lookup"><span data-stu-id="2d5d1-256">Instrumentation and telemetry are vital for gathering the information that can drive the autoscaling process.</span></span>

<!-- links -->

[monitoring]: /azure/monitoring-and-diagnostics/monitoring-overview-autoscale
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale?toc=%2fazure%2fapp-service-web%2ftoc.json#scaling-based-on-a-pre-set-metric
[app-service-plan]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[autoscale-metrics]: /azure/monitoring-and-diagnostics/insights-autoscale-common-metrics
[cloud-services-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[functions-scale]: /azure/azure-functions/functions-scale
[link-resource-to-cloud-service]: /azure/cloud-services/cloud-services-how-to-manage#how-to-link-a-resource-to-a-cloud-service
[service-fabric-autoscale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
[vm-scale-sets-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview
