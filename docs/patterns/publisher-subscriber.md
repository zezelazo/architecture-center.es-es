---
title: Patrón de publicador y suscriptor
description: Permita que una aplicación anuncie eventos de forma asincrónica a varios consumidores interesados.
keywords: Patrón de diseño
author: alexbuckgit
ms.date: 12/07/2018
ms.openlocfilehash: f47792dd60e65cac1ff06928d9ea100ed452933a
ms.sourcegitcommit: a0a9981e7586bed8d876a54e055dea1e392118f8
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 12/11/2018
ms.locfileid: "53233943"
---
# <a name="publisher-subscriber-pattern"></a><span data-ttu-id="d6f0e-104">Patrón de publicador y suscriptor</span><span class="sxs-lookup"><span data-stu-id="d6f0e-104">Publisher-Subscriber pattern</span></span>

<span data-ttu-id="d6f0e-105">Permita que una aplicación anuncie eventos de forma asincrónica a varios consumidores interesados, sin necesidad de emparejar los remitentes con los receptores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-105">Enable an application to announce events to multiple interested consumers aynchronously, without coupling the senders to the receivers.</span></span>

<span data-ttu-id="d6f0e-106">**También se denomina**: Mensajería de publicación y suscripción</span><span class="sxs-lookup"><span data-stu-id="d6f0e-106">**Also called**: Pub/sub messaging</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="d6f0e-107">Contexto y problema</span><span class="sxs-lookup"><span data-stu-id="d6f0e-107">Context and problem</span></span>

<span data-ttu-id="d6f0e-108">En las aplicaciones distribuidas y basadas en la nube, los componentes del sistema a menudo necesitan proporcionar información a otros componentes a medida que suceden los eventos.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-108">In cloud-based and distributed applications, components of the system often need to provide information to other components as events happen.</span></span>

<span data-ttu-id="d6f0e-109">La mensajería asincrónica es una forma eficaz de desacoplar a los remitentes de los consumidores y evitar bloquear al remitente para que espere una respuesta.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-109">Asynchronous messaging is an effective way to decouple senders from consumers, and avoid blocking the sender to wait for a response.</span></span> <span data-ttu-id="d6f0e-110">Sin embargo, el uso de una cola de mensajes dedicada para cada consumidor no es efectivo para muchos consumidores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-110">However, using a dedicated message queue for each consumer does not effectively scale to many consumers.</span></span> <span data-ttu-id="d6f0e-111">Además, algunos de los consumidores podrían estar interesados solo en un subconjunto de la información.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-111">Also, some of the consumers might be interested in only a subset of the information.</span></span> <span data-ttu-id="d6f0e-112">¿Cómo puede el remitente anunciar eventos a todos los consumidores interesados sin conocer su identidad?</span><span class="sxs-lookup"><span data-stu-id="d6f0e-112">How can the sender announce events to all interested consumers without knowing their identities?</span></span>

## <a name="solution"></a><span data-ttu-id="d6f0e-113">Solución</span><span class="sxs-lookup"><span data-stu-id="d6f0e-113">Solution</span></span>

<span data-ttu-id="d6f0e-114">Introduzca un subsistema de mensajería asincrónica que incluya lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-114">Introduce an asynchronous messaging subsystem that includes the following:</span></span>

- <span data-ttu-id="d6f0e-115">Un canal de mensajería de entrada utilizado por el remitente.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-115">An input messaging channel used by the sender.</span></span> <span data-ttu-id="d6f0e-116">El remitente empaqueta los eventos en mensajes, mediante un formato de mensaje conocido, y envía estos mensajes a través del canal de entrada.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-116">The sender packages events into messages, using a known message format, and sends these messages via the input channel.</span></span> <span data-ttu-id="d6f0e-117">El remitente en este patrón también se denomina *publicador*.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-117">The sender in this pattern is also called the *publisher*.</span></span>

  > [!NOTE]
  > <span data-ttu-id="d6f0e-118">Un *mensaje* es un paquete de datos.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-118">A *message* is a packet of data.</span></span> <span data-ttu-id="d6f0e-119">Un *evento* es un mensaje que notifica a otros componentes sobre un cambio o una acción que ha tenido lugar.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-119">An *event* is a message that notifies other components about a change or an action that has taken place.</span></span>

- <span data-ttu-id="d6f0e-120">Un canal de mensajería de salida por consumidor.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-120">One output messaging channel per consumer.</span></span> <span data-ttu-id="d6f0e-121">Los consumidores se conocen como *suscriptores*.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-121">The consumers are known as *subscribers*.</span></span>

- <span data-ttu-id="d6f0e-122">Un mecanismo para copiar cada mensaje del canal de entrada a los canales de salida para todos los suscriptores interesados en ese mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-122">A mechanism for copying each message from the input channel to the output channels for all subscribers interested in that message.</span></span> <span data-ttu-id="d6f0e-123">Esta operación la controla típicamente un intermediario tal como un agente de mensajes o un bus de eventos.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-123">This operation is typically handled by a intermediary such as a message broker or event bus.</span></span>

<span data-ttu-id="d6f0e-124">En el siguiente diagrama se muestran los componentes lógicos de este patrón:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-124">The following diagram shows the logical components of this pattern:</span></span>

![Patrón de publicador y suscriptor mediante un agente de mensajes](./_images/publish-subscribe.png)
 
<span data-ttu-id="d6f0e-126">La mensajería de publicación y suscripción tiene las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-126">Pub/sub messaging has the following benefits:</span></span>

- <span data-ttu-id="d6f0e-127">Desacopla los subsistemas que aún necesitan comunicarse.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-127">It decouples subsystems that still need to communicate.</span></span> <span data-ttu-id="d6f0e-128">Los subsistemas se pueden administrar de forma independiente y los mensajes se pueden administrar correctamente incluso si uno o más receptores están desconectados.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-128">Subsystems can be managed independently, and messages can be properly managed even if one or more receivers are offline.</span></span>

- <span data-ttu-id="d6f0e-129">Aumenta la escalabilidad y mejora la capacidad de respuesta del remitente.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-129">It increases scalability and improves responsiveness of the sender.</span></span> <span data-ttu-id="d6f0e-130">El remitente puede enviar rápidamente un solo mensaje al canal de entrada y luego volver a sus responsabilidades de procesamiento principales.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-130">The sender can quickly send a single message to the input channel, then return to its core processing responsibilities.</span></span> <span data-ttu-id="d6f0e-131">La infraestructura de mensajería es responsable de garantizar que los mensajes se entreguen a los suscriptores interesados.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-131">The messaging infrastructure is responsible for ensuring messages are delivered to interested subscribers.</span></span>

- <span data-ttu-id="d6f0e-132">Mejora la confiabilidad.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-132">It improves reliability.</span></span> <span data-ttu-id="d6f0e-133">La mensajería asincrónica ayuda a que las aplicaciones continúen funcionando sin problemas bajo cargas cada vez mayores y controlen los errores intermitentes con mayor eficacia.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-133">Asynchronous messaging helps applications continue to run smoothly under increased loads and handle intermittent failures more effectively.</span></span>

- <span data-ttu-id="d6f0e-134">Permite el procesamiento diferido o programado.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-134">It allows for deferred or scheduled processing.</span></span> <span data-ttu-id="d6f0e-135">Los suscriptores pueden esperar para recoger los mensajes hasta las horas de menor consumo, o los mensajes pueden enrutarse o procesarse de acuerdo a un horario específico.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-135">Subscribers can wait to pick up messages until off-peak hours, or messages can be routed or processed according to a specific schedule.</span></span>

- <span data-ttu-id="d6f0e-136">Permite una integración más sencilla entre sistemas que utilizan diferentes plataformas, lenguajes de programación o protocolos de comunicación, así como entre sistemas locales y aplicaciones que se ejecutan en la nube.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-136">It enables simpler integration between systems using different platforms, programming languages, or communication protocols, as well as between on-premises systems and applications running in the cloud.</span></span>

- <span data-ttu-id="d6f0e-137">Facilita flujos de trabajo asincrónicos en toda la empresa.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-137">It facilitates asynchronous workflows across an enterprise.</span></span>

- <span data-ttu-id="d6f0e-138">Mejora la capacidad de prueba.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-138">It improves testability.</span></span> <span data-ttu-id="d6f0e-139">Los canales pueden supervisarse y los mensajes se pueden inspeccionar o registrar como parte de una estrategia general de pruebas de integración.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-139">Channels can be monitored and messages can be inspected or logged as part of an overall integration test strategy.</span></span>

- <span data-ttu-id="d6f0e-140">Proporciona separación de preocupaciones para sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-140">It provides separation of concerns for your applications.</span></span> <span data-ttu-id="d6f0e-141">Cada aplicación puede centrarse en sus funcionalidades principales, mientras que la infraestructura de mensajería controla todo lo necesario para enrutar de forma fiable los mensajes a múltiples consumidores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-141">Each application can focus on its core capabilities, while the messaging infrastructure handles everything required to reliably route messages to multiple consumers.</span></span> 

## <a name="issues-and-considerations"></a><span data-ttu-id="d6f0e-142">Problemas y consideraciones</span><span class="sxs-lookup"><span data-stu-id="d6f0e-142">Issues and considerations</span></span>

<span data-ttu-id="d6f0e-143">Tenga en cuenta los puntos siguientes al decidir cómo implementar este patrón:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-143">Consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="d6f0e-144">**Tecnologías existentes.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-144">**Existing technologies.**</span></span> <span data-ttu-id="d6f0e-145">Se recomienda encarecidamente utilizar los productos y servicios de mensajería disponibles que admiten un modelo de publicación y suscripción, en lugar de crear uno propio.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-145">It is strongly recommended to use available messaging products and services that support a publish-subscribe model, rather than building your own.</span></span> <span data-ttu-id="d6f0e-146">En Azure, considere el uso de [Service Bus](/azure/service-bus-messaging/) o [Event Grid](/azure/event-grid/).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-146">In Azure, consider using [Service Bus](/azure/service-bus-messaging/) or [Event Grid](/azure/event-grid/).</span></span> <span data-ttu-id="d6f0e-147">Otras tecnologías que se pueden utilizar para la mensajería de publicación y suscripción incluyen Redis, RabbitMQ y Apache Kafka.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-147">Other technologies that can be used for pub/sub messaging include Redis, RabbitMQ, and Apache Kafka.</span></span>

- <span data-ttu-id="d6f0e-148">**Control de suscripciones.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-148">**Subscription handling.**</span></span> <span data-ttu-id="d6f0e-149">La infraestructura de mensajería debe proporcionar mecanismos que los consumidores puedan utilizar para suscribirse o darse de baja de los canales disponibles.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-149">The messaging infrastructure must provide mechanisms that consumers can use to subscribe to or unsubscribe from available channels.</span></span>

- <span data-ttu-id="d6f0e-150">**Seguridad.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-150">**Security.**</span></span> <span data-ttu-id="d6f0e-151">La conexión a cualquier canal de mensajes debe estar restringida por una directiva de seguridad para evitar que usuarios o aplicaciones no autorizados resulten interceptados.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-151">Connecting to any message channel must be restricted by security policy to prevent eavesdropping by unauthorized users or applications.</span></span>

- <span data-ttu-id="d6f0e-152">**Subconjuntos de mensajes.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-152">**Subsets of messages.**</span></span> <span data-ttu-id="d6f0e-153">Por lo general, los suscriptores solo están interesados en el subconjunto de los mensajes distribuidos por un publicador.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-153">Subscribers are usually only interested in subset of the messages distributed by a publisher.</span></span> <span data-ttu-id="d6f0e-154">Los servicios de mensajería a menudo permiten a los suscriptores reducir el conjunto de mensajes recibidos por:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-154">Messaging services often allow subscribers to narrow the set of messages received by:</span></span>

  - <span data-ttu-id="d6f0e-155">**Temas.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-155">**Topics.**</span></span> <span data-ttu-id="d6f0e-156">Cada tema tiene un canal de salida dedicado, y cada consumidor puede suscribirse a todos los temas pertinentes.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-156">Each topic has a dedicated output channel, and each consumer can subscribe to all relevant topics.</span></span>
  - <span data-ttu-id="d6f0e-157">**Filtrado de contenido.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-157">**Content filtering.**</span></span> <span data-ttu-id="d6f0e-158">Los mensajes se inspeccionan y se distribuyen según el contenido de cada mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-158">Messages are inspected and distributed based on the content of each message.</span></span> <span data-ttu-id="d6f0e-159">Cada suscriptor puede especificar el contenido que le interesa.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-159">Each subscriber can specify the content it is interested in.</span></span>

- <span data-ttu-id="d6f0e-160">**Suscriptores con caracteres comodín.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-160">**Wildcard subscribers.**</span></span> <span data-ttu-id="d6f0e-161">Considere la posibilidad de permitir que los suscriptores se suscriban a varios temas mediante caracteres comodín.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-161">Consider allowing subscribers to subscribe to multiple topics via wildcards.</span></span>

- <span data-ttu-id="d6f0e-162">**Comunicación bidireccional.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-162">**Bi-directional communication.**</span></span> <span data-ttu-id="d6f0e-163">Los canales en un sistema de publicación y suscripción se tratan como unidireccionales.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-163">The channels in a publish-subscribe system are treated as unidirectional.</span></span> <span data-ttu-id="d6f0e-164">Si un suscriptor específico necesita enviar una confirmación o comunicar el estado al editor, considere la posibilidad de utilizar el [patrón de solicitud o respuesta](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-164">If a specific subscriber needs to send acknowledgement or communicate status back to the publisher, consider using the [Request/Reply Pattern](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span></span> <span data-ttu-id="d6f0e-165">Este patrón utiliza un canal para enviar un mensaje al suscriptor y un canal de respuesta separado para comunicarse con el publicador.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-165">This pattern uses one channel to send a message to the subscriber, and a separate reply channel for communicating back to the publisher.</span></span>

- <span data-ttu-id="d6f0e-166">**Orden de los mensajes.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-166">**Message ordering.**</span></span> <span data-ttu-id="d6f0e-167">El orden en que las instancias de consumidor reciben los mensajes no está garantizado y no refleja necesariamente el orden en que se crearon los mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-167">The order in which consumer instances receive messages isn't guaranteed, and doesn't necessarily reflect the order in which the messages were created.</span></span> <span data-ttu-id="d6f0e-168">Diseñe el sistema para asegurarse de que el procesamiento de mensajes sea idempotente para eliminar cualquier dependencia en el orden en el que se administran los mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-168">Design the system to ensure that message processing is idempotent to help eliminate any dependency on the order of message handling.</span></span>

- <span data-ttu-id="d6f0e-169">**Prioridad del mensaje.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-169">**Message priority.**</span></span> <span data-ttu-id="d6f0e-170">Algunas soluciones pueden requerir que los mensajes se procesen en un orden específico.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-170">Some solutions may require that messages are processed in a specific order.</span></span> <span data-ttu-id="d6f0e-171">El [patrón de cola de prioridad](priority-queue.md) proporciona un mecanismo para garantizar que determinados mensajes se entreguen antes que otros.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-171">The [Priority Queue pattern](priority-queue.md) provides a mechanism for ensuring specific messages are delivered before others.</span></span>

- <span data-ttu-id="d6f0e-172">**Mensajes dudosos.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-172">**Poison messages.**</span></span> <span data-ttu-id="d6f0e-173">Un mensaje con formato incorrecto, o una tarea que requiere acceso a recursos que no están disponibles, puede hacer que una instancia de servicio produzca un error.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-173">A malformed message, or a task that requires access to resources that aren't available, can cause a service instance to fail.</span></span> <span data-ttu-id="d6f0e-174">El sistema debe impedir que dichos mensajes vuelvan a la cola.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-174">The system should prevent such messages being returned to the queue.</span></span> <span data-ttu-id="d6f0e-175">En su lugar, capture y almacene los detalles de estos mensajes en otro lugar para que se puedan analizar si es necesario.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-175">Instead, capture and store the details of these messages elsewhere so that they can be analyzed if necessary.</span></span>

- <span data-ttu-id="d6f0e-176">**Mensajes repetidos.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-176">**Repeated messages.**</span></span> <span data-ttu-id="d6f0e-177">El mismo mensaje se puede enviar varias veces.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-177">The same message might be sent more than once.</span></span> <span data-ttu-id="d6f0e-178">Por ejemplo, puede producirse un error después de que el remitente publique un mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-178">For example, the sender might fail after posting a message.</span></span> <span data-ttu-id="d6f0e-179">A continuación, una nueva instancia del remitente podría iniciarse y repetir el mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-179">Then a new instance of the sender might start up and repeat the message.</span></span> <span data-ttu-id="d6f0e-180">La infraestructura de mensajería debe implementar la detección y eliminación de mensajes duplicados (también conocida como deduplicación) basada en identificadores de mensajes para proporcionar la entrega de mensajes de una sola vez.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-180">The messaging infrastructure should implement duplicate message detection and removal (also known as de-duping) based on message IDs in order to provide at-most-once delivery of messages.</span></span>

- <span data-ttu-id="d6f0e-181">**Expiración de mensajes.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-181">**Message expiration.**</span></span> <span data-ttu-id="d6f0e-182">Un mensaje puede tener una duración limitada.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-182">A message might have a limited lifetime.</span></span> <span data-ttu-id="d6f0e-183">Si no se procesa dentro de este período, es posible que ya no sea pertinente y se debe descartar.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-183">If it isn't processed within this period, it might no longer be relevant and should be discarded.</span></span> <span data-ttu-id="d6f0e-184">Un remitente puede especificar un tiempo de experimentación como parte de los datos del mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-184">A sender can specify an experiation time as part of the data in the message.</span></span> <span data-ttu-id="d6f0e-185">Un receptor puede examinar esta información antes de decidir si desea realizar la lógica de negocios asociada con el mensaje.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-185">A receiver can examine this information before deciding whether to perform the business logic associated with the message.</span></span>

- <span data-ttu-id="d6f0e-186">**Programación de mensajes.**</span><span class="sxs-lookup"><span data-stu-id="d6f0e-186">**Message scheduling.**</span></span> <span data-ttu-id="d6f0e-187">Un mensaje puede estar prohibido temporalmente y no debe procesarse hasta una fecha y hora específicas.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-187">A message might be temporarily embargoed and should not be processed until a specific date and time.</span></span> <span data-ttu-id="d6f0e-188">El mensaje no debe estar disponible para un receptor hasta ese momento.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-188">The message should not be available to a receiver until this time.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="d6f0e-189">Cuándo usar este patrón</span><span class="sxs-lookup"><span data-stu-id="d6f0e-189">When to use this pattern</span></span>

<span data-ttu-id="d6f0e-190">Use este patrón en los siguientes supuestos:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-190">Use this pattern when:</span></span>

- <span data-ttu-id="d6f0e-191">Una aplicación necesita difundir información a un número significativo de consumidores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-191">An application needs to broadcast information to a significant number of consumers.</span></span>

- <span data-ttu-id="d6f0e-192">Una aplicación necesita comunicarse con una o más aplicaciones o servicios desarrollados de forma independiente, que pueden utilizar diferentes plataformas, lenguajes de programación y protocolos de comunicación.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-192">An application needs to communicate with one or more independently-developed applications or services, which may use different platforms, programming languages, and communication protocols.</span></span>

- <span data-ttu-id="d6f0e-193">Una aplicación puede enviar información a los consumidores sin requerir respuestas en tiempo real de los consumidores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-193">An application can send information to consumers without requiring real-time responses from the consumers.</span></span>

- <span data-ttu-id="d6f0e-194">Los sistemas que se están integrando están diseñados para admitir un eventual modelo de consistencia para sus datos.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-194">The systems being integrated are designed to support an eventual consistency model for their data.</span></span>

- <span data-ttu-id="d6f0e-195">Una aplicación necesita comunicar información a varios consumidores, que pueden tener diferentes requisitos de disponibilidad o programaciones de tiempo de actividad que el remitente.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-195">An application needs to communicate information to multiple consumers, which may have different availability requirements or uptime schedules than the sender.</span></span>

<span data-ttu-id="d6f0e-196">Este modelo podría no ser útil en las situaciones siguientes:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-196">This pattern might not be useful when:</span></span>

- <span data-ttu-id="d6f0e-197">Una aplicación tiene solo unos pocos consumidores que necesitan información significativamente diferente de la aplicación que la produce.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-197">An application has only a few consumers who need significantly different information from the producing application.</span></span>

- <span data-ttu-id="d6f0e-198">Una aplicación requiere una interacción casi en tiempo real con los consumidores.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-198">An application requires near real-time interaction with consumers.</span></span>

## <a name="example"></a><span data-ttu-id="d6f0e-199">Ejemplo</span><span class="sxs-lookup"><span data-stu-id="d6f0e-199">Example</span></span>

<span data-ttu-id="d6f0e-200">El siguiente diagrama muestra una arquitectura de integración empresarial que utiliza Service Bus para coordinar los flujos de trabajo, y Event Grid notifica a los subsistemas de los eventos que ocurren.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-200">The following diagram shows an enterprise integration architecture that uses Service Bus to coordinate workflows, and Event Grid notify subsystems of events that occur.</span></span> <span data-ttu-id="d6f0e-201">Para más información, consulte [Integración empresarial en Azure mediante colas de mensajes y eventos](../reference-architectures/enterprise-integration/queues-events.md).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-201">For more information, see [Enterprise integration on Azure using message queues and events](../reference-architectures/enterprise-integration/queues-events.md).</span></span>

![Arquitectura de integración empresarial](../reference-architectures/enterprise-integration/_images/enterprise-integration-queues-events.png)

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="d6f0e-203">Orientación y patrones relacionados</span><span class="sxs-lookup"><span data-stu-id="d6f0e-203">Related patterns and guidance</span></span>

<span data-ttu-id="d6f0e-204">Los patrones y las directrices siguientes podrían ser importantes a la hora de implementar este patrón:</span><span class="sxs-lookup"><span data-stu-id="d6f0e-204">The following patterns and guidance might be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="d6f0e-205">[Elija entre los servicios de Azure de entrega de mensajes](/azure/event-grid/compare-messaging-services).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-205">[Choose between Azure services that deliver messages](/azure/event-grid/compare-messaging-services).</span></span>

- <span data-ttu-id="d6f0e-206">El [estilo de arquitectura basada en eventos](../guide/architecture-styles/event-driven.md) es un estilo de arquitectura que utiliza la mensajería de publicación y suscripción.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-206">The [Event-driven architecture style](../guide/architecture-styles/event-driven.md) is an architecture style that uses pub/sub messaging.</span></span>

- <span data-ttu-id="d6f0e-207">[Manual de mensajería asincrónica](https://msdn.microsoft.com/library/dn589781.aspx).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-207">[Asynchronous Messaging Primer](https://msdn.microsoft.com/library/dn589781.aspx).</span></span> <span data-ttu-id="d6f0e-208">Las colas de mensajes son un mecanismo de comunicaciones asincrónico.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-208">Message queues are an asynchronous communications mechanism.</span></span> <span data-ttu-id="d6f0e-209">Si un servicio de consumidor debe enviar una respuesta a una aplicación, podría ser necesario implementar alguna forma de mensajería de respuesta.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-209">If a consumer service needs to send a reply to an application, it might be necessary to implement some form of response messaging.</span></span> <span data-ttu-id="d6f0e-210">En Asynchronous Messaging Primer se proporciona información sobre cómo implementar la mensajería de solicitud/respuesta con colas de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-210">The Asynchronous Messaging Primer provides information on how to implement request/reply messaging using message queues.</span></span>

- <span data-ttu-id="d6f0e-211">[Patrón de observador](https://en.wikipedia.org/wiki/Observer_pattern).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-211">[Observer Pattern](https://en.wikipedia.org/wiki/Observer_pattern).</span></span> <span data-ttu-id="d6f0e-212">El patrón de publicador y suscriptor se basa en el patrón de observador al desacoplar los sujetos de los observadores a través de la mensajería asincrónica.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-212">The Publish-Subscribe pattern builds on the Observer pattern by decoupling subjects from observers via asynchronous messaging.</span></span>

- <span data-ttu-id="d6f0e-213">[Patrón de agente de mensajes](https://en.wikipedia.org/wiki/Message_broker).</span><span class="sxs-lookup"><span data-stu-id="d6f0e-213">[Message Broker Pattern](https://en.wikipedia.org/wiki/Message_broker).</span></span> <span data-ttu-id="d6f0e-214">Muchos subsistemas de mensajería que admiten un modelo de publicación y suscripción se implementan mediante un servidor de mensajes.</span><span class="sxs-lookup"><span data-stu-id="d6f0e-214">Many messaging subsystems that support a publish-subscribe modek are implemented via a message broker.</span></span>
